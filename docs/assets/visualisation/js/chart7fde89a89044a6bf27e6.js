(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[2392,1941,5072],{20133:(e,t,i)=>{var r=i(72645);t.pointVertex=r("./shader/point-vertex.glsl"),t.pointFragment=r("./shader/point-fragment.glsl"),t.pickVertex=r("./shader/pick-vertex.glsl"),t.pickFragment=r("./shader/pick-fragment.glsl")},22717:(e,t,i)=>{"use strict";var r=i(18057),o=i(28580),a=i(90316),s=i(20133);function n(e,t,i,r,o){this.plot=e,this.offsetBuffer=t,this.pickBuffer=i,this.shader=r,this.pickShader=o,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}e.exports=function(e,t){var i=e.gl,a=new n(e,o(i),o(i),r(i,s.pointVertex,s.pointFragment),r(i,s.pickVertex,s.pickFragment));return a.update(t),e.addObject(a),a};var l,c,d=n.prototype;d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},d.update=function(e){var t;function i(t,i){return t in e?e[t]:i}e=e||{},this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var r=e.positions.length>>>1,o=e.positions instanceof Float32Array,s=e.idToIndex instanceof Int32Array&&e.idToIndex.length>=r,n=e.positions,l=o?n:a.mallocFloat32(n.length),c=s?e.idToIndex:a.mallocInt32(r);if(o||l.set(n),!s)for(l.set(n),t=0;t<r;t++)c[t]=t;this.points=n,this.offsetBuffer.update(l),this.pickBuffer.update(c),o||a.free(l),s||a.free(c),this.pointCount=r,this.pickOffset=0},d.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0],function(e){var t=void 0!==e,i=t?this.pickShader:this.shader,r=this.plot.gl,o=this.plot.dataBox;if(0===this.pointCount)return e;var a=o[2]-o[0],s=o[3]-o[1],n=function(e,t){var i,r=0,o=e.length>>>1;for(i=0;i<o;i++){var a=e[2*i],s=e[2*i+1];a>=t[0]&&a<=t[2]&&s>=t[1]&&s<=t[3]&&r++}return r}(this.points,o),d=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(n,.33333)));l[0]=2/a,l[4]=2/s,l[6]=-2*o[0]/a-1,l[7]=-2*o[1]/s-1,this.offsetBuffer.bind(),i.bind(),i.attributes.position.pointer(),i.uniforms.matrix=l,i.uniforms.color=this.color,i.uniforms.borderColor=this.borderColor,i.uniforms.pointCloud=d<5,i.uniforms.pointSize=d,i.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),t&&(c[0]=255&e,c[1]=e>>8&255,c[2]=e>>16&255,c[3]=e>>24&255,this.pickBuffer.bind(),i.attributes.pickId.pointer(r.UNSIGNED_BYTE),i.uniforms.pickOffset=c,this.pickOffset=e);var p=r.getParameter(r.BLEND),h=r.getParameter(r.DITHER);return p&&!this.blend&&r.disable(r.BLEND),h&&r.disable(r.DITHER),r.drawArrays(r.POINTS,0,this.pointCount),p&&!this.blend&&r.enable(r.BLEND),h&&r.enable(r.DITHER),e+this.pointCount}),d.draw=d.unifiedDraw,d.drawPick=d.unifiedDraw,d.pick=function(e,t,i){var r=this.pickOffset,o=this.pointCount;if(i<r||i>=r+o)return null;var a=i-r,s=this.points;return{object:this,pointId:a,dataCoord:[s[2*a],s[2*a+1]]}}},69136:(e,t,i)=>{"use strict";e.exports=i(83980)},67476:(e,t,i)=>{"use strict";var r=i(15451);e.exports={x:r.x,y:r.y,xy:{valType:"data_array",editType:"calc",description:["Faster alternative to specifying `x` and `y` separately.","If supplied, it must be a typed `Float32Array` array that","represents points such that `xy[i * 2] = x[i]` and `xy[i * 2 + 1] = y[i]`"].join(" ")},indices:{valType:"data_array",editType:"calc",description:["A sequential value, 0..n, supply it to avoid creating this array inside plotting.","If specified, it must be a typed `Int32Array` array.","Its length must be equal to or greater than the number of points.","For the best performance and memory use, create one large `indices` typed array","that is guaranteed to be at least as long as the largest number of points during","use, and reuse it on each `Plotly.restyle()` call."].join(" ")},xbounds:{valType:"data_array",editType:"calc",description:["Specify `xbounds` in the shape of `[xMin, xMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `ybounds` for the performance benefits."].join(" ")},ybounds:{valType:"data_array",editType:"calc",description:["Specify `ybounds` in the shape of `[yMin, yMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `xbounds` for the performance benefits."].join(" ")},text:r.text,marker:{color:{valType:"color",arrayOk:!1,role:"style",editType:"calc",description:["Sets the marker fill color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join("")},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,role:"style",editType:"calc",description:["Sets the marker opacity. The default value is `1` (fully opaque).","If the markers are not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning.","Opacity fades the color even if `blend` is left on `false` even if there","is no translucency effect in that case."].join(" ")},blend:{valType:"boolean",dflt:null,role:"style",editType:"calc",description:["Determines if colors are blended together for a translucency effect","in case `opacity` is specified as a value less then `1`.","Setting `blend` to `true` reduces zoom/pan","speed if used with large numbers of points."].join(" ")},sizemin:{valType:"number",min:.1,max:2,dflt:.5,role:"style",editType:"calc",description:["Sets the minimum size (in px) of the rendered marker points, effective when","the `pointcloud` shows a million or more points."].join(" ")},sizemax:{valType:"number",min:.1,dflt:20,role:"style",editType:"calc",description:["Sets the maximum size (in px) of the rendered marker points.","Effective when the `pointcloud` shows only few points."].join(" ")},border:{color:{valType:"color",arrayOk:!1,role:"style",editType:"calc",description:["Sets the stroke color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join(" ")},arearatio:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Specifies what fraction of the marker area is covered with the","border."].join(" ")},editType:"calc"},editType:"calc"},transforms:void 0}},88872:(e,t,i)=>{"use strict";var r=i(22717),o=i(59993),a=i(5816).findExtremes,s=i(11883);function n(e,t){this.scene=e,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=r(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var l=n.prototype;l.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},l.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=s(e,{})},l.updateFast=function(e){var t,i,r,s,n,l,c=this.xData=this.pickXData=e.x,d=this.yData=this.pickYData=e.y,p=this.pickXYData=e.xy,h=e.xbounds&&e.ybounds,u=e.indices,f=this.bounds;if(p){if(r=p,t=p.length>>>1,h)f[0]=e.xbounds[0],f[2]=e.xbounds[1],f[1]=e.ybounds[0],f[3]=e.ybounds[1];else for(l=0;l<t;l++)s=r[2*l],n=r[2*l+1],s<f[0]&&(f[0]=s),s>f[2]&&(f[2]=s),n<f[1]&&(f[1]=n),n>f[3]&&(f[3]=n);if(u)i=u;else for(i=new Int32Array(t),l=0;l<t;l++)i[l]=l}else for(t=c.length,r=new Float32Array(2*t),i=new Int32Array(t),l=0;l<t;l++)s=c[l],n=d[l],i[l]=l,r[2*l]=s,r[2*l+1]=n,s<f[0]&&(f[0]=s),s>f[2]&&(f[2]=s),n<f[1]&&(f[1]=n),n>f[3]&&(f[3]=n);this.idToIndex=i,this.pointcloudOptions.idToIndex=i,this.pointcloudOptions.positions=r;var y=o(e.marker.color),m=o(e.marker.border.color),x=e.opacity*e.marker.opacity;y[3]*=x,this.pointcloudOptions.color=y;var b=e.marker.blend;null===b&&(b=c.length<100||d.length<100),this.pointcloudOptions.blend=b,m[3]*=x,this.pointcloudOptions.borderColor=m;var v=e.marker.sizemin,g=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=v,this.pointcloudOptions.sizeMax=g,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var k=this.scene.xaxis,T=this.scene.yaxis,w=g/2||.5;e._extremes[k._id]=a(k,[f[0],f[2]],{ppad:w}),e._extremes[T._id]=a(T,[f[1],f[3]],{ppad:w})},l.dispose=function(){this.pointcloud.dispose()},e.exports=function(e,t){var i=new n(e,t.uid);return i.update(t),i}},47171:(e,t,i)=>{"use strict";var r=i(34141),o=i(67476);e.exports=function(e,t,i){function a(i,a){return r.coerce(e,t,o,i,a)}a("x"),a("y"),a("xbounds"),a("ybounds"),e.xy&&e.xy instanceof Float32Array&&(t.xy=e.xy),e.indices&&e.indices instanceof Int32Array&&(t.indices=e.indices),a("text"),a("marker.color",i),a("marker.opacity"),a("marker.blend"),a("marker.sizemin"),a("marker.sizemax"),a("marker.border.color",i),a("marker.border.arearatio"),t._length=null}},83980:(e,t,i)=>{"use strict";e.exports={attributes:i(67476),supplyDefaults:i(47171),calc:i(78247),plot:i(88872),moduleType:"trace",name:"pointcloud",basePlotModule:i(22515),categories:["gl","gl2d","showLegend"],meta:{description:["The data visualized as a point cloud set in `x` and `y`","using the WebGl plotting engine."].join(" ")}}},77503:(e,t,i)=>{"use strict";var r=i(34141);e.exports=function(e,t){for(var i=0;i<e.length;i++)e[i].i=i;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var o=t.marker;if(o){r.mergeArrayCastPositive(o.size,e,"ms"),r.mergeArrayCastPositive(o.opacity,e,"mo"),r.mergeArray(o.symbol,e,"mx"),r.mergeArray(o.color,e,"mc");var a=o.line;o.line&&(r.mergeArray(a.color,e,"mlc"),r.mergeArrayCastPositive(a.width,e,"mlw"));var s=o.gradient;s&&"none"!==s.type&&(r.mergeArray(s.type,e,"mgt"),r.mergeArray(s.color,e,"mgc"))}}},39764:(e,t,i)=>{"use strict";var r=i(88003).hasColorscale,o=i(90336),a=i(32758);e.exports=function(e,t){a.hasLines(t)&&r(t,"line")&&o(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(t)&&(r(t,"marker")&&o(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&o(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},11883:(e,t,i)=>{"use strict";var r=i(57597),o=i(32758);e.exports=function(e,t){var i,a;if("lines"===e.mode)return(i=e.line.color)&&r.opacity(i)?i:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var s=t.mcc||(e.marker||{}).color,n=t.mlcc||((e.marker||{}).line||{}).color;return(a=s&&r.opacity(s)?s:n&&r.opacity(n)&&(t.mlw||((e.marker||{}).line||{}).width)?n:"")?r.opacity(a)<.3?r.addOpacity(a,.3):a:(i=(e.line||{}).color)&&r.opacity(i)&&o.hasLines(e)&&e.line.width?i:e.fillcolor}},78247:(e,t,i)=>{"use strict";var r=i(77503),o=i(39764);e.exports=function(e,t){var i=[{x:!1,y:!1,trace:t,t:{}}];return r(i,t),o(e,t),i}},41941:()=>{}}]);
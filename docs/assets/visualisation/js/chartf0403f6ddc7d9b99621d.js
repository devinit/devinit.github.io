(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[6770,1941,5072],{72754:(e,t,i)=>{"use strict";var r=i(56591);e.exports=function(e,t){var i=e.positions,n=e.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:e.vertexIntensityBounds,vectors:[],cells:[],coneOffset:e.coneOffset,colormap:e.colormap};if(0===e.positions.length)return t&&(t[0]=[0,0,0],t[1]=[0,0,0]),a;for(var o=0,s=1/0,l=-1/0,c=1/0,h=-1/0,u=1/0,d=-1/0,p=null,f=null,v=[],g=1/0,m=!1,y=0;y<i.length;y++){var x=i[y];s=Math.min(x[0],s),l=Math.max(x[0],l),c=Math.min(x[1],c),h=Math.max(x[1],h),u=Math.min(x[2],u),d=Math.max(x[2],d);var b=n[y];if(r.length(b)>o&&(o=r.length(b)),y){var M=2*r.distance(p,x)/(r.length(f)+r.length(b));M?(g=Math.min(g,M),m=!1):m=!0}m||(p=x,f=b),v.push(b)}var w=[s,c,u],S=[l,h,d];t&&(t[0]=w,t[1]=S),0===o&&(o=1);var T=1/o;isFinite(g)||(g=1),a.vectorScale=g;var z=e.coneSize||.5;e.absoluteConeSize&&(z=e.absoluteConeSize*T),a.coneScale=z,y=0;for(var _=0;y<i.length;y++)for(var A=(x=i[y])[0],k=x[1],C=x[2],I=v[y],L=r.length(I)*T,O=0;O<8;O++){a.positions.push([A,k,C,_++]),a.positions.push([A,k,C,_++]),a.positions.push([A,k,C,_++]),a.positions.push([A,k,C,_++]),a.positions.push([A,k,C,_++]),a.positions.push([A,k,C,_++]),a.vectors.push(I),a.vectors.push(I),a.vectors.push(I),a.vectors.push(I),a.vectors.push(I),a.vectors.push(I),a.vertexIntensity.push(L,L,L),a.vertexIntensity.push(L,L,L);var P=a.positions.length;a.cells.push([P-6,P-5,P-4],[P-3,P-2,P-1])}return a};var n=i(5875);e.exports.createMesh=i(66330),e.exports.createConeMesh=function(t,i){return e.exports.createMesh(t,i,{shaders:n,traceType:"cone"})}},66330:(e,t,i)=>{"use strict";var r=i(18057),n=i(28580),a=i(24324),o=i(86753),s=i(29401),l=i(64481),c=i(62861),h=i(60800),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(e,t,i,r,n,a,o,s,l,c,h){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=i,this.pickShader=r,this.trianglePositions=n,this.triangleVectors=a,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=o,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=h,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=u,this._view=u,this._projection=u,this._resolution=[1,1]}var p=d.prototype;function f(e,t){var i=r(e,t.meshShader.vertex,t.meshShader.fragment,null,t.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function v(e,t){var i=r(e,t.pickShader.vertex,t.pickShader.fragment,null,t.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}p.isOpaque=function(){return this.opacity>=1},p.isTransparent=function(){return this.opacity<1},p.pickSlots=1,p.setPickBase=function(e){this.pickId=e},p.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"lightPosition"in e&&(this.lightPosition=e.lightPosition),"opacity"in e&&(this.opacity=e.opacity),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),void 0!==e.tubeScale&&(this.tubeScale=e.tubeScale),void 0!==e.vectorScale&&(this.vectorScale=e.vectorScale),void 0!==e.coneScale&&(this.coneScale=e.coneScale),void 0!==e.coneOffset&&(this.coneOffset=e.coneOffset),e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(function(e){for(var t=h({colormap:e,nshades:256,format:"rgba"}),i=new Uint8Array(1024),r=0;r<256;++r){for(var n=t[r],a=0;a<3;++a)i[4*r+a]=n[a];i[4*r+3]=255*n[3]}return c(i,[256,256,4],[4,0,1])}(e.colormap)),this.texture.generateMipmap());var i=e.cells,r=e.positions,n=e.vectors;if(r&&i&&n){var a=[],o=[],s=[],l=[],u=[];this.cells=i,this.positions=r,this.vectors=n;var d=e.meshColor||[1,1,1,1],p=e.vertexIntensity,f=1/0,v=-1/0;if(p)if(e.vertexIntensityBounds)f=+e.vertexIntensityBounds[0],v=+e.vertexIntensityBounds[1];else for(var g=0;g<p.length;++g){var m=p[g];f=Math.min(f,m),v=Math.max(v,m)}else for(g=0;g<r.length;++g)m=r[g][2],f=Math.min(f,m),v=Math.max(v,m);for(this.intensity=p||function(e){for(var t=e.length,i=new Array(t),r=0;r<t;++r)i[r]=e[r][2];return i}(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],g=0;g<r.length;++g)for(var y=r[g],x=0;x<3;++x)!isNaN(y[x])&&isFinite(y[x])&&(this.bounds[0][x]=Math.min(this.bounds[0][x],y[x]),this.bounds[1][x]=Math.max(this.bounds[1][x],y[x]));var b=0;e:for(g=0;g<i.length;++g){var M=i[g];if(3===M.length){for(x=0;x<3;++x){y=r[S=M[x]];for(var w=0;w<3;++w)if(isNaN(y[w])||!isFinite(y[w]))continue e}for(x=0;x<3;++x){var S;y=r[S=M[2-x]],a.push(y[0],y[1],y[2],y[3]);var T=n[S];o.push(T[0],T[1],T[2],T[3]||0);var z,_=d;3===_.length?s.push(_[0],_[1],_[2],1):s.push(_[0],_[1],_[2],_[3]),z=p?[(p[S]-f)/(v-f),0]:[(y[2]-f)/(v-f),0],l.push(z[0],z[1]),u.push(g)}b+=1}}this.triangleCount=b,this.trianglePositions.update(a),this.triangleVectors.update(o),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(u))}},p.drawTransparent=p.draw=function(e){e=e||{};for(var t=this.gl,i=e.model||u,r=e.view||u,n=e.projection||u,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var c={model:i,view:r,projection:n,inverseModel:u.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),t.disable(t.CULL_FACE),this.texture.bind(0);var h=new Array(16);for(s(h,c.view,c.model),s(h,c.projection,h),l(h,h),o=0;o<3;++o)c.eyePosition[o]=h[12+o]/h[15];var d=h[15];for(o=0;o<3;++o)d+=this.lightPosition[o]*h[4*o+3];for(o=0;o<3;++o){for(var p=h[12+o],f=0;f<3;++f)p+=h[4*f+o]*this.lightPosition[f];c.lightPosition[o]=p/d}if(this.triangleCount>0){var v=this.triShader;v.bind(),v.uniforms=c,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},p.drawPick=function(e){e=e||{};for(var t=this.gl,i=e.model||u,r=e.view||u,n=e.projection||u,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(i),this._view=[].slice.call(r),this._projection=[].slice.call(n),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:i,view:r,projection:n,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},p.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[0]+256*e.value[1]+65536*e.value[2],i=this.cells[t],r=this.positions[i[1]].slice(0,3),n={position:r,dataCoordinate:r,index:Math.floor(i[1]/48)};return"cone"===this.traceType?n.index=Math.floor(i[1]/48):"streamtube"===this.traceType&&(n.intensity=this.intensity[i[1]],n.velocity=this.vectors[i[1]].slice(0,3),n.divergence=this.vectors[i[1]][3],n.index=t),n},p.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},e.exports=function(e,t,i){var r=i.shaders;1===arguments.length&&(e=(t=e).gl);var s=f(e,r),l=v(e,r),h=o(e,c(new Uint8Array([255,255,255,255]),[1,1,4]));h.generateMipmap(),h.minFilter=e.LINEAR_MIPMAP_LINEAR,h.magFilter=e.LINEAR;var u=n(e),p=n(e),g=n(e),m=n(e),y=n(e),x=a(e,[{buffer:u,type:e.FLOAT,size:4},{buffer:y,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:g,type:e.FLOAT,size:4},{buffer:m,type:e.FLOAT,size:2},{buffer:p,type:e.FLOAT,size:4}]),b=new d(e,h,s,l,u,p,y,g,m,x,i.traceType||"cone");return b.update(t),b}},5875:(e,t,i)=>{var r=i(72645),n=r("./triangle-vertex.glsl"),a=r("./triangle-fragment.glsl"),o=r("./pick-vertex.glsl"),s=r("./pick-fragment.glsl");t.meshShader={vertex:n,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},t.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},7127:e=>{e.exports=function(e,t){var i=t[0],r=t[1],n=t[2],a=t[3],o=i+i,s=r+r,l=n+n,c=i*o,h=r*o,u=r*s,d=n*o,p=n*s,f=n*l,v=a*o,g=a*s,m=a*l;return e[0]=1-u-f,e[1]=h+m,e[2]=d-g,e[3]=0,e[4]=h-m,e[5]=1-c-f,e[6]=p+v,e[7]=0,e[8]=d+g,e[9]=p-v,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},62512:e=>{e.exports=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}},22237:(e,t,i)=>{e.exports=function(e,t){var i=r(e[0],e[1],e[2]),o=r(t[0],t[1],t[2]);n(i,i),n(o,o);var s=a(i,o);return s>1?0:Math.acos(s)};var r=i(45221),n=i(60091),a=i(58368)},98798:e=>{e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},56522:e=>{e.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},39982:e=>{e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},23544:e=>{e.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},45507:(e,t,i)=>{e.exports=i(90176)},90176:e=>{e.exports=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}},67924:(e,t,i)=>{e.exports=i(97041)},97041:e=>{e.exports=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}},77159:e=>{e.exports=1e-6},488:(e,t,i)=>{e.exports=function(e,t){var i=e[0],n=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(i-o)<=r*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-s)<=r*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-l)<=r*Math.max(1,Math.abs(a),Math.abs(l))};var r=i(77159)},40180:e=>{e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},1170:e=>{e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},39003:(e,t,i)=>{e.exports=function(e,t,i,n,a,o){var s,l;for(t||(t=3),i||(i=0),l=n?Math.min(n*t+i,e.length):e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e};var r=i(23544)()},45221:e=>{e.exports=function(e,t,i){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=i,r}},56591:(e,t,i)=>{e.exports={EPSILON:i(77159),create:i(23544),clone:i(56522),angle:i(22237),fromValues:i(45221),copy:i(39982),set:i(2738),equals:i(488),exactEquals:i(40180),add:i(62512),subtract:i(64703),sub:i(69965),multiply:i(93943),mul:i(99007),divide:i(97041),div:i(67924),min:i(72234),max:i(91874),floor:i(1170),ceil:i(98798),round:i(42499),scale:i(54657),scaleAndAdd:i(80117),distance:i(90176),dist:i(45507),squaredDistance:i(60467),sqrDist:i(18399),length:i(97563),len:i(85421),squaredLength:i(91189),sqrLen:i(93729),negate:i(68811),inverse:i(82658),normalize:i(60091),dot:i(58368),cross:i(53858),lerp:i(6919),random:i(62563),transformMat4:i(91156),transformMat3:i(93459),transformQuat:i(21092),rotateX:i(43741),rotateY:i(13631),rotateZ:i(11586),forEach:i(39003)}},82658:e=>{e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},85421:(e,t,i)=>{e.exports=i(97563)},91874:e=>{e.exports=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}},72234:e=>{e.exports=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}},99007:(e,t,i)=>{e.exports=i(93943)},93943:e=>{e.exports=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}},68811:e=>{e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},62563:e=>{e.exports=function(e,t){t=t||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=r*t,e}},43741:e=>{e.exports=function(e,t,i,r){var n=i[1],a=i[2],o=t[1]-n,s=t[2]-a,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=n+o*c-s*l,e[2]=a+o*l+s*c,e}},13631:e=>{e.exports=function(e,t,i,r){var n=i[0],a=i[2],o=t[0]-n,s=t[2]-a,l=Math.sin(r),c=Math.cos(r);return e[0]=n+s*l+o*c,e[1]=t[1],e[2]=a+s*c-o*l,e}},11586:e=>{e.exports=function(e,t,i,r){var n=i[0],a=i[1],o=t[0]-n,s=t[1]-a,l=Math.sin(r),c=Math.cos(r);return e[0]=n+o*c-s*l,e[1]=a+o*l+s*c,e[2]=t[2],e}},42499:e=>{e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},54657:e=>{e.exports=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}},80117:e=>{e.exports=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}},2738:e=>{e.exports=function(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}},18399:(e,t,i)=>{e.exports=i(60467)},93729:(e,t,i)=>{e.exports=i(91189)},60467:e=>{e.exports=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}},91189:e=>{e.exports=function(e){var t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}},69965:(e,t,i)=>{e.exports=i(64703)},64703:e=>{e.exports=function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}},93459:e=>{e.exports=function(e,t,i){var r=t[0],n=t[1],a=t[2];return e[0]=r*i[0]+n*i[3]+a*i[6],e[1]=r*i[1]+n*i[4]+a*i[7],e[2]=r*i[2]+n*i[5]+a*i[8],e}},91156:e=>{e.exports=function(e,t,i){var r=t[0],n=t[1],a=t[2],o=i[3]*r+i[7]*n+i[11]*a+i[15];return o=o||1,e[0]=(i[0]*r+i[4]*n+i[8]*a+i[12])/o,e[1]=(i[1]*r+i[5]*n+i[9]*a+i[13])/o,e[2]=(i[2]*r+i[6]*n+i[10]*a+i[14])/o,e}},21092:e=>{e.exports=function(e,t,i){var r=t[0],n=t[1],a=t[2],o=i[0],s=i[1],l=i[2],c=i[3],h=c*r+s*a-l*n,u=c*n+l*r-o*a,d=c*a+o*n-s*r,p=-o*r-s*n-l*a;return e[0]=h*c+p*-o+u*-l-d*-s,e[1]=u*c+p*-s+d*-o-h*-l,e[2]=d*c+p*-l+h*-s-u*-o,e}},85094:(e,t,i)=>{"use strict";e.exports=i(53409)},44551:(e,t,i)=>{"use strict";var r=i(35924),n=i(97997),a=i(34141),o=i(69337),s=i(46493),l=i(44050),c=i(27961),h=i(82519),u=i(35531),d=i(23913),p=i(53522),f=i(77212).WEEKDAY_PATTERN,v=i(77212).HOUR_PATTERN;function g(e,t,i){function n(i,r){return a.coerce(e,t,s.rangebreaks,i,r)}if(n("enabled")){var o=n("bounds");if(o&&o.length>=2){var l,c,h="";if(2===o.length)for(l=0;l<2;l++)if(c=y(o[l])){h=f;break}var u=n("pattern",h);if(u===f)for(l=0;l<2;l++)(c=y(o[l]))&&(t.bounds[l]=o[l]=c-1);if(u)for(l=0;l<2;l++)switch(c=o[l],u){case f:if(!r(c))return void(t.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[l]=o[l]=c;break;case v:if(!r(c))return void(t.enabled=!1);if((c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[l]=o[l]=c}if(!1===i.autorange){var d=i.range;if(d[0]<d[1]){if(o[0]<d[0]&&o[1]>d[1])return void(t.enabled=!1)}else if(o[0]>d[0]&&o[1]<d[1])return void(t.enabled=!1)}}else{var p=n("values");if(!p||!p.length)return void(t.enabled=!1);n("dvalue")}}}e.exports=function(e,t,i,r,v){var m=r.letter,y=r.font||{},x=r.splomStash||{},b=i("visible",!r.visibleDflt),M=t._template||{},w=t.type||M.type||"-";"date"===w&&n.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),p(t,v);var S=!t.isValidRange(e.range);S&&r.reverseDflt&&(S="reversed"),!i("autorange",S)||"linear"!==w&&"-"!==w||i("rangemode"),i("range"),t.cleanRange(),u(e,t,i,r),"category"===w||r.noHover||i("hoverformat");var T=i("color"),z=T!==s.color.dflt?T:y.color,_=x.label||v._dfltTitle[m];if(h(e,t,i,w,r,{pass:1}),!b)return t;i("title.text",_),a.coerceFont(i,"title.font",{family:y.family,size:Math.round(1.2*y.size),color:z}),l(e,t,i,w),h(e,t,i,w,r,{pass:2}),c(e,t,i,r),d(e,t,i,{dfltColor:T,bgColor:r.bgColor,showGrid:r.showGrid,attributes:s}),(t.showline||t.ticks)&&i("mirror"),r.automargin&&i("automargin");var A,k="multicategory"===w;if(r.noTickson||"category"!==w&&!k||!t.ticks&&!t.showgrid||(k&&(A="boundaries"),i("tickson",A)),k&&i("showdividers")&&(i("dividercolor"),i("dividerwidth")),"date"===w)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===f){t._hasDayOfWeekBreaks=!0;break}if(p(t,v),v._has("scattergl")||v._has("splom"))for(var I=0;I<r.data.length;I++){var L=r.data[I];"scattergl"!==L.type&&"splom"!==L.type||(L.visible=!1,a.warn(L.type+" traces do not work on axes with rangebreaks. Setting trace "+L.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(e){if("string"==typeof e)return m[e.substr(0,3).toLowerCase()]}},35531:e=>{"use strict";e.exports=function(e,t,i,r){if("category"===t.type){var n,a=e.categoryarray,o=Array.isArray(a)&&a.length>0;o&&(n="array");var s,l=i("categoryorder",n);"array"===l&&(s=i("categoryarray")),o||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=s.slice():(s=function(e,t){var i,r,n,a=t.dataAttr||e._id.charAt(0),o={};if(t.axData)i=t.axData;else for(i=[],r=0;r<t.data.length;r++){var s=t.data[r];s[a+"axis"]===e._id&&i.push(s)}for(r=0;r<i.length;r++){var l=i[r][a];for(n=0;n<l.length;n++){var c=l[n];null!=c&&(o[c]=1)}}return Object.keys(o)}(t,r).sort(),"category ascending"===l?t._initialCategories=s:"category descending"===l&&(t._initialCategories=s.reverse()))}}},23913:(e,t,i)=>{"use strict";var r=i(17621).mix,n=i(28604).lightFraction,a=i(34141);e.exports=function(e,t,i,o){var s=(o=o||{}).dfltColor;function l(i,r){return a.coerce2(e,t,o.attributes,i,r)}var c=l("linecolor",s),h=l("linewidth");i("showline",o.showLine||!!c||!!h)||(delete t.linecolor,delete t.linewidth);var u=l("gridcolor",r(s,o.bgColor,o.blend||n).toRgbString()),d=l("gridwidth");if(i("showgrid",o.showGrid||!!u||!!d)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var p=l("zerolinecolor",s),f=l("zerolinewidth");i("zeroline",o.showGrid||!!p||!!f)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},37322:(e,t,i)=>{"use strict";var r=i(97997).traceIs,n=i(16757);function a(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var i=a(e),n=r(e,"box-violin"),o=r(e._fullInput||{},"candlestick");return n&&!o&&t===i&&void 0===e[i]&&void 0===e[i+"0"]}e.exports=function(e,t,i,s){"-"===i("type",(s.splomStash||{}).type)&&(function(e,t){if("-"===e.type){var i,s=e._id,l=s.charAt(0);-1!==s.indexOf("scene")&&(s=l);var c=function(e,t,i){for(var r=0;r<e.length;r++){var n=e[r];if("splom"===n.type&&n._length>0&&(n["_"+i+"axes"]||{})[t])return n;if((n[i+"axis"]||i)===t){if(o(n,i))return n;if((n[i]||[]).length||n[i+"0"])return n}}}(t,s,l);if(c)if("histogram"!==c.type||l!=={v:"y",h:"x"}[c.orientation||"v"]){var h=l+"calendar",u=c[h],d={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(d.noMultiCategory=!0),o(c,l)){var p=a(c),f=[];for(i=0;i<t.length;i++){var v=t[i];r(v,"box-violin")&&(v[l+"axis"]||l)===s&&(void 0!==v[p]?f.push(v[p][0]):void 0!==v.name?f.push(v.name):f.push("text"),v[h]!==u&&(u=void 0))}e.type=n(f,u,d)}else if("splom"===c.type){var g=c.dimensions[c._axesDim[s]];g.visible&&(e.type=n(g.values,u,d))}else e.type=n(c[l]||[c[l+"0"]],u,d)}else e.type="linear"}}(t,s.data),"-"===t.type?t.type="linear":e.type=t.type)}},72910:(e,t,i)=>{"use strict";var r=i(94867).extendFlat;t.Y=function(e,t){t=t||{};var i={valType:"info_array",role:"info",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=t.description?" "+t.description:"",s={x:r({},i,{description:["Sets the horizontal domain of this ",n,a,"(in plot fraction).",o].join("")}),y:r({},i,{description:["Sets the vertical domain of this ",n,a,"(in plot fraction).",o].join("")}),editType:e.editType};return e.noGridCell||(s.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,a,".",o].join("")},s.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,a,".",o].join("")}),s},t.c=function(e,t,i,r){var n=r&&r.x||[0,1],a=r&&r.y||[0,1],o=t.grid;if(o){var s=i("domain.column");void 0!==s&&(s<o.columns?n=o._domains.x[s]:delete e.domain.column);var l=i("domain.row");void 0!==l&&(l<o.rows?a=o._domains.y[l]:delete e.domain.row)}var c=i("domain.x",n),h=i("domain.y",a);c[0]<c[1]||(e.domain.x=n.slice()),h[0]<h[1]||(e.domain.y=a.slice())}},80647:e=>{"use strict";function t(e,t){var i,r,n=[0,0,0,0];for(i=0;i<4;++i)for(r=0;r<4;++r)n[r]+=e[4*i+r]*t[i];return n}e.exports=function(e,i){return t(e.projection,t(e.view,t(e.model,[i[0],i[1],i[2],1])))}},45032:(e,t,i)=>{"use strict";var r=i(85088),n=i(88176).f,a=i(83952),o=i(85485),s=i(94867).extendFlat,l={x:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the x coordinates of the vector field","and of the displayed cones."].join(" ")},y:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the y coordinates of the vector field","and of the displayed cones."].join(" ")},z:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the z coordinates of the vector field","and of the displayed cones."].join(" ")},u:{valType:"data_array",editType:"calc",description:"Sets the x components of the vector field."},v:{valType:"data_array",editType:"calc",description:"Sets the y components of the vector field."},w:{valType:"data_array",editType:"calc",description:"Sets the z components of the vector field."},sizemode:{valType:"enumerated",values:["scaled","absolute"],role:"info",editType:"calc",dflt:"scaled",description:["Determines whether `sizeref` is set as a *scaled* (i.e unitless) scalar","(normalized by the max u/v/w norm in the vector field) or as","*absolute* value (in the same units as the vector field)."].join(" ")},sizeref:{valType:"number",role:"info",editType:"calc",min:0,description:["Adjusts the cone size scaling.","The size of the cones is determined by their u/v/w norm multiplied a factor and `sizeref`.",'This factor (computed internally) corresponds to the minimum "time" to travel across',"two successive x/y/z positions at the average velocity of those two successive positions.","All cones in a given trace use the same factor.","With `sizemode` set to *scaled*, `sizeref` is unitless, its default value is *0.5*","With `sizemode` set to *absolute*, `sizeref` has the same units as the u/v/w vector field,","its the default value is half the sample's maximum vector norm."].join(" ")},anchor:{valType:"enumerated",role:"info",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm",description:["Sets the cones' anchor with respect to their x/y/z positions.","Note that *cm* denote the cone's center of mass which corresponds to","1/4 from the tail to tip."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the cones.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:n({editType:"calc"},{keys:["norm"]}),showlegend:s({},o.showlegend,{dflt:!1})};s(l,r("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach((function(e){l[e]=a[e]})),l.hoverinfo=s({},o.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,e.exports=l},16512:(e,t,i)=>{"use strict";var r=i(90336);e.exports=function(e,t){for(var i=t.u,n=t.v,a=t.w,o=Math.min(t.x.length,t.y.length,t.z.length,i.length,n.length,a.length),s=-1/0,l=1/0,c=0;c<o;c++){var h=i[c],u=n[c],d=a[c],p=Math.sqrt(h*h+u*u+d*d);s=Math.max(s,p),l=Math.min(l,p)}t._len=o,t._normMax=s,r(e,t,{vals:[l,s],containerStr:"",cLetter:"c"})}},97998:(e,t,i)=>{"use strict";var r=i(72754),n=i(72754).createConeMesh,a=i(34141).simpleMap,o=i(72106).parseColorScale,s=i(59430).extractOpts,l=i(98619);function c(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var h=c.prototype;h.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,i=this.data.x[t],r=this.data.y[t],n=this.data.z[t],a=this.data.u[t],o=this.data.v[t],s=this.data.w[t];e.traceCoordinate=[i,r,n,a,o,s,Math.sqrt(a*a+o*o+s*s)];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&void 0!==l[t]?e.textLabel=l[t]:l&&(e.textLabel=l),!0}};var u={xaxis:0,yaxis:1,zaxis:2},d={tip:1,tail:0,cm:.25,center:.5},p={tip:1,tail:1,cm:.75,center:.5};function f(e,t){var i=e.fullSceneLayout,n=e.dataScale,c={};function h(e,t){var r=i[t],o=n[u[t]];return a(e,(function(e){return r.d2l(e)*o}))}c.vectors=l(h(t.u,"xaxis"),h(t.v,"yaxis"),h(t.w,"zaxis"),t._len),c.positions=l(h(t.x,"xaxis"),h(t.y,"yaxis"),h(t.z,"zaxis"),t._len);var f=s(t);c.colormap=o(t),c.vertexIntensityBounds=[f.min/t._normMax,f.max/t._normMax],c.coneOffset=d[t.anchor],"scaled"===t.sizemode?c.coneSize=t.sizeref||.5:c.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var v=r(c),g=t.lightposition;return v.lightPosition=[g.x,g.y,g.z],v.ambient=t.lighting.ambient,v.diffuse=t.lighting.diffuse,v.specular=t.lighting.specular,v.roughness=t.lighting.roughness,v.fresnel=t.lighting.fresnel,v.opacity=t.opacity,t._pad=p[t.anchor]*v.vectorScale*v.coneScale*t._normMax,v}h.update=function(e){this.data=e;var t=f(this.scene,e);this.mesh.update(t)},h.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=function(e,t){var i=e.glplot.gl,r=f(e,t),a=n(i,r),o=new c(e,t.uid);return o.mesh=a,o.data=t,a._trace=o,e.glplot.add(a),o}},19783:(e,t,i)=>{"use strict";var r=i(34141),n=i(62252),a=i(45032);e.exports=function(e,t,i,o){function s(i,n){return r.coerce(e,t,a,i,n)}var l=s("u"),c=s("v"),h=s("w"),u=s("x"),d=s("y"),p=s("z");l&&l.length&&c&&c.length&&h&&h.length&&u&&u.length&&d&&d.length&&p&&p.length?(s("sizeref"),s("sizemode"),s("anchor"),s("lighting.ambient"),s("lighting.diffuse"),s("lighting.specular"),s("lighting.roughness"),s("lighting.fresnel"),s("lightposition.x"),s("lightposition.y"),s("lightposition.z"),n(e,t,o,s,{prefix:"",cLetter:"c"}),s("text"),s("hovertext"),s("hovertemplate"),t._length=null):t.visible=!1}},53409:(e,t,i)=>{"use strict";e.exports={moduleType:"trace",name:"cone",basePlotModule:i(20883),categories:["gl3d","showLegend"],attributes:i(45032),supplyDefaults:i(19783),colorbar:{min:"cmin",max:"cmax"},calc:i(16512),plot:i(97998),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{description:["Use cone traces to visualize vector fields.","","Specify a vector field using 6 1D arrays,","3 position arrays `x`, `y` and `z`","and 3 vector component arrays `u`, `v`, `w`.","The cones are drawn exactly at the positions given","by `x`, `y` and `z`."].join(" ")}}},41941:()=>{}}]);
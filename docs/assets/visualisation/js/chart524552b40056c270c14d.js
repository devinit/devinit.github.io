(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[5404],{45977:(e,t,a)=>{"use strict";e.exports=a(60458)},67855:(e,t,a)=>{"use strict";var r=a(15451),n=a(88176).f,i=a(88176).s,o=a(85088),s=a(38003),l=a(99928),c=a(94867).extendFlat,d=s({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),h=c({},r.marker.line.width,{dflt:0}),u=c({width:h,editType:"calc"},o("marker.line")),p=c({line:u,editType:"calc"},o("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,texttemplate:i({editType:"plot"},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:n({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",role:"info",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",role:"info",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:c({},d,{description:"Sets the font used for `text`."}),insidetextfont:c({},d,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:c({},d,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:c({},r.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:p,offsetgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},r:r.r,t:r.t,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},99928:e=>{"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},58061:(e,t,a)=>{"use strict";var r=a(34141),n=a(57597),i=a(97997),o=a(73978),s=a(30572),l=a(44790).getAxisGroup,c=a(67855),d=r.coerceFont;function h(e,t,a,r){var n=t.orientation,i=t[{v:"x",h:"y"}[n]+"axis"],o=l(a,i)+n,s=a._alignmentOpts||{},c=r("alignmentgroup"),d=s[o];d||(d=s[o]={});var h=d[c];h?h.traces.push(t):h=d[c]={traces:[t],alignmentIndex:Object.keys(d).length,offsetGroups:{}};var u=r("offsetgroup"),p=h.offsetGroups,f=p[u];u&&(f||(f=p[u]={offsetIndex:Object.keys(p).length}),t._offsetIndex=f.offsetIndex)}function u(e,t,a,n,i,o){var s=!(!1===(o=o||{}).moduleHasSelected),l=!(!1===o.moduleHasUnselected),c=!(!1===o.moduleHasConstrain),h=!(!1===o.moduleHasCliponaxis),u=!(!1===o.moduleHasTextangle),p=!(!1===o.moduleHasInsideanchor),f=!!o.hasPathbar,x=Array.isArray(i)||"auto"===i,y=x||"inside"===i,m=x||"outside"===i;if(y||m){var g=d(n,"textfont",a.font),v=r.extendFlat({},g),b=!(e.textfont&&e.textfont.color);if(b&&delete v.color,d(n,"insidetextfont",v),f){var k=r.extendFlat({},g);b&&delete k.color,d(n,"pathbar.textfont",k)}m&&d(n,"outsidetextfont",g),s&&n("selected.textfont.color"),l&&n("unselected.textfont.color"),c&&n("constraintext"),h&&n("cliponaxis"),u&&n("textangle"),n("texttemplate")}y&&p&&n("insidetextanchor")}e.exports={supplyDefaults:function(e,t,a,l){function d(a,n){return r.coerce(e,t,c,a,n)}if(o(e,t,l,d)){d("orientation",t.x&&!t.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var h=d("textposition");u(e,0,l,d,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(e,t,d,a,l);var p=(t.marker.line||{}).color,f=i.getComponentMethod("errorbars","supplyDefaults");f(e,t,p||n.defaultLine,{axis:"y"}),f(e,t,p||n.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,d)}else t.visible=!1},crossTraceDefaults:function(e,t){var a;function n(e){return r.coerce(a._input,a,c,e)}if("group"===t.barmode)for(var i=0;i<e.length;i++)"bar"===(a=e[i]).type&&(a._input,h(0,a,t,n))},handleGroupingDefaults:h,handleText:u}},30572:(e,t,a)=>{"use strict";var r=a(57597),n=a(88003).hasColorscale,i=a(62252);e.exports=function(e,t,a,o,s){a("marker.color",o),n(e,"marker")&&i(e,t,s,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",r.defaultLine),n(e,"marker.line")&&i(e,t,s,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),a("selected.marker.color"),a("unselected.marker.color")}},60319:(e,t,a)=>{"use strict";var r=a(97997),n=a(34141),i=a(34682),o=a(96843),s=a(90336),l=a(32021),c=a(66053),d=a(37353),h=a(68938),u=a(87926),p=a(45020).BADNUM;function f(e){for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];n!==p&&t.push(n)}return t}e.exports=function(e,t){var a,x,y,m,g,v,b,k,w,T=i.getFromId(e,t.xaxis||"x"),z=i.getFromId(e,t.yaxis||"y"),_=r.traceIs(t,"contour"),M=r.traceIs(t,"histogram"),A=r.traceIs(t,"gl2d"),D=_?"best":t.zsmooth;if(T._minDtick=0,z._minDtick=0,M)a=(w=o(e,t)).x,x=w.x0,y=w.dx,m=w.y,g=w.y0,v=w.dy,b=w.z;else{var L=t.z;n.isArray1D(L)?(l(t,T,z,"x","y",["z"]),a=t._x,m=t._y,L=t._z):(a=t._x=t.x?T.makeCalcdata(t,"x"):[],m=t._y=t.y?z.makeCalcdata(t,"y"):[]),x=t.x0,y=t.dx,g=t.y0,v=t.dy,b=c(L,t,T,z)}function I(e){D=t._input.zsmooth=t.zsmooth=!1,n.warn('cannot use zsmooth: "fast": '+e)}if((T.rangebreaks||z.rangebreaks)&&(b=function(e,t,a){for(var r=[],n=-1,i=0;i<a.length;i++)if(t[i]!==p){r[++n]=[];for(var o=0;o<a[i].length;o++)e[o]!==p&&r[n].push(a[i][o])}return r}(a,m,b),M||(a=f(a),m=f(m),t._x=a,t._y=m)),M||!_&&!t.connectgaps||(t._emptypoints=h(b),d(b,t._emptypoints)),"fast"===D)if("log"===T.type||"log"===z.type)I("log axis found");else if(!M){if(a.length){var C=(a[a.length-1]-a[0])/(a.length-1),S=Math.abs(C/100);for(k=0;k<a.length-1;k++)if(Math.abs(a[k+1]-a[k]-C)>S){I("x scale is not linear");break}}if(m.length&&"fast"===D){var R=(m[m.length-1]-m[0])/(m.length-1),j=Math.abs(R/100);for(k=0;k<m.length-1;k++)if(Math.abs(m[k+1]-m[k]-R)>j){I("y scale is not linear");break}}}var F=n.maxRowLength(b),H="scaled"===t.xtype?"":a,O=u(t,H,x,y,F,T),N="scaled"===t.ytype?"":m,V=u(t,N,g,v,b.length,z);A||(t._extremes[T._id]=i.findExtremes(T,O),t._extremes[z._id]=i.findExtremes(z,V));var B={x:O,y:V,z:b,text:t._text||t.text,hovertext:t._hovertext||t.hovertext};if(H&&H.length===O.length-1&&(B.xCenter=H),N&&N.length===V.length-1&&(B.yCenter=N),M&&(B.xRanges=w.xRanges,B.yRanges=w.yRanges,B.pts=w.pts),_||s(e,t,{vals:b,cLetter:"z"}),_&&t.contours&&"heatmap"===t.contours.coloring){var U={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};B.xfill=u(U,H,x,y,F,T),B.yfill=u(U,N,g,v,b.length,z)}return[B]}},95005:e=>{"use strict";e.exports={min:"zmin",max:"zmax"}},62981:(e,t,a)=>{"use strict";var r=a(87529),n=a(34141),i=a(34682),o=a(59430).extractOpts;e.exports=function(e,t,a,s,l,c){var d,h,u,p,f=e.cd[0],x=f.trace,y=e.xa,m=e.ya,g=f.x,v=f.y,b=f.z,k=f.xCenter,w=f.yCenter,T=f.zmask,z=x.zhoverformat,_=g,M=v;if(!1!==e.index){try{u=Math.round(e.index[1]),p=Math.round(e.index[0])}catch(t){return void n.error("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index)}if(u<0||u>=b[0].length||p<0||p>b.length)return}else{if(r.inbox(t-g[0],t-g[g.length-1],0)>0||r.inbox(a-v[0],a-v[v.length-1],0)>0)return;if(c){var A;for(_=[2*g[0]-g[1]],A=1;A<g.length;A++)_.push((g[A]+g[A-1])/2);for(_.push([2*g[g.length-1]-g[g.length-2]]),M=[2*v[0]-v[1]],A=1;A<v.length;A++)M.push((v[A]+v[A-1])/2);M.push([2*v[v.length-1]-v[v.length-2]])}u=Math.max(0,Math.min(_.length-2,n.findBin(t,_))),p=Math.max(0,Math.min(M.length-2,n.findBin(a,M)))}var D=y.c2p(g[u]),L=y.c2p(g[u+1]),I=m.c2p(v[p]),C=m.c2p(v[p+1]);c?(L=D,d=g[u],C=I,h=v[p]):(d=k?k[u]:(g[u]+g[u+1])/2,h=w?w[p]:(v[p]+v[p+1])/2,y&&"category"===y.type&&(d=g[u]),m&&"category"===m.type&&(h=v[p]),x.zsmooth&&(D=L=y.c2p(d),I=C=m.c2p(h)));var S=b[p][u];if(T&&!T[p][u]&&(S=void 0),void 0!==S||x.hoverongaps){var R;Array.isArray(f.hovertext)&&Array.isArray(f.hovertext[p])?R=f.hovertext[p][u]:Array.isArray(f.text)&&Array.isArray(f.text[p])&&(R=f.text[p][u]);var j=o(x),F={type:"linear",range:[j.min,j.max],hoverformat:z,_separators:y._separators,_numFormat:y._numFormat},H=i.tickText(F,S,"hover").text;return[n.extendFlat(e,{index:x._after2before?x._after2before[p][u]:[p,u],distance:e.maxHoverDistance,spikeDistance:e.maxSpikeDistance,x0:D,x1:L,y0:I,y1:C,xLabelVal:d,yLabelVal:h,zLabelVal:S,zLabel:H,text:R})]}}},40729:(e,t,a)=>{"use strict";var r=a(15078),n=a(17621),i=a(97997),o=a(34141),s=a(59430).makeColorScaleFuncFromTrace,l=a(96783);function c(e,t){var a=t.length-2,r=o.constrain(o.findBin(e,t),0,a),n=t[r],i=t[r+1],s=o.constrain(r+(e-n)/(i-n)-.5,0,a),l=Math.round(s),c=Math.abs(s-l);return s&&s!==a&&c?{bin0:l,frac:c,bin1:Math.round(l+c/(s-l))}:{bin0:l,bin1:l,frac:0}}function d(e,t){var a=t.length-1,r=o.constrain(o.findBin(e,t),0,a),n=t[r],i=(e-n)/(t[r+1]-n)||0;return i<=0?{bin0:r,bin1:r,frac:0}:i<.5?{bin0:r,bin1:r+1,frac:i}:{bin0:r+1,bin1:r,frac:1-i}}function h(e,t,a){e[t]=a[0],e[t+1]=a[1],e[t+2]=a[2],e[t+3]=Math.round(255*a[3])}e.exports=function(e,t,a,u){var p=t.xaxis,f=t.yaxis;o.makeTraceGroups(u,a,"hm").each((function(t){var a,u,x,y,m,g,v=r.select(this),b=t[0],k=b.trace,w=b.z,T=b.x,z=b.y,_=b.xCenter,M=b.yCenter,A=i.traceIs(k,"contour"),D=A?"best":k.zsmooth,L=w.length,I=o.maxRowLength(w),C=!1,S=!1;for(g=0;void 0===a&&g<T.length-1;)a=p.c2p(T[g]),g++;for(g=T.length-1;void 0===u&&g>0;)u=p.c2p(T[g]),g--;for(u<a&&(x=u,u=a,a=x,C=!0),g=0;void 0===y&&g<z.length-1;)y=f.c2p(z[g]),g++;for(g=z.length-1;void 0===m&&g>0;)m=f.c2p(z[g]),g--;if(m<y&&(x=y,y=m,m=x,S=!0),A&&(_=T,M=z,T=b.xfill,z=b.yfill),"fast"!==D){var R="best"===D?0:.5;a=Math.max(-R*p._length,a),u=Math.min((1+R)*p._length,u),y=Math.max(-R*f._length,y),m=Math.min((1+R)*f._length,m)}var j=Math.round(u-a),F=Math.round(m-y);if(j<=0||F<=0)v.selectAll("image").data([]).exit().remove();else{var H,O;"fast"===D?(H=I,O=L):(H=j,O=F);var N=document.createElement("canvas");N.width=H,N.height=O;var V,B,U=N.getContext("2d"),E=s(k,{noNumericCheck:!0,returnArray:!0});"fast"===D?(V=C?function(e){return I-1-e}:o.identity,B=S?function(e){return L-1-e}:o.identity):(V=function(e){return o.constrain(Math.round(p.c2p(T[e])-a),0,j)},B=function(e){return o.constrain(Math.round(f.c2p(z[e])-y),0,F)});var P,G,K,W,X,q=B(0),J=[q,q],Q=C?0:1,Y=S?0:1,Z=0,$=0,ee=0,te=0;if(D){var ae,re=0;try{ae=new Uint8Array(j*F*4)}catch(e){ae=new Array(j*F*4)}if("best"===D){var ne,ie,oe,se=_||T,le=M||z,ce=new Array(se.length),de=new Array(le.length),he=new Array(j),ue=_?d:c,pe=M?d:c;for(g=0;g<se.length;g++)ce[g]=Math.round(p.c2p(se[g])-a);for(g=0;g<le.length;g++)de[g]=Math.round(f.c2p(le[g])-y);for(g=0;g<j;g++)he[g]=ue(g,ce);for(G=0;G<F;G++)for(ie=w[(ne=pe(G,de)).bin0],oe=w[ne.bin1],g=0;g<j;g++,re+=4)h(ae,re,X=ze(ie,oe,he[g],ne))}else for(G=0;G<L;G++)for(W=w[G],J=B(G),g=0;g<j;g++)X=Te(W[g],1),h(ae,re=4*(J*j+V(g)),X);var fe=U.createImageData(j,F);try{fe.data.set(ae)}catch(e){var xe=fe.data,ye=xe.length;for(G=0;G<ye;G++)xe[G]=ae[G]}U.putImageData(fe,0,0)}else{var me=k.xgap,ge=k.ygap,ve=Math.floor(me/2),be=Math.floor(ge/2);for(G=0;G<L;G++)if(W=w[G],J.reverse(),J[Y]=B(G+1),J[0]!==J[1]&&void 0!==J[0]&&void 0!==J[1])for(P=[K=V(0),K],g=0;g<I;g++)P.reverse(),P[Q]=V(g+1),P[0]!==P[1]&&void 0!==P[0]&&void 0!==P[1]&&(X=Te(W[g],(P[1]-P[0])*(J[1]-J[0])),U.fillStyle="rgba("+X.join(",")+")",U.fillRect(P[0]+ve,J[0]+be,P[1]-P[0]-me,J[1]-J[0]-ge))}$=Math.round($/Z),ee=Math.round(ee/Z),te=Math.round(te/Z);var ke=n("rgb("+$+","+ee+","+te+")");e._hmpixcount=(e._hmpixcount||0)+Z,e._hmlumcount=(e._hmlumcount||0)+Z*ke.getLuminance();var we=v.selectAll("image").data(t);we.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),we.attr({height:F,width:j,x:a,y,"xlink:href":N.toDataURL("image/png")})}function Te(e,t){if(void 0!==e){var a=E(e);return a[0]=Math.round(a[0]),a[1]=Math.round(a[1]),a[2]=Math.round(a[2]),Z+=t,$+=a[0]*t,ee+=a[1]*t,te+=a[2]*t,a}return[0,0,0,0]}function ze(e,t,a,r){var n=e[a.bin0];if(void 0===n)return Te(void 0,1);var i,o=e[a.bin1],s=t[a.bin0],l=t[a.bin1],c=o-n||0,d=s-n||0;return i=void 0===o?void 0===l?0:void 0===s?2*(l-n):2*(2*l-s-n)/3:void 0===l?void 0===s?0:2*(2*n-o-s)/3:void 0===s?2*(2*l-o-n)/3:l+n-o-s,Te(n+a.frac*c+r.frac*(d+a.frac*i))}}))}},44369:(e,t,a)=>{"use strict";var r=a(15078);e.exports=function(e){r.select(e).selectAll(".hm image").style("opacity",(function(e){return e.trace.opacity}))}},3189:e=>{"use strict";e.exports=function(e,t,a){!1===a("zsmooth")&&(a("xgap"),a("ygap")),a("zhoverformat")}},66917:e=>{"use strict";e.exports=function(e,t,a,r,n){if(e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(e.z=t.zLabelVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),!(a.cumulative||{}).enabled){var i,o=Array.isArray(n)?r[0].pts[n[0]][n[1]]:r[n].pts;if(e.pointNumbers=o,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex,a._indexToPoints){i=[];for(var s=0;s<o.length;s++)i=i.concat(a._indexToPoints[o[s]])}else i=o;e.pointIndices=i}return e}},36836:(e,t,a)=>{"use strict";var r=a(13871),n=a(74199),i=a(58952),o=a(85485),s=a(88176).f,l=a(85088),c=a(94867).extendFlat;e.exports=c({x:r.x,y:r.y,z:{valType:"data_array",editType:"calc",description:"Sets the aggregation data."},marker:{color:{valType:"data_array",editType:"calc",description:"Sets the aggregation data."},editType:"calc"},histnorm:r.histnorm,histfunc:r.histfunc,nbinsx:r.nbinsx,xbins:n("x"),nbinsy:r.nbinsy,ybins:n("y"),autobinx:r.autobinx,autobiny:r.autobiny,bingroup:c({},r.bingroup,{description:["Set the `xbingroup` and `ybingroup` default prefix","For example, setting a `bingroup` of *1* on two histogram2d traces","will make them their x-bins and y-bins match separately."].join(" ")}),xbingroup:c({},r.bingroup,{description:["Set a group of histogram traces which will have compatible x-bin settings.","Using `xbingroup`, histogram2d and histogram2dcontour traces ","(on axes of the same axis type) can have compatible x-bin settings.","Note that the same `xbingroup` value can be used to set (1D) histogram `bingroup`"].join(" ")}),ybingroup:c({},r.bingroup,{description:["Set a group of histogram traces which will have compatible y-bin settings.","Using `ybingroup`, histogram2d and histogram2dcontour traces ","(on axes of the same axis type) can have compatible y-bin settings.","Note that the same `ybingroup` value can be used to set (1D) histogram `bingroup`"].join(" ")}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,zhoverformat:i.zhoverformat,hovertemplate:s({},{keys:"z"}),showlegend:c({},o.showlegend,{dflt:!1})},l("",{cLetter:"z",autoColorDflt:!1}))},96843:(e,t,a)=>{"use strict";var r=a(34141),n=a(34682),i=a(54459),o=a(74956),s=a(24814),l=a(92532),c=a(92877).calcAllAutoBins;function d(e,t,a,r){var n,i=new Array(e);if(r)for(n=0;n<e;n++)i[n]=1/(t[n+1]-t[n]);else{var o=1/a;for(n=0;n<e;n++)i[n]=o}return i}function h(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function u(e,t,a,r,n,i){var o,s=e.length-1,c=new Array(s),d=l(a,r,e,n,i);for(o=0;o<s;o++){var h=(t||[])[o];c[o]=void 0===h?[d(e[o]),d(e[o+1],!0)]:[h,h]}return c}e.exports=function(e,t){var a,l,p,f,x=n.getFromId(e,t.xaxis),y=n.getFromId(e,t.yaxis),m=t.xcalendar,g=t.ycalendar,v=function(e){return x.r2c(e,0,m)},b=function(e){return y.r2c(e,0,g)},k=c(e,t,x,"x"),w=k[0],T=k[1],z=c(e,t,y,"y"),_=z[0],M=z[1],A=t._length;T.length>A&&T.splice(A,T.length-A),M.length>A&&M.splice(A,M.length-A);var D=[],L=[],I=[],C="string"==typeof w.size,S="string"==typeof _.size,R=[],j=[],F=C?R:w,H=S?j:_,O=0,N=[],V=[],B=t.histnorm,U=t.histfunc,E=-1!==B.indexOf("density"),P="max"===U||"min"===U?null:0,G=i.count,K=o[B],W=!1,X=[],q=[],J="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";J&&"count"!==U&&(W="avg"===U,G=i[U]);var Q=w.size,Y=v(w.start),Z=v(w.end)+(Y-n.tickIncrement(Y,Q,!1,m))/1e6;for(a=Y;a<Z;a=n.tickIncrement(a,Q,!1,m))L.push(P),R.push(a),W&&I.push(0);R.push(a);var $,ee=L.length,te=(a-Y)/ee,ae=($=Y+te/2,x.c2r($,0,m)),re=_.size,ne=b(_.start),ie=b(_.end)+(ne-n.tickIncrement(ne,re,!1,g))/1e6;for(a=ne;a<ie;a=n.tickIncrement(a,re,!1,g)){D.push(L.slice()),j.push(a);var oe=new Array(ee);for(l=0;l<ee;l++)oe[l]=[];V.push(oe),W&&N.push(I.slice())}j.push(a);var se=D.length,le=(a-ne)/se,ce=function(e){return y.c2r(e,0,g)}(ne+le/2);E&&(X=d(L.length,F,te,C),q=d(D.length,H,le,S)),C||"date"!==x.type||(F=h(v,F)),S||"date"!==y.type||(H=h(b,H));var de=!0,he=!0,ue=new Array(ee),pe=new Array(se),fe=1/0,xe=1/0,ye=1/0,me=1/0;for(a=0;a<A;a++){var ge=T[a],ve=M[a];p=r.findBin(ge,F),f=r.findBin(ve,H),p>=0&&p<ee&&f>=0&&f<se&&(O+=G(p,a,D[f],J,N[f]),V[f][p].push(a),de&&(void 0===ue[p]?ue[p]=ge:ue[p]!==ge&&(de=!1)),he&&(void 0===pe[f]?pe[f]=ve:pe[f]!==ve&&(he=!1)),fe=Math.min(fe,ge-R[p]),xe=Math.min(xe,R[p+1]-ge),ye=Math.min(ye,ve-j[f]),me=Math.min(me,j[f+1]-ve))}if(W)for(f=0;f<se;f++)O+=s(D[f],N[f]);if(K)for(f=0;f<se;f++)K(D[f],O,X,q[f]);return{x:T,xRanges:u(R,de&&ue,fe,xe,x,m),x0:ae,dx:te,y:M,yRanges:u(j,he&&pe,ye,me,y,g),y0:ce,dy:le,z:D,pts:V}}},66348:(e,t,a)=>{"use strict";var r=a(34141),n=a(19667),i=a(3189),o=a(62252),s=a(36836);e.exports=function(e,t,a,l){function c(a,n){return r.coerce(e,t,s,a,n)}n(e,t,c,l),!1!==t.visible&&(i(e,t,c,l),o(e,t,l,c,{prefix:"",cLetter:"z"}),c("hovertemplate"))}},34944:(e,t,a)=>{"use strict";var r=a(62981),n=a(34682).hoverLabelText;e.exports=function(e,t,a,i,o,s){var l=r(e,t,a,i,o,s);if(l){var c=(e=l[0]).index,d=c[0],h=c[1],u=e.cd[0],p=u.xRanges[h],f=u.yRanges[d];return e.xLabel=n(e.xa,p[0],p[1]),e.yLabel=n(e.ya,f[0],f[1]),l}}},60458:(e,t,a)=>{"use strict";e.exports={attributes:a(36836),supplyDefaults:a(66348),crossTraceDefaults:a(63579),calc:a(60319),plot:a(40729),layerName:"heatmaplayer",colorbar:a(95005),style:a(44369),hoverPoints:a(34944),eventData:a(66917),moduleType:"trace",name:"histogram2d",basePlotModule:a(8095),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{hrName:"histogram_2d",description:["The sample data from which statistics are computed is set in `x`","and `y` (where `x` and `y` represent marginal distributions,","binning is set in `xbins` and `ybins` in this case)","or `z` (where `z` represent the 2D distribution and binning set,","binning is set by `x` and `y` in this case).","The resulting distribution is visualized as a heatmap."].join(" ")}}},19667:(e,t,a)=>{"use strict";var r=a(97997),n=a(34141);e.exports=function(e,t,a,i){var o=a("x"),s=a("y"),l=n.minRowLength(o),c=n.minRowLength(s);l&&c?(t._length=Math.min(l,c),r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],i),(a("z")||a("marker.color"))&&a("histfunc"),a("histnorm"),a("autobinx"),a("autobiny")):t.visible=!1}},73978:(e,t,a)=>{"use strict";var r=a(34141),n=a(97997);e.exports=function(e,t,a,i){var o,s=i("x"),l=i("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],a),s){var c=r.minRowLength(s);l?o=Math.min(c,r.minRowLength(l)):(o=c,i("y0"),i("dy"))}else{if(!l)return 0;o=r.minRowLength(l),i("x0"),i("dx")}return t._length=o,o}}}]);
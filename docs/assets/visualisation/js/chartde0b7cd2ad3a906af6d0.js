(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[7254],{7254:(e,t,a)=>{"use strict";e.exports=a(98822)},78875:(e,t,a)=>{"use strict";var i=a(67855),r=a(15451).line,l=a(85485),n=a(88176).f,o=a(88176).s,s=a(72397),c=a(94867).extendFlat,p=a(57597);function d(e){return{marker:{color:c({},i.marker.color,{arrayOk:!1,editType:"style",description:"Sets the marker color of all "+e+" values."}),line:{color:c({},i.marker.line.color,{arrayOk:!1,editType:"style",description:"Sets the line color of all "+e+" values."}),width:c({},i.marker.line.width,{arrayOk:!1,editType:"style",description:"Sets the line width of all "+e+" values."}),editType:"style"},editType:"style"},editType:"style"}}e.exports={measure:{valType:"data_array",dflt:[],role:"info",editType:"calc",description:["An array containing types of values.","By default the values are considered as 'relative'.","However; it is possible to use 'total' to compute the sums.","Also 'absolute' could be applied to reset the computed total","or to declare an initial value where needed."].join(" ")},base:{valType:"number",dflt:null,arrayOk:!1,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units)."].join(" ")},x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,hovertext:i.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),hoverinfo:c({},l.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],role:"info",editType:"plot",arrayOk:!1,description:["Determines which trace information appear on the graph.","In the case of having multiple waterfalls, totals","are computed separately (per trace)."].join(" ")},texttemplate:o({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:i.text,textposition:i.textposition,insidetextanchor:i.insidetextanchor,textangle:i.textangle,textfont:i.textfont,insidetextfont:i.insidetextfont,outsidetextfont:i.outsidetextfont,constraintext:i.constraintext,cliponaxis:i.cliponaxis,orientation:i.orientation,offset:i.offset,width:i.width,increasing:d("increasing"),decreasing:d("decreasing"),totals:d("intermediate sums and total"),connector:{line:{color:c({},r.color,{dflt:p.defaultLine}),width:c({},r.width,{editType:"plot"}),dash:r.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",role:"info",editType:"plot",description:["Sets the shape of connector lines."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines if connector lines are drawn. "].join(" ")},editType:"plot"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup}},10967:(e,t,a)=>{"use strict";var i=a(34682),r=a(34141).mergeArray,l=a(12356),n=a(45020).BADNUM;function o(e){return"a"===e||"absolute"===e}function s(e){return"t"===e||"total"===e}e.exports=function(e,t){var a,c,p=i.getFromId(e,t.xaxis||"x"),d=i.getFromId(e,t.yaxis||"y");"h"===t.orientation?(a=p.makeCalcdata(t,"x"),c=d.makeCalcdata(t,"y")):(a=d.makeCalcdata(t,"y"),c=p.makeCalcdata(t,"x"));for(var u,f=Math.min(c.length,a.length),h=new Array(f),y=0,x=!1,m=0;m<f;m++){var v=a[m]||0,g=!1;(a[m]!==n||s(t.measure[m])||o(t.measure[m]))&&m+1<f&&(a[m+1]!==n||s(t.measure[m+1])||o(t.measure[m+1]))&&(g=!0);var b=h[m]={i:m,p:c[m],s:v,rawS:v,cNext:g};o(t.measure[m])?(y=b.s,b.isSum=!0,b.dir="totals",b.s=y):s(t.measure[m])?(b.isSum=!0,b.dir="totals",b.s=y):(b.isSum=!1,b.dir=b.rawS<0?"decreasing":"increasing",u=b.s,b.s=y+u,y+=u),"totals"===b.dir&&(x=!0),t.ids&&(b.id=String(t.ids[m])),b.v=(t.base||0)+y}return h.length&&(h[0].hasTotals=x),r(t.text,h,"tx"),r(t.hovertext,h,"htx"),l(h,t),h}},72397:e=>{"use strict";e.exports={eventDataKeys:["initial","delta","final"]}},11900:(e,t,a)=>{"use strict";var i=a(55023).setGroupPositions;e.exports=function(e,t){var a,r,l=e._fullLayout,n=e._fullData,o=e.calcdata,s=t.xaxis,c=t.yaxis,p=[],d=[],u=[];for(r=0;r<n.length;r++){var f=n[r];!0===f.visible&&f.xaxis===s._id&&f.yaxis===c._id&&"waterfall"===f.type&&(a=o[r],"h"===f.orientation?u.push(a):d.push(a),p.push(a))}var h={mode:l.waterfallmode,norm:l.waterfallnorm,gap:l.waterfallgap,groupgap:l.waterfallgroupgap};for(i(e,s,c,d,h),i(e,c,s,u,h),r=0;r<p.length;r++){a=p[r];for(var y=0;y<a.length;y++){var x=a[y];!1===x.isSum&&(x.s0+=0===y?0:a[y-1].s),y+1<a.length&&(a[y].nextP0=a[y+1].p0,a[y].nextS0=a[y+1].s0)}}}},59449:(e,t,a)=>{"use strict";var i=a(34141),r=a(58061).handleGroupingDefaults,l=a(58061).handleText,n=a(73978),o=a(78875),s=a(57597),c=a(16639),p=c.INCREASING.COLOR,d=c.DECREASING.COLOR;function u(e,t,a){e(t+".marker.color",a),e(t+".marker.line.color",s.defaultLine),e(t+".marker.line.width")}e.exports={supplyDefaults:function(e,t,a,r){function s(a,r){return i.coerce(e,t,o,a,r)}if(n(e,t,r,s)){s("measure"),s("orientation",t.x&&!t.y?"h":"v"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate");var c=s("textposition");l(e,t,r,s,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==t.textposition&&(s("texttemplate"),t.texttemplate||s("textinfo")),u(s,"increasing",p),u(s,"decreasing",d),u(s,"totals","#4499FF"),s("connector.visible")&&(s("connector.mode"),s("connector.line.width")&&(s("connector.line.color"),s("connector.line.dash")))}else t.visible=!1},crossTraceDefaults:function(e,t){var a,l;function n(e){return i.coerce(l._input,l,o,e)}if("group"===t.waterfallmode)for(var s=0;s<e.length;s++)a=(l=e[s])._input,r(a,l,t,n)}}},5979:e=>{"use strict";e.exports=function(e,t){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,"initial"in t&&(e.initial=t.initial),"delta"in t&&(e.delta=t.delta),"final"in t&&(e.final=t.final),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}},32190:(e,t,a)=>{"use strict";var i=a(34682).hoverLabelText,r=a(57597).opacity,l=a(99921).hoverOnBars,n=a(16639),o=n.INCREASING.SYMBOL,s=n.DECREASING.SYMBOL;e.exports=function(e,t,a,n){var c=l(e,t,a,n);if(c){var p=c.cd,d=p[0].trace,u="h"===d.orientation,f=u?e.xa:e.ya,h=p[c.index],y=h.isSum?h.b+h.s:h.rawS;if(!h.isSum){c.initial=h.b+h.s-y,c.delta=y,c.final=c.initial+c.delta;var x=T(Math.abs(c.delta));c.deltaLabel=y<0?"("+x+")":x,c.finalLabel=T(c.final),c.initialLabel=T(c.initial)}var m=h.hi||d.hoverinfo,v=[];if(m&&"none"!==m&&"skip"!==m){var g="all"===m,b=m.split("+"),w=function(e){return g||-1!==b.indexOf(e)};h.isSum||(!w("final")||w(u?"x":"y")||v.push(c.finalLabel),w("delta")&&(y<0?v.push(c.deltaLabel+" "+s):v.push(c.deltaLabel+" "+o)),w("initial")&&v.push("Initial: "+c.initialLabel))}return v.length&&(c.extraText=v.join("<br>")),c.color=function(e,t){var a=e[t.dir].marker,i=a.color,l=a.line.color,n=a.line.width;return r(i)?i:r(l)&&n?l:void 0}(d,h),[c]}function T(e){return i(f,e)}}},98822:(e,t,a)=>{"use strict";e.exports={attributes:a(78875),layoutAttributes:a(80559),supplyDefaults:a(59449).supplyDefaults,crossTraceDefaults:a(59449).crossTraceDefaults,supplyLayoutDefaults:a(28337),calc:a(10967),crossTraceCalc:a(11900),plot:a(53106),style:a(22077).style,hoverPoints:a(32190),eventData:a(5979),selectPoints:a(17155),moduleType:"trace",name:"waterfall",basePlotModule:a(8095),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{description:["Draws waterfall trace which is useful graph to displays the","contribution of various elements (either positive or negative)","in a bar chart. The data visualized by the span of the bars is","set in `y` if `orientation` is set th *v* (the default) and the","labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},80559:e=>{"use strict";e.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},waterfallgap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},28337:(e,t,a)=>{"use strict";var i=a(34141),r=a(80559);e.exports=function(e,t,a){var l=!1;function n(a,l){return i.coerce(e,t,r,a,l)}for(var o=0;o<a.length;o++){var s=a[o];if(s.visible&&"waterfall"===s.type){l=!0;break}}l&&(n("waterfallmode"),n("waterfallgap",.2),n("waterfallgroupgap"))}},53106:(e,t,a)=>{"use strict";var i=a(15078),r=a(34141),l=a(84474),n=a(45020).BADNUM,o=a(38327),s=a(50001).clearMinTextSize;e.exports=function(e,t,a,c){var p=e._fullLayout;s("waterfall",p),o.plot(e,t,a,c,{mode:p.waterfallmode,norm:p.waterfallmode,gap:p.waterfallgap,groupgap:p.waterfallgroupgap}),function(e,t,a,o){var s=t.xaxis,c=t.yaxis;r.makeTraceGroups(o,a,"trace bars").each((function(a){var o=i.select(this),p=a[0].trace,d=r.ensureSingle(o,"g","lines");if(p.connector&&p.connector.visible){var u="h"===p.orientation,f=p.connector.mode,h=d.selectAll("g.line").data(r.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var y=h.size();h.each((function(a,o){if(o===y-1||a.cNext){var p=function(e,t,a,i){var r=[],l=[],n=i?t:a,o=i?a:t;return r[0]=n.c2p(e.s0,!0),l[0]=o.c2p(e.p0,!0),r[1]=n.c2p(e.s1,!0),l[1]=o.c2p(e.p1,!0),r[2]=n.c2p(e.nextS0,!0),l[2]=o.c2p(e.nextP0,!0),i?[r,l]:[l,r]}(a,s,c,u),d=p[0],h=p[1],x="";d[0]!==n&&h[0]!==n&&d[1]!==n&&h[1]!==n&&("spanning"===f&&!a.isSum&&o>0&&(x+=u?"M"+d[0]+","+h[1]+"V"+h[0]:"M"+d[1]+","+h[0]+"H"+d[0]),"between"!==f&&(a.isSum||o<y-1)&&(x+=u?"M"+d[1]+","+h[0]+"V"+h[1]:"M"+d[0]+","+h[1]+"H"+d[1]),d[2]!==n&&h[2]!==n&&(x+=u?"M"+d[1]+","+h[1]+"V"+h[2]:"M"+d[1]+","+h[1]+"H"+d[2])),""===x&&(x="M0,0Z"),r.ensureSingle(i.select(this),"path").attr("d",x).call(l.setClipUrl,t.layerClipId,e)}}))}else d.remove()}))}(e,t,a,c)}},22077:(e,t,a)=>{"use strict";var i=a(15078),r=a(84474),l=a(57597),n=a(44822).DESELECTDIM,o=a(49888),s=a(50001).resizeText,c=o.styleTextPoints;e.exports={style:function(e,t,a){var o=a||i.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");s(e,o,"waterfall"),o.style("opacity",(function(e){return e[0].trace.opacity})),o.each((function(t){var a=i.select(this),o=t[0].trace;a.selectAll(".point > path").each((function(e){if(!e.isBlank){var t=o[e.dir].marker;i.select(this).call(l.fill,t.color).call(l.stroke,t.line.color).call(r.dashLine,t.line.dash,t.line.width).style("opacity",o.selectedpoints&&!e.selected?n:1)}})),c(a,o,e),a.selectAll(".lines").each((function(){var e=o.connector.line;r.lineGroupStyle(i.select(this).selectAll("path"),e.width,e.color,e.dash)}))}))}}}}]);
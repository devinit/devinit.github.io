(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[5851],{65851:(t,e,r)=>{"use strict";t.exports=r(81174)},60319:(t,e,r)=>{"use strict";var a=r(97997),n=r(34141),o=r(34682),i=r(96843),s=r(90336),h=r(32021),c=r(66053),l=r(37353),f=r(68938),u=r(87926),d=r(45020).BADNUM;function p(t){for(var e=[],r=t.length,a=0;a<r;a++){var n=t[a];n!==d&&e.push(n)}return e}t.exports=function(t,e){var r,g,v,x,m,y,b,M,z,_=o.getFromId(t,e.xaxis||"x"),A=o.getFromId(t,e.yaxis||"y"),w=a.traceIs(e,"contour"),k=a.traceIs(e,"histogram"),D=a.traceIs(e,"gl2d"),I=w?"best":e.zsmooth;if(_._minDtick=0,A._minDtick=0,k)r=(z=i(t,e)).x,g=z.x0,v=z.dx,x=z.y,m=z.y0,y=z.dy,b=z.z;else{var C=e.z;n.isArray1D(C)?(h(e,_,A,"x","y",["z"]),r=e._x,x=e._y,C=e._z):(r=e._x=e.x?_.makeCalcdata(e,"x"):[],x=e._y=e.y?A.makeCalcdata(e,"y"):[]),g=e.x0,v=e.dx,m=e.y0,y=e.dy,b=c(C,e,_,A)}function L(t){I=e._input.zsmooth=e.zsmooth=!1,n.warn('cannot use zsmooth: "fast": '+t)}if((_.rangebreaks||A.rangebreaks)&&(b=function(t,e,r){for(var a=[],n=-1,o=0;o<r.length;o++)if(e[o]!==d){a[++n]=[];for(var i=0;i<r[o].length;i++)t[i]!==d&&a[n].push(r[o][i])}return a}(r,x,b),k||(r=p(r),x=p(x),e._x=r,e._y=x)),k||!w&&!e.connectgaps||(e._emptypoints=f(b),l(b,e._emptypoints)),"fast"===I)if("log"===_.type||"log"===A.type)L("log axis found");else if(!k){if(r.length){var R=(r[r.length-1]-r[0])/(r.length-1),F=Math.abs(R/100);for(M=0;M<r.length-1;M++)if(Math.abs(r[M+1]-r[M]-R)>F){L("x scale is not linear");break}}if(x.length&&"fast"===I){var N=(x[x.length-1]-x[0])/(x.length-1),T=Math.abs(N/100);for(M=0;M<x.length-1;M++)if(Math.abs(x[M+1]-x[M]-N)>T){L("y scale is not linear");break}}}var B=n.maxRowLength(b),j="scaled"===e.xtype?"":r,E=u(e,j,g,v,B,_),O="scaled"===e.ytype?"":x,S=u(e,O,m,y,b.length,A);D||(e._extremes[_._id]=o.findExtremes(_,E),e._extremes[A._id]=o.findExtremes(A,S));var U={x:E,y:S,z:b,text:e._text||e.text,hovertext:e._hovertext||e.hovertext};if(j&&j.length===E.length-1&&(U.xCenter=j),O&&O.length===S.length-1&&(U.yCenter=O),k&&(U.xRanges=z.xRanges,U.yRanges=z.yRanges,U.pts=z.pts),w||s(t,e,{vals:b,cLetter:"z"}),w&&e.contours&&"heatmap"===e.contours.coloring){var V={type:"contour"===e.type?"heatmap":"histogram2d",xcalendar:e.xcalendar,ycalendar:e.ycalendar};U.xfill=u(V,j,g,v,B,_),U.yfill=u(V,O,m,y,b.length,A)}return[U]}},95005:t=>{"use strict";t.exports={min:"zmin",max:"zmax"}},38093:(t,e,r)=>{"use strict";var a=r(34141),n=r(89945),o=r(3189),i=r(62252),s=r(58952);t.exports=function(t,e,r,h){function c(r,n){return a.coerce(t,e,s,r,n)}n(t,e,c,h)?(c("text"),c("hovertext"),c("hovertemplate"),o(t,e,c,h),c("hoverongaps"),c("connectgaps",a.isArray1D(e.z)&&!1!==e.zsmooth),i(t,e,h,c,{prefix:"",cLetter:"z"})):e.visible=!1}},62981:(t,e,r)=>{"use strict";var a=r(87529),n=r(34141),o=r(34682),i=r(59430).extractOpts;t.exports=function(t,e,r,s,h,c){var l,f,u,d,p=t.cd[0],g=p.trace,v=t.xa,x=t.ya,m=p.x,y=p.y,b=p.z,M=p.xCenter,z=p.yCenter,_=p.zmask,A=g.zhoverformat,w=m,k=y;if(!1!==t.index){try{u=Math.round(t.index[1]),d=Math.round(t.index[0])}catch(e){return void n.error("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(u<0||u>=b[0].length||d<0||d>b.length)return}else{if(a.inbox(e-m[0],e-m[m.length-1],0)>0||a.inbox(r-y[0],r-y[y.length-1],0)>0)return;if(c){var D;for(w=[2*m[0]-m[1]],D=1;D<m.length;D++)w.push((m[D]+m[D-1])/2);for(w.push([2*m[m.length-1]-m[m.length-2]]),k=[2*y[0]-y[1]],D=1;D<y.length;D++)k.push((y[D]+y[D-1])/2);k.push([2*y[y.length-1]-y[y.length-2]])}u=Math.max(0,Math.min(w.length-2,n.findBin(e,w))),d=Math.max(0,Math.min(k.length-2,n.findBin(r,k)))}var I=v.c2p(m[u]),C=v.c2p(m[u+1]),L=x.c2p(y[d]),R=x.c2p(y[d+1]);c?(C=I,l=m[u],R=L,f=y[d]):(l=M?M[u]:(m[u]+m[u+1])/2,f=z?z[d]:(y[d]+y[d+1])/2,v&&"category"===v.type&&(l=m[u]),x&&"category"===x.type&&(f=y[d]),g.zsmooth&&(I=C=v.c2p(l),L=R=x.c2p(f)));var F=b[d][u];if(_&&!_[d][u]&&(F=void 0),void 0!==F||g.hoverongaps){var N;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[d])?N=p.hovertext[d][u]:Array.isArray(p.text)&&Array.isArray(p.text[d])&&(N=p.text[d][u]);var T=i(g),B={type:"linear",range:[T.min,T.max],hoverformat:A,_separators:v._separators,_numFormat:v._numFormat},j=o.tickText(B,F,"hover").text;return[n.extendFlat(t,{index:g._after2before?g._after2before[d][u]:[d,u],distance:t.maxHoverDistance,spikeDistance:t.maxSpikeDistance,x0:I,x1:C,y0:L,y1:R,xLabelVal:l,yLabelVal:f,zLabelVal:F,zLabel:j,text:N})]}}},81174:(t,e,r)=>{"use strict";t.exports={attributes:r(58952),supplyDefaults:r(38093),calc:r(60319),plot:r(40729),colorbar:r(95005),style:r(44369),hoverPoints:r(62981),moduleType:"trace",name:"heatmap",basePlotModule:r(8095),categories:["cartesian","svg","2dMap","showLegend"],meta:{description:["The data that describes the heatmap value-to-color mapping","is set in `z`.","Data in `z` can either be a {2D array} of values (ragged or not)","or a 1D array of values.","In the case where `z` is a {2D array},","say that `z` has N rows and M columns.","Then, by default, the resulting heatmap will have N partitions along","the y axis and M partitions along the x axis.","In other words, the i-th row/ j-th column cell in `z`","is mapped to the i-th partition of the y axis","(starting from the bottom of the plot) and the j-th partition","of the x-axis (starting from the left of the plot).","This behavior can be flipped by using `transpose`.","Moreover, `x` (`y`) can be provided with M or M+1 (N or N+1) elements.","If M (N), then the coordinates correspond to the center of the","heatmap cells and the cells have equal width.","If M+1 (N+1), then the coordinates correspond to the edges of the","heatmap cells.","In the case where `z` is a 1D {array}, the x and y coordinates must be","provided in `x` and `y` respectively to form data triplets."].join(" ")}}},40729:(t,e,r)=>{"use strict";var a=r(15078),n=r(17621),o=r(97997),i=r(34141),s=r(59430).makeColorScaleFuncFromTrace,h=r(96783);function c(t,e){var r=e.length-2,a=i.constrain(i.findBin(t,e),0,r),n=e[a],o=e[a+1],s=i.constrain(a+(t-n)/(o-n)-.5,0,r),h=Math.round(s),c=Math.abs(s-h);return s&&s!==r&&c?{bin0:h,frac:c,bin1:Math.round(h+c/(s-h))}:{bin0:h,bin1:h,frac:0}}function l(t,e){var r=e.length-1,a=i.constrain(i.findBin(t,e),0,r),n=e[a],o=(t-n)/(e[a+1]-n)||0;return o<=0?{bin0:a,bin1:a,frac:0}:o<.5?{bin0:a,bin1:a+1,frac:o}:{bin0:a+1,bin1:a,frac:1-o}}function f(t,e,r){t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=Math.round(255*r[3])}t.exports=function(t,e,r,u){var d=e.xaxis,p=e.yaxis;i.makeTraceGroups(u,r,"hm").each((function(e){var r,u,g,v,x,m,y=a.select(this),b=e[0],M=b.trace,z=b.z,_=b.x,A=b.y,w=b.xCenter,k=b.yCenter,D=o.traceIs(M,"contour"),I=D?"best":M.zsmooth,C=z.length,L=i.maxRowLength(z),R=!1,F=!1;for(m=0;void 0===r&&m<_.length-1;)r=d.c2p(_[m]),m++;for(m=_.length-1;void 0===u&&m>0;)u=d.c2p(_[m]),m--;for(u<r&&(g=u,u=r,r=g,R=!0),m=0;void 0===v&&m<A.length-1;)v=p.c2p(A[m]),m++;for(m=A.length-1;void 0===x&&m>0;)x=p.c2p(A[m]),m--;if(x<v&&(g=v,v=x,x=g,F=!0),D&&(w=_,k=A,_=b.xfill,A=b.yfill),"fast"!==I){var N="best"===I?0:.5;r=Math.max(-N*d._length,r),u=Math.min((1+N)*d._length,u),v=Math.max(-N*p._length,v),x=Math.min((1+N)*p._length,x)}var T=Math.round(u-r),B=Math.round(x-v);if(T<=0||B<=0)y.selectAll("image").data([]).exit().remove();else{var j,E;"fast"===I?(j=L,E=C):(j=T,E=B);var O=document.createElement("canvas");O.width=j,O.height=E;var S,U,V=O.getContext("2d"),P=s(M,{noNumericCheck:!0,returnArray:!0});"fast"===I?(S=R?function(t){return L-1-t}:i.identity,U=F?function(t){return C-1-t}:i.identity):(S=function(t){return i.constrain(Math.round(d.c2p(_[t])-r),0,T)},U=function(t){return i.constrain(Math.round(p.c2p(A[t])-v),0,B)});var q,G,H,J,K,Q=U(0),W=[Q,Q],X=R?0:1,Y=F?0:1,Z=0,$=0,tt=0,et=0;if(I){var rt,at=0;try{rt=new Uint8Array(T*B*4)}catch(t){rt=new Array(T*B*4)}if("best"===I){var nt,ot,it,st=w||_,ht=k||A,ct=new Array(st.length),lt=new Array(ht.length),ft=new Array(T),ut=w?l:c,dt=k?l:c;for(m=0;m<st.length;m++)ct[m]=Math.round(d.c2p(st[m])-r);for(m=0;m<ht.length;m++)lt[m]=Math.round(p.c2p(ht[m])-v);for(m=0;m<T;m++)ft[m]=ut(m,ct);for(G=0;G<B;G++)for(ot=z[(nt=dt(G,lt)).bin0],it=z[nt.bin1],m=0;m<T;m++,at+=4)f(rt,at,K=At(ot,it,ft[m],nt))}else for(G=0;G<C;G++)for(J=z[G],W=U(G),m=0;m<T;m++)K=_t(J[m],1),f(rt,at=4*(W*T+S(m)),K);var pt=V.createImageData(T,B);try{pt.data.set(rt)}catch(t){var gt=pt.data,vt=gt.length;for(G=0;G<vt;G++)gt[G]=rt[G]}V.putImageData(pt,0,0)}else{var xt=M.xgap,mt=M.ygap,yt=Math.floor(xt/2),bt=Math.floor(mt/2);for(G=0;G<C;G++)if(J=z[G],W.reverse(),W[Y]=U(G+1),W[0]!==W[1]&&void 0!==W[0]&&void 0!==W[1])for(q=[H=S(0),H],m=0;m<L;m++)q.reverse(),q[X]=S(m+1),q[0]!==q[1]&&void 0!==q[0]&&void 0!==q[1]&&(K=_t(J[m],(q[1]-q[0])*(W[1]-W[0])),V.fillStyle="rgba("+K.join(",")+")",V.fillRect(q[0]+yt,W[0]+bt,q[1]-q[0]-xt,W[1]-W[0]-mt))}$=Math.round($/Z),tt=Math.round(tt/Z),et=Math.round(et/Z);var Mt=n("rgb("+$+","+tt+","+et+")");t._hmpixcount=(t._hmpixcount||0)+Z,t._hmlumcount=(t._hmlumcount||0)+Z*Mt.getLuminance();var zt=y.selectAll("image").data(e);zt.enter().append("svg:image").attr({xmlns:h.svg,preserveAspectRatio:"none"}),zt.attr({height:B,width:T,x:r,y:v,"xlink:href":O.toDataURL("image/png")})}function _t(t,e){if(void 0!==t){var r=P(t);return r[0]=Math.round(r[0]),r[1]=Math.round(r[1]),r[2]=Math.round(r[2]),Z+=e,$+=r[0]*e,tt+=r[1]*e,et+=r[2]*e,r}return[0,0,0,0]}function At(t,e,r,a){var n=t[r.bin0];if(void 0===n)return _t(void 0,1);var o,i=t[r.bin1],s=e[r.bin0],h=e[r.bin1],c=i-n||0,l=s-n||0;return o=void 0===i?void 0===h?0:void 0===s?2*(h-n):2*(2*h-s-n)/3:void 0===h?void 0===s?0:2*(2*n-i-s)/3:void 0===s?2*(2*h-i-n)/3:h+n-i-s,_t(n+r.frac*c+a.frac*(l+r.frac*o))}}))}},44369:(t,e,r)=>{"use strict";var a=r(15078);t.exports=function(t){a.select(t).selectAll(".hm image").style("opacity",(function(t){return t.trace.opacity}))}},3189:t=>{"use strict";t.exports=function(t,e,r){!1===r("zsmooth")&&(r("xgap"),r("ygap")),r("zhoverformat")}},89945:(t,e,r)=>{"use strict";var a=r(35924),n=r(34141),o=r(97997);function i(t,e){var r=e(t);return"scaled"===(r?e(t+"type","array"):"scaled")&&(e(t+"0"),e("d"+t)),r}t.exports=function(t,e,r,s,h,c){var l,f,u=r("z");if(h=h||"x",c=c||"y",void 0===u||!u.length)return 0;if(n.isArray1D(t.z)){l=r(h),f=r(c);var d=n.minRowLength(l),p=n.minRowLength(f);if(0===d||0===p)return 0;e._length=Math.min(d,p,u.length)}else{if(l=i(h,r),f=i(c,r),!function(t){for(var e,r=!0,o=!1,i=!1,s=0;s<t.length;s++){if(e=t[s],!n.isArrayOrTypedArray(e)){r=!1;break}e.length>0&&(o=!0);for(var h=0;h<e.length;h++)if(a(e[h])){i=!0;break}}return r&&o&&i}(u))return 0;r("transpose"),e._length=null}return o.getComponentMethod("calendars","handleTraceDefaults")(t,e,[h,c],s),!0}},96843:(t,e,r)=>{"use strict";var a=r(34141),n=r(34682),o=r(54459),i=r(74956),s=r(24814),h=r(92532),c=r(92877).calcAllAutoBins;function l(t,e,r,a){var n,o=new Array(t);if(a)for(n=0;n<t;n++)o[n]=1/(e[n+1]-e[n]);else{var i=1/r;for(n=0;n<t;n++)o[n]=i}return o}function f(t,e){return{start:t(e.start),end:t(e.end),size:e.size}}function u(t,e,r,a,n,o){var i,s=t.length-1,c=new Array(s),l=h(r,a,t,n,o);for(i=0;i<s;i++){var f=(e||[])[i];c[i]=void 0===f?[l(t[i]),l(t[i+1],!0)]:[f,f]}return c}t.exports=function(t,e){var r,h,d,p,g=n.getFromId(t,e.xaxis),v=n.getFromId(t,e.yaxis),x=e.xcalendar,m=e.ycalendar,y=function(t){return g.r2c(t,0,x)},b=function(t){return v.r2c(t,0,m)},M=c(t,e,g,"x"),z=M[0],_=M[1],A=c(t,e,v,"y"),w=A[0],k=A[1],D=e._length;_.length>D&&_.splice(D,_.length-D),k.length>D&&k.splice(D,k.length-D);var I=[],C=[],L=[],R="string"==typeof z.size,F="string"==typeof w.size,N=[],T=[],B=R?N:z,j=F?T:w,E=0,O=[],S=[],U=e.histnorm,V=e.histfunc,P=-1!==U.indexOf("density"),q="max"===V||"min"===V?null:0,G=o.count,H=i[U],J=!1,K=[],Q=[],W="z"in e?e.z:"marker"in e&&Array.isArray(e.marker.color)?e.marker.color:"";W&&"count"!==V&&(J="avg"===V,G=o[V]);var X=z.size,Y=y(z.start),Z=y(z.end)+(Y-n.tickIncrement(Y,X,!1,x))/1e6;for(r=Y;r<Z;r=n.tickIncrement(r,X,!1,x))C.push(q),N.push(r),J&&L.push(0);N.push(r);var $,tt=C.length,et=(r-Y)/tt,rt=($=Y+et/2,g.c2r($,0,x)),at=w.size,nt=b(w.start),ot=b(w.end)+(nt-n.tickIncrement(nt,at,!1,m))/1e6;for(r=nt;r<ot;r=n.tickIncrement(r,at,!1,m)){I.push(C.slice()),T.push(r);var it=new Array(tt);for(h=0;h<tt;h++)it[h]=[];S.push(it),J&&O.push(L.slice())}T.push(r);var st=I.length,ht=(r-nt)/st,ct=function(t){return v.c2r(t,0,m)}(nt+ht/2);P&&(K=l(C.length,B,et,R),Q=l(I.length,j,ht,F)),R||"date"!==g.type||(B=f(y,B)),F||"date"!==v.type||(j=f(b,j));var lt=!0,ft=!0,ut=new Array(tt),dt=new Array(st),pt=1/0,gt=1/0,vt=1/0,xt=1/0;for(r=0;r<D;r++){var mt=_[r],yt=k[r];d=a.findBin(mt,B),p=a.findBin(yt,j),d>=0&&d<tt&&p>=0&&p<st&&(E+=G(d,r,I[p],W,O[p]),S[p][d].push(r),lt&&(void 0===ut[d]?ut[d]=mt:ut[d]!==mt&&(lt=!1)),ft&&(void 0===dt[p]?dt[p]=yt:dt[p]!==yt&&(ft=!1)),pt=Math.min(pt,mt-N[d]),gt=Math.min(gt,N[d+1]-mt),vt=Math.min(vt,yt-T[p]),xt=Math.min(xt,T[p+1]-yt))}if(J)for(p=0;p<st;p++)E+=s(I[p],O[p]);if(H)for(p=0;p<st;p++)H(I[p],E,K,Q[p]);return{x:_,xRanges:u(N,lt&&ut,pt,gt,g,x),x0:rt,dx:et,y:k,yRanges:u(T,ft&&dt,vt,xt,v,m),y0:ct,dy:ht,z:I,pts:S}}}}]);
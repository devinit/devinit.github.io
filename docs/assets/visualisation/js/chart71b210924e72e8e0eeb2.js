(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[2333],{85369:t=>{"use strict";t.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},41602:(t,e,a)=>{"use strict";var i=a(34141),r=a(78879).tester,n=i.findIndexOfMin,o=i.isAngleInsideSector,l=i.angleDelta,s=i.angleDist;function c(t,e,a,i){var r,n,o=i[0],l=i[1],s=u(Math.sin(e)-Math.sin(t)),c=u(Math.cos(e)-Math.cos(t)),d=Math.tan(a),p=u(1/d),h=s/c,f=l-h*o;return p?s&&c?n=d*(r=f/(d-h)):c?(r=l*p,n=l):(r=o,n=o*d):s&&c?(r=0,n=f):c?(r=0,n=l):r=n=NaN,[r,n]}function d(t,e,a,r){return i.isFullCircle([e,a])?function(t,e){var a,i=e.length,r=new Array(i+1);for(a=0;a<i;a++){var n=e[a];r[a]=[t*Math.cos(n),t*Math.sin(n)]}return r[a]=r[0].slice(),r}(t,r):function(t,e,a,r){var l,d,u=r.length,p=[];function h(e){return[t*Math.cos(e),t*Math.sin(e)]}function f(t,e,a){return c(t,e,a,h(t))}function g(t){return i.mod(t,u)}function v(t){return o(t,[e,a])}var x=n(r,(function(t){return v(t)?s(t,e):1/0})),y=f(r[x],r[g(x-1)],e);for(p.push(y),l=x,d=0;d<u;l++,d++){var m=r[g(l)];if(!v(m))break;p.push(h(m))}var k=n(r,(function(t){return v(t)?s(t,a):1/0})),b=f(r[k],r[g(k+1)],a);return p.push(b),p.push([0,0]),p.push(p[0].slice()),p}(t,e,a,r)}function u(t){return Math.abs(t)>1e-10?t:0}function p(t,e,a){e=e||0,a=a||0;for(var i=t.length,r=new Array(i),n=0;n<i;n++){var o=t[n];r[n]=[e+o[0],a-o[1]]}return r}t.exports={isPtInsidePolygon:function(t,e,a,i,n){if(!o(e,i))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=r(d(l,i[0],i[1],n)),u=r(d(s,i[0],i[1],n)),p=[t*Math.cos(e),t*Math.sin(e)];return u.contains(p)&&!c.contains(p)},findPolygonOffset:function(t,e,a,i){for(var r=1/0,n=1/0,o=d(t,e,a,i),l=0;l<o.length;l++){var s=o[l];r=Math.min(r,s[0]),n=Math.min(n,-s[1])}return[r,n]},findEnclosingVertexAngles:function(t,e){var a=n(e,(function(e){var a=l(e,t);return a>0?a:1/0})),r=i.mod(a+1,e.length);return[e[a],e[r]]},findIntersectionXY:c,findXYatLength:function(t,e,a,i){var r=-e*a,n=e*e+1,o=2*(e*r-a),l=r*r+a*a-t*t,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),d=(-o-s)/(2*n);return[[c,e*c+r+i],[d,e*d+r+i]]},clampTiny:u,pathPolygon:function(t,e,a,i,r,n){return"M"+p(d(t,e,a,i),r,n).join("L")},pathPolygonAnnulus:function(t,e,a,i,r,n,o){var l,s;t<e?(l=t,s=e):(l=e,s=t);var c=p(d(l,a,i,r),n,o);return"M"+p(d(s,a,i,r),n,o).reverse().join("L")+"M"+c.join("L")}}},59759:(t,e,a)=>{"use strict";var i=a(67763).AU,r=a(34141).counterRegex,n=a(44504),o=a(85369),l=o.attr,s=o.name,c=r(s),d={};d[l]={valType:"subplotid",role:"info",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},t.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:d,layoutAttributes:a(18613),supplyLayoutDefaults:a(89198),plot:function(t){for(var e=t._fullLayout,a=t.calcdata,r=e._subplots[s],o=0;o<r.length;o++){var l=r[o],c=i(a,s,l),d=e[l]._subplot;d||(d=n(t,l),e[l]._subplot=d),d.plot(c,e,t._promises)}},clean:function(t,e,a,i){for(var r=i._subplots[s]||[],n=i._has&&i._has("gl"),o=e._has&&e._has("gl"),l=n&&!o,c=0;c<r.length;c++){var d=r[c],u=i[d]._subplot;if(!e[d]&&u)for(var p in u.framework.remove(),u.layers["radial-axis-title"].remove(),u.clipPaths)u.clipPaths[p].remove();l&&u._scene&&(u._scene.destroy(),u._scene=null)}},toSVG:a(8095).toSVG}},18613:(t,e,a)=>{"use strict";var i=a(28604),r=a(46493),n=a(72910).Y,o=a(34141).extendFlat,l=a(15716).overrideAll,s=l({color:r.color,showline:o({},r.showline,{dflt:!0}),linecolor:r.linecolor,linewidth:r.linewidth,showgrid:o({},r.showgrid,{dflt:!0}),gridcolor:r.gridcolor,gridwidth:r.gridwidth},"plot","from-root"),c=l({tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,showexponent:r.showexponent,exponentformat:r.exponentformat,separatethousands:r.separatethousands,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,layer:r.layer},"plot","from-root"),d={visible:o({},r.visible,{dflt:!0}),type:o({},r.type,{values:["-","linear","log","date","category"]}),autorange:o({},r.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",role:"style",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},r.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:r.categoryorder,categoryarray:r.categoryarray,angle:{valType:"angle",editType:"plot",role:"info",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",role:"info",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},r.title.text,{editType:"plot",dflt:""}),font:o({},r.title.font,{editType:"plot"}),editType:"plot"},hoverformat:r.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:r._deprecated.title,titlefont:r._deprecated.titlefont}};o(d,s,c);var u={visible:o({},r.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},categoryorder:r.categoryorder,categoryarray:r.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",role:"info",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,role:"info",description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",role:"info",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",role:"info",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:r.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(u,s,c),t.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],role:"info",editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",role:"info",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",role:"style",editType:"plot",dflt:i.background,description:"Set the background color of the subplot"},radialaxis:d,angularaxis:u,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",role:"style",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},89198:(t,e,a)=>{"use strict";var i=a(34141),r=a(57597),n=a(18882),o=a(96357),l=a(67763).NG,s=a(44050),c=a(27961),d=a(82519),u=a(35531),p=a(23913),h=a(16757),f=a(18613),g=a(18156),v=a(85369),x=v.axisNames;function y(t,e,a,o){var h=a("bgcolor");o.bgColor=r.combine(h,o.paper_bgcolor);var y=a("sector");a("hole");var k,b=l(o.fullData,v.name,o.id),w=o.layoutOut;function T(t,e){return a(k+"."+t,e)}for(var _=0;_<x.length;_++){k=x[_],i.isPlainObject(t[k])||(t[k]={});var A=t[k],M=n.newContainer(e,k);M._id=M._name=k,M._attr=o.id+"."+k,M._traceIndices=b.map((function(t){return t._expandedIndex}));var S=v.axisName2dataArray[k],L=m(A,M,T,b,S);u(A,M,T,{axData:b,dataAttr:S});var I,R,F=T("visible");switch(g(M,e,w),T("uirevision",e.uirevision),F&&(R=(I=T("color"))===A.color?I:o.font.color),M._m=1,k){case"radialaxis":var D=T("autorange",!M.isValidRange(A.range));A.autorange=D,!D||"linear"!==L&&"-"!==L||T("rangemode"),"reversed"===D&&(M._m=-1),T("range"),M.cleanRange("range",{dfltRange:[0,1]}),F&&(T("side"),T("angle",y[0]),T("title.text"),i.coerceFont(T,"title.font",{family:o.font.family,size:Math.round(1.2*o.font.size),color:R}));break;case"angularaxis":if("date"===L){i.log("Polar plots do not support date angular axes yet.");for(var P=0;P<b.length;P++)b[P].visible=!1;L=A.type=M.type="linear"}T("linear"===L?"thetaunit":"period");var O=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[O])}F&&(s(A,M,T,M.type),d(A,M,T,M.type,{tickSuffixDflt:"degrees"===M.thetaunit?"°":void 0}),c(A,M,T,{outerTicks:!0}),T("showticklabels")&&(i.coerceFont(T,"tickfont",{family:o.font.family,size:o.font.size,color:R}),T("tickangle"),T("tickformat")),p(A,M,T,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[k]}),T("layer")),"category"!==L&&T("hoverformat"),M._input=A}"category"===e.angularaxis.type&&a("gridshape")}function m(t,e,a,i,r){if("-"===a("type")){for(var n,o=0;o<i.length;o++)if(i[o].visible){n=i[o];break}n&&n[r]&&(e.type=h(n[r],"gregorian")),"-"===e.type?e.type="linear":t.type=e.type}return e.type}t.exports=function(t,e,a){o(t,e,a,{type:v.name,attributes:f,handleDefaults:y,font:e.font,paper_bgcolor:e.paper_bgcolor,fullData:a,layoutOut:e})}},44504:(t,e,a)=>{"use strict";var i=a(15078),r=a(17621),n=a(97997),o=a(34141),l=a(57597),s=a(84474),c=a(79648),d=a(34682),u=a(53522),p=a(18156),h=a(5816).doAutoRange,f=a(42292),g=a(86962),v=a(87529),x=a(18861),y=a(80755).prepSelect,m=a(80755).selectOnClick,k=a(80755).clearSelect,b=a(85813),w=a(47407),T=a(57178).redrawReglTraces,_=a(11548).MID_SHIFT,A=a(85369),M=a(41602),S=o._,L=o.mod,I=o.deg2rad,R=o.rad2deg;function F(t,e){this.id=e,this.gd=t,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=t._fullLayout,i="clip"+a._uid+e;this.clipIds.forTraces=i+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",e),this.radialTickLayout=null,this.angularTickLayout=null}var D=F.prototype;function P(t){var e=t.ticks+String(t.ticklen)+String(t.showticklabels);return"side"in t&&(e+=t.side),e}function O(t,e){return e[o.findIndexOfMin(e,(function(e){return o.angleDist(t,e)}))]}function C(t,e,a){return e?(t.attr("display",null),t.attr(a)):t&&t.attr("display","none"),t}function j(t,e){return"translate("+t+","+e+")"}function N(t){return"rotate("+t+")"}t.exports=function(t,e){return new F(t,e)},D.plot=function(t,e){var a=this,i=e[a.id];a._hasClipOnAxisFalse=!1;for(var r=0;r<t.length;r++)if(!1===t[r][0].trace.cliponaxis){a._hasClipOnAxisFalse=!0;break}a.updateLayers(e,i),a.updateLayout(e,i),c.generalUpdatePerTraceModule(a.gd,a,t,i),a.updateFx(e,i)},D.updateLayers=function(t,e){var a=this.layers,r=e.radialaxis,n=e.angularaxis,o=A.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),c="below traces"===n.layer,d="below traces"===r.layer;c&&s.push("angular-line"),d&&s.push("radial-line"),c&&s.push("angular-axis"),d&&s.push("radial-axis"),s.push("frontplot"),c||s.push("angular-line"),d||s.push("radial-line"),c||s.push("angular-axis"),d||s.push("radial-axis");var u=this.framework.selectAll(".polarsublayer").data(s,String);u.enter().append("g").attr("class",(function(t){return"polarsublayer "+t})).each((function(t){var e=a[t]=i.select(this);switch(t){case"frontplot":e.append("g").classed("barlayer",!0),e.append("g").classed("scatterlayer",!0);break;case"backplot":e.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=e.append("path");break;case"radial-grid":case"angular-grid":e.style("fill","none");break;case"radial-line":e.append("line").style("fill","none");break;case"angular-line":e.append("path").style("fill","none")}})),u.order()},D.updateLayout=function(t,e){var a=this,i=a.layers,r=t._size,n=e.radialaxis,o=e.angularaxis,c=e.domain.x,d=e.domain.y;a.xOffset=r.l+r.w*c[0],a.yOffset=r.t+r.h*(1-d[1]);var u=a.xLength=r.w*(c[1]-c[0]),p=a.yLength=r.h*(d[1]-d[0]),h=e.sector;a.sectorInRad=h.map(I);var f,g,v,x,y,m=a.sectorBBox=function(t){var e,a=t[0],i=t[1]-a,r=L(a,360),n=r+i,o=Math.cos(I(r)),l=Math.sin(I(r)),s=Math.cos(I(n)),c=Math.sin(I(n));return e=r<=90&&n>=90||r>90&&n>=450?1:l<=0&&c<=0?0:Math.max(l,c),[r<=180&&n>=180||r>180&&n>=540?-1:o>=0&&s>=0?0:Math.min(o,s),r<=270&&n>=270||r>270&&n>=630?-1:l>=0&&c>=0?0:Math.min(l,c),n>=360?1:o<=0&&s<=0?0:Math.max(o,s),e]}(h),k=m[2]-m[0],b=m[3]-m[1],w=p/u,T=Math.abs(b/k);w>T?(f=u,y=(p-(g=u*T))/r.h/2,v=[c[0],c[1]],x=[d[0]+y,d[1]-y]):(g=p,y=(u-(f=p/T))/r.w/2,v=[c[0]+y,c[1]-y],x=[d[0],d[1]]),a.xLength2=f,a.yLength2=g,a.xDomain2=v,a.yDomain2=x;var _=a.xOffset2=r.l+r.w*v[0],A=a.yOffset2=r.t+r.h*(1-x[1]),M=a.radius=f/k,S=a.innerRadius=e.hole*M,R=a.cx=_-M*m[0],F=a.cy=A+M*m[3],D=a.cxx=R-_,P=a.cyy=F-A;a.radialAxis=a.mockAxis(t,e,n,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[n.side],domain:[S/r.w,M/r.w]}),a.angularAxis=a.mockAxis(t,e,o,{side:"right",domain:[0,Math.PI],autorange:!1}),a.doAutoRange(t,e),a.updateAngularAxis(t,e),a.updateRadialAxis(t,e),a.updateRadialAxisTitle(t,e),a.xaxis=a.mockCartesianAxis(t,e,{_id:"x",domain:v}),a.yaxis=a.mockCartesianAxis(t,e,{_id:"y",domain:x});var O=a.pathSubplot();a.clipPaths.forTraces.select("path").attr("d",O).attr("transform",j(D,P)),i.frontplot.attr("transform",j(_,A)).call(s.setClipUrl,a._hasClipOnAxisFalse?null:a.clipIds.forTraces,a.gd),i.bg.attr("d",O).attr("transform",j(R,F)).call(l.fill,e.bgcolor)},D.mockAxis=function(t,e,a,i){var r=o.extendFlat({},a,i);return p(r,e,t),r},D.mockCartesianAxis=function(t,e,a){var i=this,r=a._id,n=o.extendFlat({type:"linear"},a);u(n,t);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var t=i.sectorBBox,a=l[r],o=i.radialAxis._rl,s=(o[1]-o[0])/(1-e.hole);n.range=[t[a[0]]*s,t[a[1]]*s]},n.isPtWithinRange="x"===r?function(t){return i.isPtInside(t)}:function(){return!0},n.setRange(),n.setScale(),n},D.doAutoRange=function(t,e){var a=this.gd,i=this.radialAxis,r=e.radialaxis;i.setScale(),h(a,i);var n=i.range;r.range=n.slice(),r._input.range=n.slice(),i._rl=[i.r2l(n[0],null,"gregorian"),i.r2l(n[1],null,"gregorian")]},D.updateRadialAxis=function(t,e){var a=this,i=a.gd,r=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,u=a.cy,p=e.radialaxis,h=L(e.sector[0],360),f=a.radialAxis,g=s<n;a.fillViewInitialKey("radialaxis.angle",p.angle),a.fillViewInitialKey("radialaxis.range",f.range.slice()),f.setGeometry(),"auto"===f.tickangle&&h>90&&h<=270&&(f.tickangle=180);var v=function(t){return"translate("+(f.l2p(t.x)+s)+",0)"},x=P(p);if(a.radialTickLayout!==x&&(r["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=x),g){f.setScale();var y=d.calcTicks(f),m=d.clipEnds(f,y),k=d.getTickSigns(f)[2];d.drawTicks(i,f,{vals:y,layer:r["radial-axis"],path:d.makeTickPath(f,0,k),transFn:v,crisp:!1}),d.drawGrid(i,f,{vals:m,layer:r["radial-grid"],path:function(t){return a.pathArc(f.r2p(t.x)+s)},transFn:o.noop,crisp:!1}),d.drawLabels(i,f,{vals:y,layer:r["radial-axis"],transFn:v,labelFns:d.makeLabelFns(f,0)})}var b=a.radialAxisAngle=a.vangles?R(O(I(p.angle),a.vangles)):p.angle,w=j(c,u),T=w+N(-b);C(r["radial-axis"],g&&(p.showticklabels||p.ticks),{transform:T}),C(r["radial-grid"],g&&p.showgrid,{transform:w}),C(r["radial-line"].select("line"),g&&p.showline,{x1:s,y1:0,x2:n,y2:0,transform:T}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},D.updateRadialAxisTitle=function(t,e,a){var i=this,r=i.gd,n=i.radius,o=i.cx,l=i.cy,c=e.radialaxis,d=i.id+"title",u=void 0!==a?a:i.radialAxisAngle,p=I(u),h=Math.cos(p),f=Math.sin(p),g=0;if(c.title){var v=s.bBox(i.layers["radial-axis"].node()).height,y=c.title.font.size;g="counterclockwise"===c.side?-v-.4*y:v+.8*y}i.layers["radial-axis-title"]=x.draw(r,d,{propContainer:c,propName:i.id+".radialaxis.title",placeholder:S(r,"Click to enter radial axis title"),attributes:{x:o+n/2*h+g*f,y:l-n/2*f+g*h,"text-anchor":"middle"},transform:{rotate:-u}})},D.updateAngularAxis=function(t,e){var a=this,i=a.gd,r=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,u=a.cy,p=e.angularaxis,h=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",p.rotation),h.setGeometry(),h.setScale();var f=function(t){return h.t2g(t.x)};"linear"===h.type&&"radians"===h.thetaunit&&(h.tick0=R(h.tick0),h.dtick=R(h.dtick));var g=function(t){return j(c+n*Math.cos(t),u-n*Math.sin(t))},v=d.makeLabelFns(h,0).labelStandoff,x={xFn:function(t){var e=f(t);return Math.cos(e)*v},yFn:function(t){var e=f(t),a=Math.sin(e)>0?.2:1;return-Math.sin(e)*(v+t.fontSize*a)+Math.abs(Math.cos(e))*(t.fontSize*_)},anchorFn:function(t){var e=f(t),a=Math.cos(e);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(t,e,a){var i=f(t);return-.5*(1+Math.sin(i))*a}},y=P(p);a.angularTickLayout!==y&&(r["angular-axis"].selectAll("."+h._id+"tick").remove(),a.angularTickLayout=y);var m,k=d.calcTicks(h);if("linear"===e.gridshape?(m=k.map(f),o.angleDelta(m[0],m[1])<0&&(m=m.slice().reverse())):m=null,a.vangles=m,"category"===h.type&&(k=k.filter((function(t){return o.isAngleInsideSector(f(t),a.sectorInRad)}))),h.visible){var b="inside"===h.ticks?-1:1,w=(h.linewidth||1)/2;d.drawTicks(i,h,{vals:k,layer:r["angular-axis"],path:"M"+b*w+",0h"+b*h.ticklen,transFn:function(t){var e=f(t);return g(e)+N(-R(e))},crisp:!1}),d.drawGrid(i,h,{vals:k,layer:r["angular-grid"],path:function(t){var e=f(t),a=Math.cos(e),i=Math.sin(e);return"M"+[c+s*a,u-s*i]+"L"+[c+n*a,u-n*i]},transFn:o.noop,crisp:!1}),d.drawLabels(i,h,{vals:k,layer:r["angular-axis"],repositionOnUpdate:!0,transFn:function(t){return g(f(t))},labelFns:x})}C(r["angular-line"].select("path"),p.showline,{d:a.pathSubplot(),transform:j(c,u)}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},D.updateFx=function(t,e){this.gd._context.staticPlot||(this.updateAngularDrag(t),this.updateRadialDrag(t,e,0),this.updateRadialDrag(t,e,1),this.updateMainDrag(t))},D.updateMainDrag=function(t){var e=this,a=e.gd,o=e.layers,l=t._zoomlayer,s=A.MINZOOM,c=A.OFFEDGE,d=e.radius,u=e.innerRadius,p=e.cx,h=e.cy,x=e.cxx,b=e.cyy,w=e.sectorInRad,T=e.vangles,_=e.radialAxis,S=M.clampTiny,L=M.findXYatLength,I=M.findEnclosingVertexAngles,R=A.cornerHalfWidth,F=A.cornerLen/2,D=f.makeDragger(o,"path","maindrag","crosshair");i.select(D).attr("d",e.pathSubplot()).attr("transform",j(p,h));var P,O,C,N,z,B,G,H,V,E={element:D,gd:a,subplot:e.id,plotinfo:{id:e.id,xaxis:e.xaxis,yaxis:e.yaxis},xaxes:[e.xaxis],yaxes:[e.yaxis]};function Z(t,e){return Math.sqrt(t*t+e*e)}function U(t,e){return Z(t-x,e-b)}function Y(t,e){return Math.atan2(b-e,t-x)}function q(t,e){return[t*Math.cos(e),t*Math.sin(-e)]}function K(t,a){if(0===t)return e.pathSector(2*R);var i=F/t,r=a-i,n=a+i,o=Math.max(0,Math.min(t,d)),l=o-R,s=o+R;return"M"+q(l,r)+"A"+[l,l]+" 0,0,0 "+q(l,n)+"L"+q(s,n)+"A"+[s,s]+" 0,0,1 "+q(s,r)+"Z"}function X(t,a,i){if(0===t)return e.pathSector(2*R);var r,n,o=q(t,a),l=q(t,i),s=S((o[0]+l[0])/2),c=S((o[1]+l[1])/2);if(s&&c){var d=c/s,u=-1/d,p=L(R,d,s,c);r=L(F,u,p[0][0],p[0][1]),n=L(F,u,p[1][0],p[1][1])}else{var h,f;c?(h=F,f=R):(h=R,f=F),r=[[s-h,c-f],[s+h,c-f]],n=[[s-h,c+f],[s+h,c+f]]}return"M"+r.join("L")+"L"+n.reverse().join("L")+"Z"}function W(t,e){return e=Math.max(Math.min(e,d),u),t<c?t=0:d-t<c?t=d:e<c?e=0:d-e<c&&(e=d),Math.abs(e-t)>s?(t<e?(C=t,N=e):(C=e,N=t),!0):(C=null,N=null,!1)}function J(t,e){t=t||z,e=e||"M0,0Z",H.attr("d",t),V.attr("d",e),f.transitionZoombox(H,V,B,G),B=!0;var i={};at(i),a.emit("plotly_relayouting",i)}function Q(t,a){var i,r,n=P+t,o=O+a,l=U(P,O),s=Math.min(U(n,o),d),c=Y(P,O);W(l,s)&&(i=z+e.pathSector(N),C&&(i+=e.pathSector(C)),r=K(C,c)+K(N,c)),J(i,r)}function $(t,e,a,i){var r=M.findIntersectionXY(a,i,a,[t-x,b-e]);return Z(r[0],r[1])}function tt(t,a){var i,r,n=P+t,o=O+a,l=Y(P,O),s=Y(n,o),c=I(l,T),u=I(s,T);W($(P,O,c[0],c[1]),Math.min($(n,o,u[0],u[1]),d))&&(i=z+e.pathSector(N),C&&(i+=e.pathSector(C)),r=[X(C,c[0],c[1]),X(N,c[0],c[1])].join(" ")),J(i,r)}function et(){if(f.removeZoombox(a),null!==C&&null!==N){var t={};at(t),f.showDoubleClickNotifier(a),n.call("_guiRelayout",a,t)}}function at(t){var a=_._rl,i=(a[1]-a[0])/(1-u/d)/d,r=[a[0]+(C-u)*i,a[0]+(N-u)*i];t[e.id+".radialaxis.range"]=r}function it(t,i){var r=a._fullLayout.clickmode;if(f.removeZoombox(a),2===t){var o={};for(var l in e.viewInitial)o[e.id+"."+l]=e.viewInitial[l];a.emit("plotly_doubleclick",null),n.call("_guiRelayout",a,o)}r.indexOf("select")>-1&&1===t&&m(i,a,[e.xaxis],[e.yaxis],e.id,E),r.indexOf("event")>-1&&v.click(a,i,e.id)}E.prepFn=function(t,i,n){var o=a._fullLayout.dragmode,s=D.getBoundingClientRect();if(P=i-s.left,O=n-s.top,T){var c=M.findPolygonOffset(d,w[0],w[1],T);P+=x+c[0],O+=b+c[1]}switch(o){case"zoom":E.moveFn=T?tt:Q,E.clickFn=it,E.doneFn=et,function(){C=null,N=null,z=e.pathSubplot(),B=!1;var t=a._fullLayout[e.id];G=r(t.bgcolor).getLuminance(),(H=f.makeZoombox(l,G,p,h,z)).attr("fill-rule","evenodd"),V=f.makeCorners(l,p,h),k(a)}();break;case"select":case"lasso":y(t,i,n,E,o)}},D.onmousemove=function(t){v.hover(a,t,e.id),a._fullLayout._lasthover=D,a._fullLayout._hoversubplot=e.id},D.onmouseout=function(t){a._dragging||g.unhover(a,t)},g.init(E)},D.updateRadialDrag=function(t,e,a){var r=this,l=r.gd,s=r.layers,c=r.radius,d=r.innerRadius,u=r.cx,p=r.cy,h=r.radialAxis,v=A.radialDragBoxSize,x=v/2;if(h.visible){var y,m,b,_=I(r.radialAxisAngle),M=h._rl,S=M[0],L=M[1],F=M[a],D=.75*(M[1]-M[0])/(1-e.hole)/c;a?(y=u+(c+x)*Math.cos(_),m=p-(c+x)*Math.sin(_),b="radialdrag"):(y=u+(d-x)*Math.cos(_),m=p-(d-x)*Math.sin(_),b="radialdrag-inner");var P,z,B,G=f.makeRectDragger(s,b,"crosshair",-x,-x,v,v),H={element:G,gd:l};C(i.select(G),h.visible&&d<c,{transform:j(y,m)}),H.prepFn=function(){P=null,z=null,B=null,H.moveFn=V,H.doneFn=E,k(l)},H.clampFn=function(t,e){return Math.sqrt(t*t+e*e)<A.MINDRAG&&(t=0,e=0),[t,e]},g.init(H)}function V(t,e){if(P)P(t,e);else{var i=[t,-e],n=[Math.cos(_),Math.sin(_)],s=Math.abs(o.dot(i,n)/Math.sqrt(o.dot(i,i)));isNaN(s)||(P=s<.5?Z:U)}var c={};!function(t){null!==z?t[r.id+".radialaxis.angle"]=z:null!==B&&(t[r.id+".radialaxis.range["+a+"]"]=B)}(c),l.emit("plotly_relayouting",c)}function E(){null!==z?n.call("_guiRelayout",l,r.id+".radialaxis.angle",z):null!==B&&n.call("_guiRelayout",l,r.id+".radialaxis.range["+a+"]",B)}function Z(t,e){if(0!==a){var i=y+t,n=m+e;z=Math.atan2(p-n,i-u),r.vangles&&(z=O(z,r.vangles)),z=R(z);var o=j(u,p)+N(-z);s["radial-axis"].attr("transform",o),s["radial-line"].select("line").attr("transform",o);var l=r.gd._fullLayout,c=l[r.id];r.updateRadialAxisTitle(l,c,z)}}function U(t,e){var i=o.dot([t,-e],[Math.cos(_),Math.sin(_)]);if(B=F-D*i,D>0==(a?B>S:B<L)){var s=l._fullLayout,c=s[r.id];h.range[a]=B,h._rl[a]=B,r.updateRadialAxis(s,c),r.xaxis.setRange(),r.xaxis.setScale(),r.yaxis.setRange(),r.yaxis.setScale();var d=!1;for(var u in r.traceHash){var p=r.traceHash[u],f=o.filterVisible(p);p[0][0].trace._module.plot(l,r,f,c),n.traceIs(u,"gl")&&f.length&&(d=!0)}d&&(w(l),T(l))}else B=null}},D.updateAngularDrag=function(t){var e=this,a=e.gd,r=e.layers,l=e.radius,c=e.angularAxis,d=e.cx,u=e.cy,p=e.cxx,h=e.cyy,v=A.angularDragBoxSize,x=f.makeDragger(r,"path","angulardrag","move"),y={element:x,gd:a};function m(t,e){return Math.atan2(h+v-e,t-p-v)}i.select(x).attr("d",e.pathAnnulus(l,l+v)).attr("transform",j(d,u)).call(b,"move");var _,M,S,L,I,F,D=r.frontplot.select(".scatterlayer").selectAll(".trace"),P=D.selectAll(".point"),O=D.selectAll(".textpoint");function C(t,l){var f=e.gd._fullLayout,g=f[e.id],v=m(_+t,M+l),x=R(v-F);if(L=S+x,r.frontplot.attr("transform",j(e.xOffset2,e.yOffset2)+N([-x,p,h])),e.vangles){I=e.radialAxisAngle+x;var y=j(d,u)+N(-x),k=j(d,u)+N(-I);r.bg.attr("transform",y),r["radial-grid"].attr("transform",y),r["radial-axis"].attr("transform",k),r["radial-line"].select("line").attr("transform",k),e.updateRadialAxisTitle(f,g,I)}else e.clipPaths.forTraces.select("path").attr("transform",j(p,h)+N(x));P.each((function(){var t=i.select(this),e=s.getTranslate(t);t.attr("transform",j(e.x,e.y)+N([x]))})),O.each((function(){var t=i.select(this),e=t.select("text"),a=s.getTranslate(t);t.attr("transform",N([x,e.attr("x"),e.attr("y")])+j(a.x,a.y))})),c.rotation=o.modHalf(L,360),e.updateAngularAxis(f,g),e._hasClipOnAxisFalse&&!o.isFullCircle(e.sectorInRad)&&D.call(s.hideOutsideRangePoints,e);var b=!1;for(var A in e.traceHash)if(n.traceIs(A,"gl")){var C=e.traceHash[A],B=o.filterVisible(C);C[0][0].trace._module.plot(a,e,B,g),B.length&&(b=!0)}b&&(w(a),T(a));var G={};z(G),a.emit("plotly_relayouting",G)}function z(t){t[e.id+".angularaxis.rotation"]=L,e.vangles&&(t[e.id+".radialaxis.angle"]=I)}function B(){O.select("text").attr("transform",null);var t={};z(t),n.call("_guiRelayout",a,t)}y.prepFn=function(i,r,n){var o=t[e.id];S=o.angularaxis.rotation;var l=x.getBoundingClientRect();_=r-l.left,M=n-l.top,F=m(_,M),y.moveFn=C,y.doneFn=B,k(a)},e.vangles&&!o.isFullCircle(e.sectorInRad)&&(y.prepFn=o.noop,b(i.select(x),null)),g.init(y)},D.isPtInside=function(t){var e=this.sectorInRad,a=this.vangles,i=this.angularAxis.c2g(t.theta),r=this.radialAxis,n=r.c2l(t.r),l=r._rl;return(a?M.isPtInsidePolygon:o.isPtInsideSector)(n,i,l,e,a)},D.pathArc=function(t){var e=this.sectorInRad,a=this.vangles;return(a?M.pathPolygon:o.pathArc)(t,e[0],e[1],a)},D.pathSector=function(t){var e=this.sectorInRad,a=this.vangles;return(a?M.pathPolygon:o.pathSector)(t,e[0],e[1],a)},D.pathAnnulus=function(t,e){var a=this.sectorInRad,i=this.vangles;return(i?M.pathPolygonAnnulus:o.pathAnnulus)(t,e,a[0],a[1],i)},D.pathSubplot=function(){var t=this.innerRadius,e=this.radius;return t?this.pathAnnulus(t,e):this.pathSector(e)},D.fillViewInitialKey=function(t,e){t in this.viewInitial||(this.viewInitial[t]=e)}},18156:(t,e,a)=>{"use strict";var i=a(34141),r=a(53522),n=i.deg2rad,o=i.rad2deg;t.exports=function(t,e,a){switch(r(t,a),t._id){case"x":case"radialaxis":!function(t,e){var a=e._subplot;t.setGeometry=function(){var e=t._rl[0],i=t._rl[1],r=a.innerRadius,n=(a.radius-r)/(i-e),o=r/n,l=e>i?function(t){return t<=0}:function(t){return t>=0};t.c2g=function(a){var i=t.c2l(a)-e;return(l(i)?i:0)+o},t.g2c=function(a){return t.l2c(a+e-o)},t.g2p=function(t){return t*n},t.c2p=function(e){return t.g2p(t.c2g(e))}}}(t,e);break;case"angularaxis":!function(t,e){var a=t.type;if("linear"===a){var r=t.d2c,l=t.c2d;t.d2c=function(t,e){return function(t,e){return"degrees"===e?n(t):t}(r(t),e)},t.c2d=function(t,e){return l(function(t,e){return"degrees"===e?o(t):t}(t,e))}}t.makeCalcdata=function(e,r){var n,o,l=e[r],s=e._length,c=function(a){return t.d2c(a,e.thetaunit)};if(l){if(i.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var d=r+"0",u="d"+r,p=d in e?c(e[d]):0,h=e[u]?c(e[u]):(t.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=p+o*h}return n},t.setGeometry=function(){var r,l,s,c,d=e.sector,u=d.map(n),p={clockwise:-1,counterclockwise:1}[t.direction],h=n(t.rotation),f=function(t){return p*t+h},g=function(t){return(t-h)/p};switch(a){case"linear":l=r=i.identity,c=n,s=o,t.range=i.isFullCircle(u)?[d[0],d[0]+360]:u.map(g).map(o);break;case"category":var v=t._categories.length,x=t.period?Math.max(t.period,v):v;0===x&&(x=1),l=c=function(t){return 2*t*Math.PI/x},r=s=function(t){return t*x/Math.PI/2},t.range=[0,x]}t.c2g=function(t){return f(l(t))},t.g2c=function(t){return r(g(t))},t.t2g=function(t){return f(c(t))},t.g2t=function(t){return s(g(t))}}}(t,e)}}},31627:(t,e,a)=>{"use strict";var i=a(88176).f,r=a(88176).s,n=a(94867).extendFlat,o=a(15451),l=a(85485),s=o.line;t.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",role:"info",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",role:"info",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:r({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:i(),selected:o.selected,unselected:o.unselected}},39820:(t,e,a)=>{"use strict";var i=a(34141),r=a(32758),n=a(93327),o=a(43342),l=a(5225),s=a(28509),c=a(74652),d=a(27814).PTS_LINESONLY,u=a(31627);function p(t,e,a,i){var r,n=i("r"),o=i("theta");if(n)o?r=Math.min(n.length,o.length):(r=n.length,i("theta0"),i("dtheta"));else{if(!o)return 0;r=e.theta.length,i("r0"),i("dr")}return e._length=r,r}t.exports={handleRThetaDefaults:p,supplyDefaults:function(t,e,a,h){function f(a,r){return i.coerce(t,e,u,a,r)}var g=p(0,e,0,f);if(g){f("thetaunit"),f("mode",g<d?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==e.hoveron&&f("hovertemplate"),r.hasLines(e)&&(o(t,e,a,h,f),l(t,e,f),f("connectgaps")),r.hasMarkers(e)&&n(t,e,a,h,f,{gradient:!0}),r.hasText(e)&&(f("texttemplate"),s(t,e,h,f));var v=[];(r.hasMarkers(e)||r.hasText(e))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),"none"!==e.fill&&(c(t,e,a,f),r.hasLines(e)||l(t,e,f)),"tonext"!==e.fill&&"toself"!==e.fill||v.push("fills"),f("hoveron",v.join("+")||"points"),i.coerceSelectionMarkerOpacity(e,f)}else e.visible=!1}}},7388:(t,e,a)=>{"use strict";var i=a(34141),r=a(34682);t.exports=function(t,e,a){var n,o,l={},s=a[e.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[e.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(t.r);l.rLabel=r.tickText(n,c,!0).text;var d="degrees"===o.thetaunit?i.rad2deg(t.theta):t.theta;return l.thetaLabel=r.tickText(o,d,!0).text,l}},16882:(t,e,a)=>{"use strict";var i=a(45362);function r(t,e,a,i){var r=a.radialAxis,n=a.angularAxis;r._hovertitle="r",n._hovertitle="θ";var o={};o[e.subplot]={_subplot:a};var l=e._module.formatLabels(t,e,o);i.rLabel=l.rLabel,i.thetaLabel=l.thetaLabel;var s=t.hi||e.hoverinfo,c=[];function d(t,e){c.push(t._hovertitle+": "+e)}if(!e.hovertemplate){var u=s.split("+");-1!==u.indexOf("all")&&(u=["r","theta","text"]),-1!==u.indexOf("r")&&d(r,i.rLabel),-1!==u.indexOf("theta")&&d(n,i.thetaLabel),-1!==u.indexOf("text")&&i.text&&(c.push(i.text),delete i.text),i.extraText=c.join("<br>")}}t.exports={hoverPoints:function(t,e,a,n){var o=i(t,e,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=t.subplot,c=l.cd[l.index],d=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,r(c,d,s,l),l.hovertemplate=d.hovertemplate,o}},makeHoverPointText:r}}}]);
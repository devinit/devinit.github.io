(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[3046],{92983:(e,t,o)=>{"use strict";e.exports=o(51250)},31184:(e,t,o)=>{"use strict";var a=o(91441);a.register([o(60526),o(92983)]),e.exports=a},60526:(e,t,o)=>{"use strict";e.exports=o(47097)},94511:(e,t,o)=>{"use strict";var a=o(45020).BADNUM;t.calcTraceToLineCoords=function(e){for(var t=e[0].trace.connectgaps,o=[],r=[],n=0;n<e.length;n++){var l=e[n].lonlat;l[0]!==a?r.push(l):!t&&r.length>0&&(o.push(r),r=[])}return r.length>0&&o.push(r),o},t.makeLine=function(e){return 1===e.length?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e}},t.makePolygon=function(e){if(1===e.length)return{type:"Polygon",coordinates:e};for(var t=new Array(e.length),o=0;o<e.length;o++)t[o]=[e[o]];return{type:"MultiPolygon",coordinates:t}},t.makeBlank=function(){return{type:"Point",coordinates:[]}}},96357:(e,t,o)=>{"use strict";var a=o(34141),r=o(18882),n=o(72910).c;e.exports=function(e,t,o,l){var i,s,c=l.type,p=l.attributes,u=l.handleDefaults,d=l.partition||"x",h=t._subplots[c],f=h.length,v=f&&h[0].replace(/\d+$/,"");function y(e,t){return a.coerce(i,s,p,e,t)}for(var g=0;g<f;g++){var x=h[g];i=e[x]?e[x]:e[x]={},s=r.newContainer(t,x,v),y("uirevision",t.uirevision);var m={};m[d]=[g/f,(g+1)/f],n(s,t,y,m),l.id=x,u(i,s,y,l)}}},38543:(e,t,o)=>{"use strict";var a=o(88176).f,r=o(15845),n=o(85088),l=o(85485),i=o(28604).defaultLine,s=o(94867).extendFlat,c=r.marker.line;e.exports=s({locations:{valType:"data_array",editType:"calc",description:["Sets the coordinates via location IDs or names.","See `locationmode` for more info."].join(" ")},locationmode:r.locationmode,z:{valType:"data_array",editType:"calc",description:"Sets the color values."},geojson:s({},r.geojson,{description:["Sets optional GeoJSON data associated with this trace.","If not given, the features on the base map are used.","It can be set as a valid GeoJSON object or as a URL string.","Note that we only accept GeoJSONs of type *FeatureCollection* or *Feature*","with geometries of type *Polygon* or *MultiPolygon*."].join(" ")}),featureidkey:r.featureidkey,text:s({},r.text,{description:"Sets the text elements associated with each location."}),hovertext:s({},r.hovertext,{description:"Same as `text`."}),marker:{line:{color:s({},c.color,{dflt:i}),width:s({},c.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,role:"style",editType:"style",description:"Sets the opacity of the locations."},editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:r.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:s({},l.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:a(),showlegend:s({},l.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},97296:(e,t,o)=>{"use strict";var a=o(35924),r=o(45020).BADNUM,n=o(90336),l=o(77503),i=o(12356);function s(e){return e&&"string"==typeof e}e.exports=function(e,t){var o,c=t._length,p=new Array(c);o=t.geojson?function(e){return s(e)||a(e)}:s;for(var u=0;u<c;u++){var d=p[u]={},h=t.locations[u],f=t.z[u];o(h)&&a(f)?(d.loc=h,d.z=f):(d.loc=null,d.z=r),d.index=u}return l(p,t),n(e,t,{vals:t.z,containerStr:"",cLetter:"z"}),i(p,t),p}},3415:(e,t,o)=>{"use strict";var a=o(34141),r=o(62252),n=o(38543);e.exports=function(e,t,o,l){function i(o,r){return a.coerce(e,t,n,o,r)}var s=i("locations"),c=i("z");if(s&&s.length&&a.isArrayOrTypedArray(c)&&c.length){t._length=Math.min(s.length,c.length);var p,u=i("geojson");("string"==typeof u&&""!==u||a.isPlainObject(u))&&(p="geojson-id"),"geojson-id"===i("locationmode",p)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),r(e,t,l,i,{prefix:"",cLetter:"z"}),a.coerceSelectionMarkerOpacity(t,i)}else t.visible=!1}},11445:e=>{"use strict";e.exports=function(e,t,o,a,r){e.location=t.location,e.z=t.z;var n=a[r];return n.fIn&&n.fIn.properties&&(e.properties=n.fIn.properties),e.ct=n.ct,e}},78451:(e,t,o)=>{"use strict";var a=o(34682),r=o(38543),n=o(34141).fillText;e.exports=function(e,t,o){var l,i,s,c,p=e.cd,u=p[0].trace,d=e.subplot;for(i=0;i<p.length;i++)if(c=!1,(l=p[i])._polygons){for(s=0;s<l._polygons.length;s++)l._polygons[s].contains([t,o])&&(c=!c),l._polygons[s].contains([t+360,o])&&(c=!c);if(c)break}if(c&&l)return e.x0=e.x1=e.xa.c2p(l.ct),e.y0=e.y1=e.ya.c2p(l.ct),e.index=l.index,e.location=l.loc,e.z=l.z,e.zLabel=a.tickText(d.mockAxis,d.mockAxis.c2l(l.z),"hover").text,e.hovertemplate=l.hovertemplate,function(e,t,o){if(!t.hovertemplate){var a=o.hi||t.hoverinfo,l=String(o.loc),i="all"===a?r.hoverinfo.flags:a.split("+"),s=-1!==i.indexOf("name"),c=-1!==i.indexOf("location"),p=-1!==i.indexOf("z"),u=-1!==i.indexOf("text"),d=[];!s&&c?e.nameOverride=l:(s&&(e.nameOverride=t.name),c&&d.push(l)),p&&d.push(e.zLabel),u&&n(o,t,d),e.extraText=d.join("<br>")}}(e,u,l,d.mockAxis),[e]}},51250:(e,t,o)=>{"use strict";e.exports={attributes:o(38543),supplyDefaults:o(3415),colorbar:o(95005),calc:o(97296),calcGeoJSON:o(4973).calcGeoJSON,plot:o(4973).plot,style:o(80012).style,styleOnSelect:o(80012).styleOnSelect,hoverPoints:o(78451),eventData:o(11445),selectPoints:o(71436),moduleType:"trace",name:"choropleth",basePlotModule:o(42483),categories:["geo","noOpacity","showLegend"],meta:{description:["The data that describes the choropleth value-to-color mapping","is set in `z`.","The geographic locations corresponding to each value in `z`","are set in `locations`."].join(" ")}}},4973:(e,t,o)=>{"use strict";var a=o(15078),r=o(34141),n=o(94187),l=o(27653).getTopojsonFeatures,i=o(5816).findExtremes,s=o(80012).style;e.exports={calcGeoJSON:function(e,t){for(var o=e[0].trace,a=t[o.geo],r=a._subplot,s=o.locationmode,c=o._length,p="geojson-id"===s?n.extractTraceFeature(e):l(o,r.topojson),u=[],d=[],h=0;h<c;h++){var f=e[h],v="geojson-id"===s?f.fOut:n.locationToFeature(s,f.loc,p);if(v){f.geojson=v,f.ct=v.properties.ct,f._polygons=n.feature2polygons(v);var y=n.computeBbox(v);u.push(y[0],y[2]),d.push(y[1],y[3])}else f.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===s){var g=n.computeBbox(n.getTraceGeojson(o));u=[g[0],g[2]],d=[g[1],g[3]]}var x={padded:!0};o._extremes.lon=i(a.lonaxis._ax,u,x),o._extremes.lat=i(a.lataxis._ax,d,x)},plot:function(e,t,o){var n=t.layers.backplot.select(".choroplethlayer");r.makeTraceGroups(n,o,"trace choropleth").each((function(t){var o=a.select(this).selectAll("path.choroplethlocation").data(r.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),s(e,t)}))}}},71436:e=>{"use strict";e.exports=function(e,t){var o,a,r,n,l,i=e.cd,s=e.xaxis,c=e.yaxis,p=[];if(!1===t)for(o=0;o<i.length;o++)i[o].selected=0;else for(o=0;o<i.length;o++)(r=(a=i[o]).ct)&&(n=s.c2p(r),l=c.c2p(r),t.contains([n,l],null,o,e)?(p.push({pointNumber:o,lon:r[0],lat:r[1]}),a.selected=1):a.selected=0);return p}},80012:(e,t,o)=>{"use strict";var a=o(15078),r=o(57597),n=o(84474),l=o(59430);function i(e,t){var o=t[0].trace,i=t[0].node3.selectAll(".choroplethlocation"),s=o.marker||{},c=s.line||{},p=l.makeColorScaleFuncFromTrace(o);i.each((function(e){a.select(this).attr("fill",p(e.z)).call(r.stroke,e.mlc||c.color).call(n.dashLine,"",e.mlw||c.width||0).style("opacity",s.opacity)})),n.selectedPointStyle(i,o,e)}e.exports={style:function(e,t){t&&i(e,t)},styleOnSelect:function(e,t){var o=t[0].node3,a=t[0].trace;a.selectedpoints?n.selectedPointStyle(o.selectAll(".choroplethlocation"),a,e):i(e,t)}}},95005:e=>{"use strict";e.exports={min:"zmin",max:"zmax"}},89068:(e,t,o)=>{"use strict";var a=o(35924),r=o(45020).BADNUM,n=o(39764),l=o(77503),i=o(12356),s=o(34141)._;function c(e){return e&&"string"==typeof e}e.exports=function(e,t){var o,p=Array.isArray(t.locations),u=p?t.locations.length:t._length,d=new Array(u);o=t.geojson?function(e){return c(e)||a(e)}:c;for(var h=0;h<u;h++){var f=d[h]={};if(p){var v=t.locations[h];f.loc=o(v)?v:null}else{var y=t.lon[h],g=t.lat[h];a(y)&&a(g)?f.lonlat=[+y,+g]:f.lonlat=[r,r]}}return l(d,t),n(e,t),i(d,t),u&&(d[0].t={labels:{lat:s(e,"lat:")+" ",lon:s(e,"lon:")+" "}}),d}},81429:(e,t,o)=>{"use strict";var a=o(34141),r=o(32758),n=o(93327),l=o(43342),i=o(28509),s=o(74652),c=o(15845);e.exports=function(e,t,o,p){function u(o,r){return a.coerce(e,t,c,o,r)}var d,h=u("locations");if(h&&h.length){var f,v=u("geojson");("string"==typeof v&&""!==v||a.isPlainObject(v))&&(f="geojson-id"),"geojson-id"===u("locationmode",f)&&u("featureidkey"),d=h.length}else{var y=u("lon")||[],g=u("lat")||[];d=Math.min(y.length,g.length)}d?(t._length=d,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),r.hasLines(t)&&(l(e,t,o,p,u),u("connectgaps")),r.hasMarkers(t)&&n(e,t,o,p,u,{gradient:!0}),r.hasText(t)&&(u("texttemplate"),i(e,t,p,u)),u("fill"),"none"!==t.fill&&s(e,t,o,u),a.coerceSelectionMarkerOpacity(t,u)):t.visible=!1}},8836:e=>{"use strict";e.exports=function(e,t,o,a,r){e.lon=t.lon,e.lat=t.lat,e.location=t.loc?t.loc:null;var n=a[r];return n.fIn&&n.fIn.properties&&(e.properties=n.fIn.properties),e}},42907:(e,t,o)=>{"use strict";var a=o(34682);e.exports=function(e,t,o){var r={},n=o[t.geo]._subplot.mockAxis,l=e.lonlat;return r.lonLabel=a.tickText(n,n.c2l(l[0]),!0).text,r.latLabel=a.tickText(n,n.c2l(l[1]),!0).text,r}},58718:(e,t,o)=>{"use strict";var a=o(87529),r=o(45020).BADNUM,n=o(11883),l=o(34141).fillText,i=o(15845);e.exports=function(e,t,o){var s=e.cd,c=s[0].trace,p=e.xa,u=e.ya,d=e.subplot,h=d.projection.isLonLatOverEdges,f=d.project;if(a.getClosest(s,(function(e){var a=e.lonlat;if(a[0]===r)return 1/0;if(h(a))return 1/0;var n=f(a),l=f([t,o]),i=Math.abs(n[0]-l[0]),s=Math.abs(n[1]-l[1]),c=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(i*i+s*s)-c,1-3/c)}),e),!1!==e.index){var v=s[e.index],y=v.lonlat,g=[p.c2p(y),u.c2p(y)],x=v.mrc||1;e.x0=g[0]-x,e.x1=g[0]+x,e.y0=g[1]-x,e.y1=g[1]+x,e.loc=v.loc,e.lon=y[0],e.lat=y[1];var m={};m[c.geo]={_subplot:d};var b=c._module.formatLabels(v,c,m);return e.lonLabel=b.lonLabel,e.latLabel=b.latLabel,e.color=n(c,v),e.extraText=function(e,t,o,a){if(!e.hovertemplate){var r=t.hi||e.hoverinfo,n="all"===r?i.hoverinfo.flags:r.split("+"),s=-1!==n.indexOf("location")&&Array.isArray(e.locations),c=-1!==n.indexOf("lon"),p=-1!==n.indexOf("lat"),u=-1!==n.indexOf("text"),d=[];return s?d.push(t.loc):c&&p?d.push("("+h(o.lonLabel)+", "+h(o.latLabel)+")"):c?d.push(a.lon+h(o.lonLabel)):p&&d.push(a.lat+h(o.latLabel)),u&&l(t,e,d),d.join("<br>")}function h(e){return e+"°"}}(c,v,e,s[0].t.labels),e.hovertemplate=c.hovertemplate,[e]}}},47097:(e,t,o)=>{"use strict";e.exports={attributes:o(15845),supplyDefaults:o(81429),colorbar:o(62280),formatLabels:o(42907),calc:o(89068),calcGeoJSON:o(5624).calcGeoJSON,plot:o(5624).plot,style:o(39396),styleOnSelect:o(5049).styleOnSelect,hoverPoints:o(58718),eventData:o(8836),selectPoints:o(55444),moduleType:"trace",name:"scattergeo",basePlotModule:o(42483),categories:["geo","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_geo",description:["The data visualized as scatter point or lines on a geographic map","is provided either by longitude/latitude pairs in `lon` and `lat`","respectively or by geographic location IDs or names in `locations`."].join(" ")}}},5624:(e,t,o)=>{"use strict";var a=o(15078),r=o(34141),n=o(27653).getTopojsonFeatures,l=o(94511),i=o(94187),s=o(5816).findExtremes,c=o(45020).BADNUM,p=o(52006).calcMarkerSize,u=o(32758),d=o(39396);e.exports={calcGeoJSON:function(e,t){var o,a,r=e[0].trace,l=t[r.geo],u=l._subplot,d=r._length;if(Array.isArray(r.locations)){var h=r.locationmode,f="geojson-id"===h?i.extractTraceFeature(e):n(r,u.topojson);for(o=0;o<d;o++){a=e[o];var v="geojson-id"===h?a.fOut:i.locationToFeature(h,a.loc,f);a.lonlat=v?v.properties.ct:[c,c]}}var y,g,x={padded:!0};if("geojson"===l.fitbounds&&"geojson-id"===r.locationmode){var m=i.computeBbox(i.getTraceGeojson(r));y=[m[0],m[2]],g=[m[1],m[3]]}else{for(y=new Array(d),g=new Array(d),o=0;o<d;o++)a=e[o],y[o]=a.lonlat[0],g[o]=a.lonlat[1];x.ppad=p(r,d)}r._extremes.lon=s(l.lonaxis._ax,y,x),r._extremes.lat=s(l.lataxis._ax,g,x)},plot:function(e,t,o){var n=t.layers.frontplot.select(".scatterlayer"),i=r.makeTraceGroups(n,o,"trace scattergeo");function s(e,t){e.lonlat[0]===c&&a.select(t).remove()}i.selectAll("*").remove(),i.each((function(t){var o=a.select(this),n=t[0].trace;if(u.hasLines(n)||"none"!==n.fill){var i=l.calcTraceToLineCoords(t),c="none"!==n.fill?l.makePolygon(i):l.makeLine(i);o.selectAll("path.js-line").data([{geojson:c,trace:n}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}u.hasMarkers(n)&&o.selectAll("path.point").data(r.identity).enter().append("path").classed("point",!0).each((function(e){s(e,this)})),u.hasText(n)&&o.selectAll("g").data(r.identity).enter().append("g").append("text").each((function(e){s(e,this)})),d(e,t)}))}}},55444:(e,t,o)=>{"use strict";var a=o(32758),r=o(45020).BADNUM;e.exports=function(e,t){var o,n,l,i,s,c=e.cd,p=e.xaxis,u=e.yaxis,d=[],h=c[0].trace;if(!a.hasMarkers(h)&&!a.hasText(h))return[];if(!1===t)for(s=0;s<c.length;s++)c[s].selected=0;else for(s=0;s<c.length;s++)(n=(o=c[s]).lonlat)[0]!==r&&(l=p.c2p(n),i=u.c2p(n),t.contains([l,i],null,s,e)?(d.push({pointNumber:s,lon:n[0],lat:n[1]}),o.selected=1):o.selected=0);return d}},39396:(e,t,o)=>{"use strict";var a=o(15078),r=o(84474),n=o(57597),l=o(5049),i=l.stylePoints,s=l.styleText;e.exports=function(e,t){t&&function(e,t){var o=t[0].trace,l=t[0].node3;l.style("opacity",t[0].trace.opacity),i(l,o,e),s(l,o,e),l.selectAll("path.js-line").style("fill","none").each((function(e){var t=a.select(this),o=e.trace,l=o.line||{};t.call(n.stroke,l.color).call(r.dashLine,l.dash||"",l.width||0),"none"!==o.fill&&t.call(n.fill,o.fillcolor)}))}(e,t)}}}]);
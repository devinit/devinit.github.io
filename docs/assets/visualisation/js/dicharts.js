var DICharts;(()=>{"use strict";var t={996:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function c(t,n,u){(u=u||{}).arrayMerge=u.arrayMerge||o,u.isMergeableObject=u.isMergeableObject||e,u.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(t)?l?u.arrayMerge(t,n,u):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return c;var n=e.customMerge(t);return"function"==typeof n?n:c}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,u):r(n,u)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return c(t,n,e)}),{})};var u=c;t.exports=u}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{Chart:()=>a,handler:()=>E});var a=function(){function e(n){var r=this;t(this,e),i(this,"chartElement",void 0),i(this,"theme","default"),i(this,"filters",[]),i(this,"setFilters",(function(t){r.filters=t})),i(this,"getFilters",(function(){return r.filters})),i(this,"showLoading",(function(){var t=r.getParentElement();t&&t.classList.add("chart-container--loading")})),i(this,"hideLoading",(function(){var t=r.getParentElement();t&&function(t){t.classList.remove("chart-container--loading");var e=t.querySelector(".chart-loading");e&&e.classList.add("hide")}(t)})),i(this,"addFilter",(function(t,e,n){var o=r.getElement(t);return e.forEach((function(t){var e=document.createElement("option");e.value="string"==typeof t?t:t.value,e.text=r.getFilterText("string"==typeof t?t:t.label,n),o.appendChild(e)})),o.classList.add("data-selector--active"),o})),i(this,"getThemes",(function(){return{rainbow:["#e84439","#eb642b","#f49b21","#109e68","#0089cc","#893f90","#c2135b","#f8c1b2","#f6bb9d","#fccc8e","#92cba9","#88bae5","#c189bb","#e4819b"],default:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],sunflower:["#7d4712","#ba6b15","#df8000","#f7a838","#fac47e","#fedcab","#fee7c1","#feedd4"],marigold:["#7a2e05","#ac4622","#cb5730","#ee7644","#f4a57c","#facbad","#fcdbbf","#fde5d4"],rose:["#65093d","#8d0e56","#9f1459","#d12568","#e05c86","#f3a5b6","#f6b8c1","#f9cdd0"],lavendar:["#42184c","#632572","#732c85","#994d98","#af73ae","#cb98c4","#deb5d6","#ebcfe5"],bluebell:["#0a3a64","#00538e","#1060a3","#4397d3","#77adde","#a3c7eb","#bcd4f0","#d3e0f4"],leaf:["#08492f","#005b3e","#00694a","#3b8c62","#74bf93","#a2d1b0","#b1d8bb","#c5e1cb"]}})),i(this,"getTheme",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return t?[t,r.getThemes()[t]]:[r.theme,r.getThemes()[r.theme]]})),i(this,"getPageTheme",(function(){var t,e=document.body.classList,n=r.getThemes();return Object.keys(n).forEach((function(n){e.contains("body--".concat(n))&&(t=r.getTheme(n))})),t})),this.chartElement=this.getElement(n)}return o(e,[{key:"getParentElement",value:function(){return this.chartElement.parentElement}},{key:"getFilterText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.labelPrefix,r=e.labelSuffix;return"".concat(n||"").concat(t).concat(r||"")}},{key:"handleFilter",value:function(t){var e=this.getParentElement();if(e){var n=e.querySelector(".".concat(t.className));if(!n)throw new Error("No element with class ".concat(t.className));var r=t.options;!r&&t.getOptions&&(r=t.getOptions(this)),r&&r.length&&(this.addFilter(n,r||[]),this.addFilterEvents(n,t),this.setFilters(this.filters.concat({name:t.className,value:[r[0]]})))}}},{key:"addFilterEvents",value:function(t,e){var n=this;e.onChange&&t.addEventListener("change",(function(t){var r=t.target.value;n.setFilters(n.filters.map((function(t){return t.name===e.className&&-1===t.value.indexOf(r)&&(t.value=e.multi?t.value.concat(r):[r]),t}))),e.onChange(t,n)}))}},{key:"initCustomWidgets",value:function(t){var e=this;t.filters&&t.filters.forEach((function(t){return e.handleFilter(t)}))}},{key:"getElement",value:function(t){if(!t)throw new Error("An id to the element or an actual element is required");if("string"==typeof t){var e=document.getElementById(t);if(!e)throw new Error("No element with id ".concat(t));return e}return t}}]),e}();function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?u(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var y=n(996),p=n.n(y);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b={hovermode:"closest"},m={displayModeBar:!0,responsive:!0,showLink:!1,plotlyServerURL:"https://chart-studio.plotly.com",toImageButtonOptions:{width:1200,height:657},modeBarButtonsToRemove:["pan2d","select2d","lasso2d","hoverClosestCartesian","hoverCompareCartesian","toggleSpikelines"]},w=function(e){s(l,e);var n,r,a=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(r){var o=h(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return d(this,t)});function l(e,n){var r;return t(this,l),i(u(r=a.call(this,e)),"options",void 0),i(u(r),"data",[]),i(u(r),"layout",{}),i(u(r),"config",{}),i(u(r),"plot",void 0),i(u(r),"sourceData",void 0),i(u(r),"getPlot",(function(){return r.plot})),i(u(r),"setData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.data=t,u(r)})),i(u(r),"setLayout",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.layout=p()(r.layout,t),r.setTheme(r.options.theme)})),i(u(r),"getLayout",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(b,t)})),i(u(r),"setTheme",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return r.layout=v(v({},r.layout),{},{colorway:r.getThemes()[t]}),r.theme=t,u(r)})),i(u(r),"setConfig",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.config=p()(r.config,t),u(r)})),i(u(r),"getConfig",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(m,t)})),i(u(r),"getOptions",(function(){return r.options})),i(u(r),"csv",(function(t){return new Promise((function(e){window.Plotly.d3.csv(t,(function(t){e(t)}))}))})),i(u(r),"updatePlot",(function(){return r.plot?window.Plotly.react(r.chartElement,r.data,r.getLayout(r.layout),r.getConfig(r.config)).then((function(t){return r.addPlot(t),r.options.theme||r.updateLayoutColorway(),r.hideLoading(),{plot:t,config:r.options}})):r.newPlot(r.chartElement,r.data,r.getLayout(r.layout),r.getConfig(r.config))})),i(u(r),"updateLayoutColorway",(function(){if(r.plot){var t=r.getThemes(),e=void 0;if(r.plot.calcdata.length>8)e=t.rainbow;else for(var n=document.body.classList,o=0,i=Object.entries(t);o<i.length;o++){var a=(s=i[o],f=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(s,f)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(s,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];if(n.contains("body--".concat(u))&&l.length<=8){e=l;break}}e&&window.Plotly.relayout(r.chartElement,{colorway:e})}var s,f})),r.options=n,r}return o(l,[{key:"setSourceData",value:function(t){return this.sourceData=t,this}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"addPlot",value:function(t){return this.plot=t,this}},{key:"newPlot",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return window.Plotly.newPlot(t,e,r,this.getConfig(o)).then((function(t){return t.on("plotly_click",(function(t){n.options.onClick&&n.options.onClick(t,n)})),!n.plot&&n.options.widgets&&n.initCustomWidgets(n.options.widgets),n.addPlot(t),n.initPlotlyWidgets(),n.options.theme||n.updateLayoutColorway(),n.hideLoading(),{plot:t,config:n.options}}))}},{key:"initPlotlyWidgets",value:function(){var t=this.options.widgets,e=void 0===t?{}:t;e.legend&&this.handleLegend(e.legend)}},{key:"handleLegend",value:function(t){var e=this;this.plot&&t.onClick&&this.plot.on("plotly_legendclick",(function(n){return!t.onClick||t.onClick(n,e)}))}}]),l}(a),O={legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},toolbox:{showTitle:!1,feature:{saveAsImage:{title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(t){return"<div>".concat(t.title,"</div>")}}}},xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}}};var P,S,j=function(e){s(c,e);var n,r,a=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(r){var o=h(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return d(this,t)});function c(e,n){var r;return t(this,c),i(u(r=a.call(this,e)),"config",void 0),i(u(r),"options",{}),i(u(r),"sourceData",void 0),i(u(r),"chart",void 0),i(u(r),"getConfig",(function(){return r.config})),i(u(r),"setOptions",(function(t){return r.options=p()(O,t),u(r)})),i(u(r),"csv",(function(t){return new Promise((function(e){window.d3.csv(t,(function(t){e(t)}))}))})),i(u(r),"setChart",(function(t){return r.chart=t,u(r)})),i(u(r),"getChart",(function(){return r.chart||(r.chart=window.echarts.init(r.chartElement)),r.chart})),i(u(r),"updateChart",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.chart?r.chart.setOption(r.options,!t):(r.chart=window.echarts.init(r.chartElement),r.chart.setOption(r.options),r.config.widgets&&r.initCustomWidgets(r.config.widgets)),r.hideLoading(),r.chart})),r.config=n,n.options&&(r.options=n.options),r}return o(c,[{key:"setSourceData",value:function(t){return this.sourceData=t,this}},{key:"getSourceData",value:function(){return this.sourceData}}]),c}(a),E=(P=[],S=function(t){var e=function(t){if(!t)throw new Error("An indentifying class for the element is required");return document.querySelectorAll(".".concat(t,":not(.dicharts-handler--active)"))}(t.className);!function(t,e){t.plotly&&t.plotly.onAdd&&t.plotly.onAdd(e),t.d3&&t.d3.onAdd&&t.d3.onAdd(e),t.echarts&&t.echarts.onAdd&&t.echarts.onAdd(e)}(t,e),Array.prototype.forEach.call(e,(function(e){e.classList.add("dicharts-handler--active"),t.plotly?function(t,e){var n=new w(t,e);n.showLoading(),n.setLayout(e.layout).setConfig(e.config),e.data&&e.data.length?n.setData(e.data).updatePlot():e.csv&&n.csv(e.csv.url).then((function(t){var r;n.setSourceData(t),null===(r=e.csv)||void 0===r||r.onFetch(t,e,n)}))}(e,t.plotly):t.echarts&&function(t,e){var n=new j(t,e);n.showLoading(),e.csv&&n.csv(e.csv.url).then((function(t){var r;n.setSourceData(t),null===(r=e.csv)||void 0===r||r.onFetch(t,n)})),e.onInit&&e.onInit(n)}(e,t.echarts)}))},{addChart:function(t){P.push(t),S(t)},getCharts:function(){return P}})})(),DICharts=r})();
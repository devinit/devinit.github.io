(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[363],{67855:(e,t,r)=>{"use strict";var n=r(15451),i=r(88176).f,a=r(88176).s,o=r(85088),s=r(38003),l=r(99928),c=r(94867).extendFlat,d=s({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),u=c({},n.marker.line.width,{dflt:0}),f=c({width:u,editType:"calc"},o("marker.line")),p=c({line:f,editType:"calc"},o("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});e.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:n.text,texttemplate:a({editType:"plot"},{keys:l.eventDataKeys}),hovertext:n.hovertext,hovertemplate:i({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",role:"info",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",role:"info",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:c({},d,{description:"Sets the font used for `text`."}),insidetextfont:c({},d,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:c({},d,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:c({},n.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:p,offsetgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},r:n.r,t:n.t,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},99928:e=>{"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},58061:(e,t,r)=>{"use strict";var n=r(34141),i=r(57597),a=r(97997),o=r(73978),s=r(30572),l=r(44790).getAxisGroup,c=r(67855),d=n.coerceFont;function u(e,t,r,n){var i=t.orientation,a=t[{v:"x",h:"y"}[i]+"axis"],o=l(r,a)+i,s=r._alignmentOpts||{},c=n("alignmentgroup"),d=s[o];d||(d=s[o]={});var u=d[c];u?u.traces.push(t):u=d[c]={traces:[t],alignmentIndex:Object.keys(d).length,offsetGroups:{}};var f=n("offsetgroup"),p=u.offsetGroups,h=p[f];f&&(h||(h=p[f]={offsetIndex:Object.keys(p).length}),t._offsetIndex=h.offsetIndex)}function f(e,t,r,i,a,o){var s=!(!1===(o=o||{}).moduleHasSelected),l=!(!1===o.moduleHasUnselected),c=!(!1===o.moduleHasConstrain),u=!(!1===o.moduleHasCliponaxis),f=!(!1===o.moduleHasTextangle),p=!(!1===o.moduleHasInsideanchor),h=!!o.hasPathbar,x=Array.isArray(a)||"auto"===a,m=x||"inside"===a,v=x||"outside"===a;if(m||v){var y=d(i,"textfont",r.font),g=n.extendFlat({},y),b=!(e.textfont&&e.textfont.color);if(b&&delete g.color,d(i,"insidetextfont",g),h){var T=n.extendFlat({},y);b&&delete T.color,d(i,"pathbar.textfont",T)}v&&d(i,"outsidetextfont",y),s&&i("selected.textfont.color"),l&&i("unselected.textfont.color"),c&&i("constraintext"),u&&i("cliponaxis"),f&&i("textangle"),i("texttemplate")}m&&p&&i("insidetextanchor")}e.exports={supplyDefaults:function(e,t,r,l){function d(r,i){return n.coerce(e,t,c,r,i)}if(o(e,t,l,d)){d("orientation",t.x&&!t.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var u=d("textposition");f(e,0,l,d,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(e,t,d,r,l);var p=(t.marker.line||{}).color,h=a.getComponentMethod("errorbars","supplyDefaults");h(e,t,p||i.defaultLine,{axis:"y"}),h(e,t,p||i.defaultLine,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(t,d)}else t.visible=!1},crossTraceDefaults:function(e,t){var r;function i(e){return n.coerce(r._input,r,c,e)}if("group"===t.barmode)for(var a=0;a<e.length;a++)"bar"===(r=e[a]).type&&(r._input,u(0,r,t,i))},handleGroupingDefaults:u,handleText:f}},95912:(e,t,r)=>{"use strict";var n=r(35924),i=r(17621),a=r(34141).isArrayOrTypedArray;t.coerceString=function(e,t,r){if("string"==typeof t){if(t||!e.noBlank)return t}else if(("number"==typeof t||!0===t)&&!e.strict)return String(t);return void 0!==r?r:e.dflt},t.coerceNumber=function(e,t,r){if(n(t)){t=+t;var i=e.min,a=e.max;if(!(void 0!==i&&t<i||void 0!==a&&t>a))return t}return void 0!==r?r:e.dflt},t.coerceColor=function(e,t,r){return i(t).isValid()?t:void 0!==r?r:e.dflt},t.coerceEnumerated=function(e,t,r){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==r?r:e.dflt},t.getValue=function(e,t){var r;return Array.isArray(e)?t<e.length&&(r=e[t]):r=e,r},t.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:a(e.marker.line.width)?0:e.marker.line.width}},38327:(e,t,r)=>{"use strict";var n=r(15078),i=r(35924),a=r(34141),o=r(8666),s=r(57597),l=r(84474),c=r(97997),d=r(34682).tickText,u=r(50001),f=u.recordMinTextSize,p=u.clearMinTextSize,h=r(49888),x=r(95912),m=r(99928),v=r(67855),y=v.text,g=v.textposition,b=r(70611).appendArrayPointValue,T=m.TEXTPAD;function k(e){return e.id}function w(e){if(e.ids)return k}function S(e,t){return e<t?1:-1}function z(e,t,r,n){var i;return!t.uniformtext.mode&&M(r)?(n&&(i=n()),e.transition().duration(r.duration).ease(r.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):e}function M(e){return e&&e.duration>0}function L(e){return"auto"===e?0:e}function _(e,t){var r=Math.PI/180*t,n=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));return{x:e.width*i+e.height*n,y:e.width*n+e.height*i}}function A(e,t,r,n,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,c=a.anchor||"end",d="end"===c,u="start"===c,f=((a.leftToRight||0)+1)/2,p=1-f,h=i.width,x=i.height,m=Math.abs(t-e),v=Math.abs(n-r),y=m>2*T&&v>2*T?T:0;m-=2*y,v-=2*y;var g=L(l);"auto"!==l||h<=m&&x<=v||!(h>m||x>v)||(h>v||x>m)&&h<x==m<v||(g+=90);var b=_(i,g),k=1;s&&(k=Math.min(1,m/b.x,v/b.y));var w=i.left*p+i.right*f,z=(i.top+i.bottom)/2,M=(e+T)*p+(t-T)*f,A=(r+n)/2,C=0,O=0;if(u||d){var P=(o?b.x:b.y)/2,H=o?S(e,t):S(r,n);o?u?(M=e+H*y,C=-H*P):(M=t-H*y,C=H*P):u?(A=r+H*y,O=-H*P):(A=n-H*y,O=H*P)}return{textX:w,textY:z,targetX:M,targetY:A,anchorX:C,anchorY:O,scale:k,rotate:g}}e.exports={plot:function(e,t,r,u,m,v){var k=t.xaxis,C=t.yaxis,O=e._fullLayout;m||(m={mode:O.barmode,norm:O.barmode,gap:O.bargap,groupgap:O.bargroupgap},p("bar",O));var P=a.makeTraceGroups(u,r,"trace bars").each((function(r){var c=n.select(this),u=r[0].trace,p="waterfall"===u.type,P="funnel"===u.type,H="bar"===u.type||P,I=0;p&&u.connector.visible&&"between"===u.connector.mode&&(I=u.connector.line.width/2);var j="h"===u.orientation,F=M(m),R=a.ensureSingle(c,"g","points"),D=w(u),V=R.selectAll("g.point").data(a.identity,D);V.enter().append("g").classed("point",!0),V.exit().remove(),V.each((function(c,p){var w,M,P=n.select(this),R=function(e,t,r,n){var i=[],a=[],o=n?t:r,s=n?r:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),n?[i,a]:[a,i]}(c,k,C,j),D=R[0][0],V=R[0][1],B=R[1][0],U=R[1][1],X=0==(j?V-D:U-B);if(X&&H&&x.getLineWidth(u,c)&&(X=!1),X||(X=!(i(D)&&i(V)&&i(B)&&i(U))),c.isBlank=X,X&&(j?V=D:U=B),I&&!X&&(j?(D-=S(D,V)*I,V+=S(D,V)*I):(B-=S(B,U)*I,U+=S(B,U)*I)),"waterfall"===u.type){if(!X){var E=u[c.dir].marker;w=E.line.width,M=E.color}}else w=x.getLineWidth(u,c),M=c.mc||u.marker.color;function Y(e){var t=n.round(w/2%1,2);return 0===m.gap&&0===m.groupgap?n.round(Math.round(e)-t,2):e}if(!e._context.staticPlot){var G=s.opacity(M)<1||w>.01?Y:function(e,t,r){return r&&e===t?e:Math.abs(e-t)>=2?Y(e):e>t?Math.ceil(e):Math.floor(e)};D=G(D,V,j),V=G(V,D,j),B=G(B,U,!j),U=G(U,B,!j)}var N=z(a.ensureSingle(P,"path"),O,m,v);if(N.style("vector-effect","non-scaling-stroke").attr("d",isNaN((V-D)*(U-B))?"M0,0Z":"M"+D+","+B+"V"+U+"H"+V+"V"+B+"Z").call(l.setClipUrl,t.layerClipId,e),!O.uniformtext.mode&&F){var W=l.makePointStyleFns(u);l.singlePointStyle(c,N,u,W,e)}!function(e,t,r,n,i,s,c,u,p,m,v){var k,w=t.xaxis,M=t.yaxis,C=e._fullLayout;function O(t,r,n){return a.ensureSingle(t,"text").text(r).attr({class:"bartext bartext-"+k,"text-anchor":"middle","data-notex":1}).call(l.font,n).call(o.convertToTspans,e)}var P=n[0].trace,H="h"===P.orientation,I=function(e,t,r,n,i){var o,s=t[0].trace;return o=s.texttemplate?function(e,t,r,n,i){var o=t[0].trace,s=a.castOption(o,r,"texttemplate");if(!s)return"";var l,c,u,f,p="waterfall"===o.type,h="funnel"===o.type;function x(e){return d(f,+e,!0).text}"h"===o.orientation?(l="y",c=i,u="x",f=n):(l="x",c=n,u="y",f=i);var m,v=t[r],y={};y.label=v.p,y.labelLabel=y[l+"Label"]=(m=v.p,d(c,m,!0).text);var g=a.castOption(o,v.i,"text");(0===g||g)&&(y.text=g),y.value=v.s,y.valueLabel=y[u+"Label"]=x(v.s);var T={};b(T,o,v.i),p&&(y.delta=+v.rawS||v.s,y.deltaLabel=x(y.delta),y.final=v.v,y.finalLabel=x(y.final),y.initial=y.final-y.delta,y.initialLabel=x(y.initial)),h&&(y.value=v.s,y.valueLabel=x(y.value),y.percentInitial=v.begR,y.percentInitialLabel=a.formatPercent(v.begR),y.percentPrevious=v.difR,y.percentPreviousLabel=a.formatPercent(v.difR),y.percentTotal=v.sumR,y.percenTotalLabel=a.formatPercent(v.sumR));var k=a.castOption(o,v.i,"customdata");return k&&(y.customdata=k),a.texttemplateString(s,y,e._d3locale,T,y,o._meta||{})}(e,t,r,n,i):s.textinfo?function(e,t,r,n){var i=e[0].trace,o="h"===i.orientation,s="waterfall"===i.type,l="funnel"===i.type;function c(e){return d(o?r:n,+e,!0).text}var u,f,p=i.textinfo,h=e[t],x=p.split("+"),m=[],v=function(e){return-1!==x.indexOf(e)};if(v("label")&&m.push((f=e[t].p,d(o?n:r,f,!0).text)),v("text")&&(0===(u=a.castOption(i,h.i,"text"))||u)&&m.push(u),s){var y=+h.rawS||h.s,g=h.v,b=g-y;v("initial")&&m.push(c(b)),v("delta")&&m.push(c(y)),v("final")&&m.push(c(g))}if(l){v("value")&&m.push(c(h.s));var T=0;v("percent initial")&&T++,v("percent previous")&&T++,v("percent total")&&T++;var k=T>1;v("percent initial")&&(u=a.formatPercent(h.begR),k&&(u+=" of initial"),m.push(u)),v("percent previous")&&(u=a.formatPercent(h.difR),k&&(u+=" of previous"),m.push(u)),v("percent total")&&(u=a.formatPercent(h.sumR),k&&(u+=" of total"),m.push(u))}return m.join("<br>")}(t,r,n,i):x.getValue(s.text,r),x.coerceString(y,o)}(C,n,i,w,M);k=function(e,t){var r=x.getValue(e.textposition,t);return x.coerceEnumerated(g,r)}(P,i);var j="stack"===m.mode||"relative"===m.mode,F=n[i],R=!j||F._outmost;if(I&&"none"!==k&&(!F.isBlank&&s!==c&&u!==p||"auto"!==k&&"inside"!==k)){var D=C.font,V=h.getBarColor(n[i],P),B=h.getInsideTextFont(P,i,D,V),U=h.getOutsideTextFont(P,i,D),X=r.datum();H?"log"===w.type&&X.s0<=0&&(s=w.range[0]<w.range[1]?0:w._length):"log"===M.type&&X.s0<=0&&(u=M.range[0]<M.range[1]?M._length:0);var E,Y,G,N,W,K=Math.abs(c-s)-2*T,Z=Math.abs(p-u)-2*T;if("outside"===k&&(R||F.hasB||(k="inside")),"auto"===k&&(R?(k="inside",E=O(r,I,W=a.ensureUniformFontSize(e,B)),G=(Y=l.bBox(E.node())).width,N=Y.height,G>0&&N>0&&(G<=K&&N<=Z||G<=Z&&N<=K||(H?K>=G*(Z/N):Z>=N*(K/G)))?k="inside":(k="outside",E.remove(),E=null)):k="inside"),!E){var q=(E=O(r,I,W=a.ensureUniformFontSize(e,"outside"===k?U:B))).attr("transform");if(E.attr("transform",""),G=(Y=l.bBox(E.node())).width,N=Y.height,E.attr("transform",q),G<=0||N<=0)return void E.remove()}var J,Q=P.textangle;J="outside"===k?function(e,t,r,n,i,a){var o,s=!!a.isHorizontal,l=!!a.constrained,c=a.angle||0,d=i.width,u=i.height,f=Math.abs(t-e),p=Math.abs(n-r);o=s?p>2*T?T:0:f>2*T?T:0;var h=1;l&&(h=s?Math.min(1,p/u):Math.min(1,f/d));var x=L(c),m=_(i,x),v=(s?m.x:m.y)/2,y=(i.left+i.right)/2,g=(i.top+i.bottom)/2,b=(e+t)/2,k=(r+n)/2,w=0,z=0,M=s?S(t,e):S(r,n);return s?(b=t-M*o,w=M*v):(k=n+M*o,z=-M*v),{textX:y,textY:g,targetX:b,targetY:k,anchorX:w,anchorY:z,scale:h,rotate:x}}(s,c,u,p,Y,{isHorizontal:H,constrained:"both"===P.constraintext||"outside"===P.constraintext,angle:Q}):A(s,c,u,p,Y,{isHorizontal:H,constrained:"both"===P.constraintext||"inside"===P.constraintext,angle:Q,anchor:P.insidetextanchor}),J.fontSize=W.size,f(P.type,J,C),F.transform=J,z(E,C,m,v).attr("transform",a.getTextTransform(J))}else r.select("text").remove()}(e,t,P,r,p,D,V,B,U,m,v),t.layerClipId&&l.hideOutsideRangePoint(c,P.select("text"),k,C,u.xcalendar,u.ycalendar)}));var B=!1===u.cliponaxis;l.setClipUrl(c,B?null:t.layerClipId,e)}));c.getComponentMethod("errorbars","plot")(e,P,t,m)},toMoveInsideBar:A}},49888:(e,t,r)=>{"use strict";var n=r(15078),i=r(57597),a=r(84474),o=r(34141),s=r(97997),l=r(50001).resizeText,c=r(67855),d=c.textfont,u=c.insidetextfont,f=c.outsidetextfont,p=r(95912);function h(e,t,r){a.pointStyle(e.selectAll("path"),t,r),x(e,t,r)}function x(e,t,r){e.selectAll("text").each((function(e){var i=n.select(this),s=o.ensureUniformFontSize(r,m(i,e,t,r));a.font(i,s)}))}function m(e,t,r,n){var i=n._fullLayout.font,a=r.textfont;if(e.classed("bartext-inside")){var o=T(t,r);a=y(r,t.i,i,o)}else e.classed("bartext-outside")&&(a=g(r,t.i,i));return a}function v(e,t,r){return b(d,e.textfont,t,r)}function y(e,t,r,n){var a=v(e,t,r);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(a={color:i.contrast(n),family:a.family,size:a.size}),b(u,e.insidetextfont,t,a)}function g(e,t,r){var n=v(e,t,r);return b(f,e.outsidetextfont,t,n)}function b(e,t,r,n){t=t||{};var i=p.getValue(t.family,r),a=p.getValue(t.size,r),o=p.getValue(t.color,r);return{family:p.coerceString(e.family,i,n.family),size:p.coerceNumber(e.size,a,n.size),color:p.coerceColor(e.color,o,n.color)}}function T(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mc||t.marker.color}e.exports={style:function(e){var t=n.select(e).selectAll("g.barlayer").selectAll("g.trace");l(e,t,"bar");var r=t.size(),i=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===i.barmode&&r>1||0===i.bargap&&0===i.bargroupgap&&!e[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){h(n.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)},styleTextPoints:x,styleOnSelect:function(e,t,r){var i=t[0].trace;i.selectedpoints?function(e,t,r){a.selectedPointStyle(e.selectAll("path"),t),function(e,t,r){e.each((function(e){var i,s=n.select(this);if(e.selected){i=o.ensureUniformFontSize(r,m(s,e,t,r));var l=t.selected.textfont&&t.selected.textfont.color;l&&(i.color=l),a.font(s,i)}else a.selectedTextStyle(s,t)}))}(e.selectAll("text"),t,r)}(r,i,e):(h(r,i,e),s.getComponentMethod("errorbars","style")(r))},getInsideTextFont:y,getOutsideTextFont:g,getBarColor:T,resizeText:l}},30572:(e,t,r)=>{"use strict";var n=r(57597),i=r(88003).hasColorscale,a=r(62252);e.exports=function(e,t,r,o,s){r("marker.color",o),i(e,"marker")&&a(e,t,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",n.defaultLine),i(e,"marker.line")&&a(e,t,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),r("selected.marker.color"),r("unselected.marker.color")}},50001:(e,t,r)=>{"use strict";var n=r(15078),i=r(34141);function a(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:function(e,t,r){if(r.uniformtext.mode){var n=a(e),i=r.uniformtext.minsize,o=t.scale*t.fontSize;t.hide=o<i,r[n]=r[n]||1/0,t.hide||(r[n]=Math.min(r[n],Math.max(o,i)))}},clearMinTextSize:function(e,t){t[a(e)]=void 0},resizeText:function(e,t,r){var a=e._fullLayout,o=a["_"+r+"Text_minsize"];if(o){var s,l="hide"===a.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;t&&(t.scale=l&&t.hide?0:o/t.fontSize,n.select(this).select("text").attr("transform",i.getTextTransform(t)))}))}}}}}]);
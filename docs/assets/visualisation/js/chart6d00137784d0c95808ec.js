(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[235],{90235:(e,t,i)=>{"use strict";e.exports=i(73613)},22161:(e,t,i)=>{"use strict";var n=i(35924),a=i(34682),o=i(34141),r=i(45020).BADNUM,s=o._;e.exports=function(e,t){var i,l,x,y,b,g,w=e._fullLayout,k=a.getFromId(e,t.xaxis||"x"),q=a.getFromId(e,t.yaxis||"y"),T=[],M="violin"===t.type?"_numViolins":"_numBoxes";"h"===t.orientation?(x=k,y="x",b=q,g="y"):(x=q,y="y",b=k,g="x");var S,P,D,L,_,A,O=function(e,t,i,a){var r,s=t+"0"in e;if(t in e||s&&"d"+t in e)return i.makeCalcdata(e,t);r=s?e[t+"0"]:"name"in e&&("category"===i.type||n(e.name)&&-1!==["linear","log"].indexOf(i.type)||o.isDateTime(e.name)&&"date"===i.type)?e.name:a;for(var l="multicategory"===i.type?i.r2c_just_indices(r):i.d2c(r,0,e[t+"calendar"]),c=e._length,h=new Array(c),d=0;d<c;d++)h[d]=l;return h}(t,g,b,w[M]),j=o.distinctVals(O),I=j.vals,C=j.minDiff/2,B="all"===(t.boxpoints||t.points)?o.identity:function(e){return e.v<S.lf||e.v>S.uf};if(t._hasPreCompStats){var F=t[y],K=function(e){return x.d2c((t[e]||[])[i])},V=1/0,E=-1/0;for(i=0;i<t._length;i++){var z=O[i];if(n(z)){if((S={}).pos=S[g]=z,S.q1=K("q1"),S.med=K("median"),S.q3=K("q3"),P=[],F&&o.isArrayOrTypedArray(F[i]))for(l=0;l<F[i].length;l++)(A=x.d2c(F[i][l]))!==r&&(c(_={v:A,i:[i,l]},t,[i,l]),P.push(_));if(S.pts=P.sort(h),L=(D=S[y]=P.map(d)).length,S.med!==r&&S.q1!==r&&S.q3!==r&&S.med>=S.q1&&S.q3>=S.med){var H=K("lowerfence");S.lf=H!==r&&H<=S.q1?H:p(S,D,L);var R=K("upperfence");S.uf=R!==r&&R>=S.q3?R:m(S,D,L);var G=K("mean");S.mean=G!==r?G:L?o.mean(D,L):(S.q1+S.q3)/2;var N=K("sd");S.sd=G!==r&&N>=0?N:L?o.stdev(D,L,S.mean):S.q3-S.q1,S.lo=u(S),S.uo=v(S);var Q=K("notchspan");Q=Q!==r&&Q>0?Q:f(S,L),S.ln=S.med-Q,S.un=S.med+Q;var U=S.lf,W=S.uf;t.boxpoints&&D.length&&(U=Math.min(U,D[0]),W=Math.max(W,D[L-1])),t.notched&&(U=Math.min(U,S.ln),W=Math.max(W,S.un)),S.min=U,S.max=W}else{var Z;o.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+S.q1,"median = "+S.med,"q3 = "+S.q3].join("\n")),Z=S.med!==r?S.med:S.q1!==r?S.q3!==r?(S.q1+S.q3)/2:S.q1:S.q3!==r?S.q3:0,S.med=Z,S.q1=S.q3=Z,S.lf=S.uf=Z,S.mean=S.sd=Z,S.ln=S.un=Z,S.min=S.max=Z}V=Math.min(V,S.min),E=Math.max(E,S.max),S.pts2=P.filter(B),T.push(S)}}t._extremes[x._id]=a.findExtremes(x,[V,E],{padded:!0})}else{var J=x.makeCalcdata(t,y),X=function(e,t){for(var i=e.length,n=new Array(i+1),a=0;a<i;a++)n[a]=e[a]-t;return n[i]=e[i-1]+t,n}(I,C),Y=I.length,$=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=[];return t}(Y);for(i=0;i<t._length;i++)if(A=J[i],n(A)){var ee=o.findBin(O[i],X);ee>=0&&ee<Y&&(c(_={v:A,i},t,i),$[ee].push(_))}var te=1/0,ie=-1/0,ne=t.quartilemethod,ae="exclusive"===ne,oe="inclusive"===ne;for(i=0;i<Y;i++)if($[i].length>0){var re,se;(S={}).pos=S[g]=I[i],P=S.pts=$[i].sort(h),L=(D=S[y]=P.map(d)).length,S.min=D[0],S.max=D[L-1],S.mean=o.mean(D,L),S.sd=o.stdev(D,L,S.mean),S.med=o.interp(D,.5),L%2&&(ae||oe)?(ae?(re=D.slice(0,L/2),se=D.slice(L/2+1)):oe&&(re=D.slice(0,L/2+1),se=D.slice(L/2)),S.q1=o.interp(re,.5),S.q3=o.interp(se,.5)):(S.q1=o.interp(D,.25),S.q3=o.interp(D,.75)),S.lf=p(S,D,L),S.uf=m(S,D,L),S.lo=u(S),S.uo=v(S);var le=f(S,L);S.ln=S.med-le,S.un=S.med+le,te=Math.min(te,S.ln),ie=Math.max(ie,S.un),S.pts2=P.filter(B),T.push(S)}t._extremes[x._id]=a.findExtremes(x,t.notched?J.concat([te,ie]):J,{padded:!0})}return function(e,t){if(o.isArrayOrTypedArray(t.selectedpoints))for(var i=0;i<e.length;i++){for(var n=e[i].pts||[],a={},r=0;r<n.length;r++)a[n[r].i]=r;o.tagSelected(n,t,a)}}(T,t),T.length>0?(T[0].t={num:w[M],dPos:C,posLetter:g,valLetter:y,labels:{med:s(e,"median:"),min:s(e,"min:"),q1:s(e,"q1:"),q3:s(e,"q3:"),max:s(e,"max:"),mean:"sd"===t.boxmean?s(e,"mean ± σ:"):s(e,"mean:"),lf:s(e,"lower fence:"),uf:s(e,"upper fence:")}},w[M]++,T):[{t:{empty:!0}}]};var l={text:"tx",hovertext:"htx"};function c(e,t,i){for(var n in l)o.isArrayOrTypedArray(t[n])&&(Array.isArray(i)?o.isArrayOrTypedArray(t[n][i[0]])&&(e[l[n]]=t[n][i[0]][i[1]]):e[l[n]]=t[n][i])}function h(e,t){return e.v-t.v}function d(e){return e.v}function p(e,t,i){return 0===i?e.q1:Math.min(e.q1,t[Math.min(o.findBin(2.5*e.q1-1.5*e.q3,t,!0)+1,i-1)])}function m(e,t,i){return 0===i?e.q3:Math.max(e.q3,t[Math.max(o.findBin(2.5*e.q3-1.5*e.q1,t),0)])}function u(e){return 4*e.q1-3*e.q3}function v(e){return 4*e.q3-3*e.q1}function f(e,t){return 0===t?0:1.57*(e.q3-e.q1)/Math.sqrt(t)}},21428:(e,t,i)=>{"use strict";var n=i(34141),a=i(97997),o=i(57597),r=i(58061).handleGroupingDefaults,s=i(16757),l=i(43384);function c(e,t,i,o){function r(e){var t=0;return e&&e.length&&(t+=1,n.isArrayOrTypedArray(e[0])&&e[0].length&&(t+=1)),t}function c(t){return n.validate(e[t],l[t])}var h,d=i("y"),p=i("x");if("box"===t.type){var m=i("q1"),u=i("median"),v=i("q3");t._hasPreCompStats=m&&m.length&&u&&u.length&&v&&v.length,h=Math.min(n.minRowLength(m),n.minRowLength(u),n.minRowLength(v))}var f,x,y=r(d),b=r(p),g=y&&n.minRowLength(d),w=b&&n.minRowLength(p);if(t._hasPreCompStats)switch(String(b)+String(y)){case"00":var k=c("x0")||c("dx");f=!c("y0")&&!c("dy")||k?"v":"h",x=h;break;case"10":f="v",x=Math.min(h,w);break;case"20":f="h",x=Math.min(h,p.length);break;case"01":f="h",x=Math.min(h,g);break;case"02":f="v",x=Math.min(h,d.length);break;case"12":f="v",x=Math.min(h,w,d.length);break;case"21":f="h",x=Math.min(h,p.length,g);break;case"11":x=0;break;case"22":var q,T=!1;for(q=0;q<p.length;q++)if("category"===s(p[q])){T=!0;break}if(T)f="v",x=Math.min(h,w,d.length);else{for(q=0;q<d.length;q++)if("category"===s(d[q])){T=!0;break}T?(f="h",x=Math.min(h,p.length,g)):(f="v",x=Math.min(h,w,d.length))}}else y>0?(f="v",x=b>0?Math.min(w,g):Math.min(g)):b>0?(f="h",x=Math.min(w)):x=0;if(x){t._length=x;var M=i("orientation",f);t._hasPreCompStats?"v"===M&&0===b?(i("x0",0),i("dx",1)):"h"===M&&0===y&&(i("y0",0),i("dy",1)):"v"===M&&0===b?i("x0"):"h"===M&&0===y&&i("y0"),a.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],o)}else t.visible=!1}function h(e,t,i,a){var o=a.prefix,r=n.coerce2(e,t,l,"marker.outliercolor"),s=i("marker.line.outliercolor"),c="outliers";t._hasPreCompStats?c="all":(r||s)&&(c="suspectedoutliers");var h=i(o+"points",c);h?(i("jitter","all"===h?.3:0),i("pointpos","all"===h?-1.5:0),i("marker.symbol"),i("marker.opacity"),i("marker.size"),i("marker.color",t.line.color),i("marker.line.color"),i("marker.line.width"),"suspectedoutliers"===h&&(i("marker.line.outliercolor",t.marker.color),i("marker.line.outlierwidth")),i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size"),i("text"),i("hovertext")):delete t.marker;var d=i("hoveron");"all"!==d&&-1===d.indexOf("points")||i("hovertemplate"),n.coerceSelectionMarkerOpacity(t,i)}e.exports={supplyDefaults:function(e,t,i,a){function r(i,a){return n.coerce(e,t,l,i,a)}if(c(e,t,r,a),!1!==t.visible){var s=t._hasPreCompStats;s&&(r("lowerfence"),r("upperfence")),r("line.color",(e.marker||{}).color||i),r("line.width"),r("fillcolor",o.addOpacity(t.line.color,.5));var d=!1;if(s){var p=r("mean"),m=r("sd");p&&p.length&&(d=!0,m&&m.length&&(d="sd"))}r("boxmean",d),r("whiskerwidth"),r("width"),r("quartilemethod");var u=!1;if(s){var v=r("notchspan");v&&v.length&&(u=!0)}else n.validate(e.notchwidth,l.notchwidth)&&(u=!0);r("notched",u)&&r("notchwidth"),h(e,t,r,{prefix:"box"})}},crossTraceDefaults:function(e,t){var i,a;function o(e){return n.coerce(a._input,a,l,e)}for(var s=0;s<e.length;s++){var c=(a=e[s]).type;"box"!==c&&"violin"!==c||(i=a._input,"group"===t[c+"mode"]&&r(i,a,t,o))}},handleSampleDefaults:c,handlePointsDefaults:h}},52248:(e,t,i)=>{"use strict";var n=i(34682),a=i(34141),o=i(87529),r=i(57597),s=a.fillText;function l(e,t,i,s){var l,c,h,d,p,m,u,v,f,x,y,b,g,w,k=e.cd,q=e.xa,T=e.ya,M=k[0].trace,S=k[0].t,P="violin"===M.type,D=[],L=S.bdPos,_=S.wHover,A=function(e){return h.c2l(e.pos)+S.bPos-h.c2l(m)};P&&"both"!==M.side?("positive"===M.side&&(f=function(e){var t=A(e);return o.inbox(t,t+_,x)},b=L,g=0),"negative"===M.side&&(f=function(e){var t=A(e);return o.inbox(t-_,t,x)},b=0,g=L)):(f=function(e){var t=A(e);return o.inbox(t-_,t+_,x)},b=g=L),w=P?function(e){return o.inbox(e.span[0]-p,e.span[1]-p,x)}:function(e){return o.inbox(e.min-p,e.max-p,x)},"h"===M.orientation?(p=t,m=i,u=w,v=f,l="y",h=T,c="x",d=q):(p=i,m=t,u=f,v=w,l="x",h=q,c="y",d=T);var O=Math.min(1,L/Math.abs(h.r2c(h.range[1])-h.r2c(h.range[0])));function j(e){return(u(e)+v(e))/2}x=e.maxHoverDistance-O,y=e.maxSpikeDistance-O;var I=o.getDistanceFunction(s,u,v,j);if(o.getClosest(k,I,e),!1===e.index)return[];var C=k[e.index],B=M.line.color,F=(M.marker||{}).color;r.opacity(B)&&M.line.width?e.color=B:r.opacity(F)&&M.boxpoints?e.color=F:e.color=M.fillcolor,e[l+"0"]=h.c2p(C.pos+S.bPos-g,!0),e[l+"1"]=h.c2p(C.pos+S.bPos+b,!0),e[l+"LabelVal"]=C.pos;var K=l+"Spike";e.spikeDistance=j(C)*y/x,e[K]=h.c2p(C.pos,!0);var V={},E=["med","q1","q3","min","max"];(M.boxmean||(M.meanline||{}).visible)&&E.push("mean"),(M.boxpoints||M.points)&&E.push("lf","uf");for(var z=0;z<E.length;z++){var H=E[z];if(H in C&&!(C[H]in V)){V[C[H]]=!0;var R=C[H],G=d.c2p(R,!0),N=a.extendFlat({},e);N.attr=H,N[c+"0"]=N[c+"1"]=G,N[c+"LabelVal"]=R,N[c+"Label"]=(S.labels?S.labels[H]+" ":"")+n.hoverLabelText(d,R),N.hoverOnBox=!0,"mean"===H&&"sd"in C&&"sd"===M.boxmean&&(N[c+"err"]=C.sd),e.name="",e.spikeDistance=void 0,e[K]=void 0,N.hovertemplate=!1,D.push(N)}}return D}function c(e,t,i){for(var n,r,l,c=e.cd,h=e.xa,d=e.ya,p=c[0].trace,m=h.c2p(t),u=d.c2p(i),v=o.quadrature((function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(h.c2p(e.x)-m)-t,1-3/t)}),(function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(d.c2p(e.y)-u)-t,1-3/t)})),f=!1,x=0;x<c.length;x++){r=c[x];for(var y=0;y<(r.pts||[]).length;y++){var b=v(l=r.pts[y]);b<=e.distance&&(e.distance=b,f=[x,y])}}if(!f)return!1;l=(r=c[f[0]]).pts[f[1]];var g,w=h.c2p(l.x,!0),k=d.c2p(l.y,!0),q=l.mrc||1;return n=a.extendFlat({},e,{index:l.i,color:(p.marker||{}).color,name:p.name,x0:w-q,x1:w+q,y0:k-q,y1:k+q,spikeDistance:e.distance,hovertemplate:p.hovertemplate}),"h"===p.orientation?(g=d,n.xLabelVal=l.x,n.yLabelVal=r.pos):(g=h,n.xLabelVal=r.pos,n.yLabelVal=l.y),n[g._id.charAt(0)+"Spike"]=g.c2p(r.pos,!0),s(l,p,n),n}e.exports={hoverPoints:function(e,t,i,n){var a,o=e.cd[0].trace.hoveron,r=[];return-1!==o.indexOf("boxes")&&(r=r.concat(l(e,t,i,n))),-1!==o.indexOf("points")&&(a=c(e,t,i)),"closest"===n?a?[a]:r:a?(r.push(a),r):r},hoverOnBoxes:l,hoverOnPoints:c}},96945:e=>{"use strict";e.exports=function(e,t){var i,n,a=e.cd,o=e.xaxis,r=e.yaxis,s=[];if(!1===t)for(i=0;i<a.length;i++)for(n=0;n<(a[i].pts||[]).length;n++)a[i].pts[n].selected=0;else for(i=0;i<a.length;i++)for(n=0;n<(a[i].pts||[]).length;n++){var l=a[i].pts[n],c=o.c2p(l.x),h=r.c2p(l.y);t.contains([c,h],null,l.i,e)?(s.push({pointNumber:l.i,x:o.c2d(l.x),y:r.c2d(l.y)}),l.selected=1):l.selected=0}return s}},15651:(e,t,i)=>{"use strict";var n=i(43384),a=i(94867).extendFlat;e.exports={y:n.y,x:n.x,x0:n.x0,y0:n.y0,name:a({},n.name,{description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For violin traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical.","Note that the trace name is also used as a default value","for attribute `scalegroup` (please see its description for details)."].join(" ")}),orientation:a({},n.orientation,{description:["Sets the orientation of the violin(s).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")}),bandwidth:{valType:"number",min:0,role:"info",editType:"calc",description:["Sets the bandwidth used to compute the kernel density estimate.","By default, the bandwidth is determined by Silverman's rule of thumb."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["If there are multiple violins that should be sized according to","to some metric (see `scalemode`), link them by providing a non-empty group id here","shared by every trace in the same group.","If a violin's `width` is undefined, `scalegroup` will default to the trace's name.","In this case, violins with the same names will be linked together"].join(" ")},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",role:"info",editType:"calc",description:["Sets the metric by which the width of each violin is determined.","*width* means each violin has the same (max) width","*count* means the violins are scaled by the number of sample points making","up each violin."].join("")},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",role:"info",editType:"calc",description:["Sets the method by which the span in data space where the density function will be computed.","*soft* means the span goes from the sample's minimum value minus two bandwidths","to the sample's maximum value plus two bandwidths.","*hard* means the span goes from the sample's minimum to its maximum value.","For custom span settings, use mode *manual* and fill in the `span` attribute."].join(" ")},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],role:"info",editType:"calc",description:["Sets the span in data space for which the density function will be computed.","Has an effect only when `spanmode` is set to *manual*."].join(" ")},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the color of line bounding the violin(s)."},width:{valType:"number",role:"style",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the violin(s)."},editType:"plot"},fillcolor:n.fillcolor,points:a({},n.boxpoints,{description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the violins are shown with no sample points.","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set,","otherwise defaults to *outliers*."].join(" ")}),jitter:a({},n.jitter,{description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the violins."].join(" ")}),pointpos:a({},n.pointpos,{description:["Sets the position of the sample points in relation to the violins.","If *0*, the sample points are places over the center of the violins.","Positive (negative) values correspond to positions to the","right (left) for vertical violins and above (below) for horizontal violins."].join(" ")}),width:a({},n.width,{description:["Sets the width of the violin in data coordinates.","If *0* (default value) the width is automatically selected based on the positions","of other violin traces in the same subplot."].join(" ")}),marker:n.marker,text:n.text,hovertext:n.hovertext,hovertemplate:n.hovertemplate,box:{visible:{valType:"boolean",dflt:!1,role:"info",editType:"plot",description:["Determines if an miniature box plot is drawn inside the violins. "].join(" ")},width:{valType:"number",min:0,max:1,dflt:.25,role:"info",editType:"plot",description:["Sets the width of the inner box plots relative to","the violins' width.","For example, with 1, the inner box plots are as wide as the violins."].join(" ")},fillcolor:{valType:"color",role:"style",editType:"style",description:"Sets the inner box plot fill color."},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the inner box plot bounding line color."},width:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the inner box plot bounding line width."},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,role:"info",editType:"plot",description:["Determines if a line corresponding to the sample's mean is shown","inside the violins.","If `box.visible` is turned on, the mean line is drawn inside the inner box.","Otherwise, the mean line is drawn from one side of the violin to other."].join(" ")},color:{valType:"color",role:"style",editType:"style",description:"Sets the mean line color."},width:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the mean line width."},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",role:"info",editType:"calc",description:["Determines on which side of the position value the density function making up","one half of a violin is plotted.","Useful when comparing two violin traces under *overlay* mode, where one trace","has `side` set to *positive* and the other to *negative*."].join(" ")},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:n.selected,unselected:n.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],role:"info",editType:"style",description:["Do the hover effects highlight individual violins","or sample points or the kernel density estimate or any combination of them?"].join(" ")}}},21288:(e,t,i)=>{"use strict";var n=i(34141),a=i(34682),o=i(22161),r=i(26282),s=i(45020).BADNUM;function l(e,t,i){var a=t.max-t.min;if(!a)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,a/1e4);var o=i.length,r=n.stdev(i,o-1,t.mean);return Math.max(function(e,t,i){return 1.059*Math.min(t,i/1.349)*Math.pow(e,-.2)}(o,r,t.q3-t.q1),a/100)}function c(e,t,i,n){var o,r=e.spanmode,l=e.span||[],c=[t.min,t.max],h=[t.min-2*n,t.max+2*n];function d(n){var a=l[n],o="multicategory"===i.type?i.r2c(a):i.d2c(a,0,e[t.valLetter+"calendar"]);return o===s?h[n]:o}var p={type:"linear",range:o="soft"===r?h:"hard"===r?c:[d(0),d(1)]};return a.setConvert(p),p.cleanRange(),o}e.exports=function(e,t){var i=o(e,t);if(i[0].t.empty)return i;for(var s=e._fullLayout,h=a.getFromId(e,t["h"===t.orientation?"xaxis":"yaxis"]),d=1/0,p=-1/0,m=0,u=0,v=0;v<i.length;v++){var f=i[v],x=f.pts.map(r.extractVal),y=f.bandwidth=l(t,f,x),b=f.span=c(t,f,h,y);if(f.min===f.max&&0===y)b=f.span=[f.min,f.max],f.density=[{v:1,t:b[0]}],f.bandwidth=y,m=Math.max(m,1);else{var g=b[1]-b[0],w=Math.ceil(g/(y/3)),k=g/w;if(!isFinite(k)||!isFinite(w))return n.error("Something went wrong with computing the violin span"),i[0].t.empty=!0,i;var q=r.makeKDE(f,t,x);f.density=new Array(w);for(var T=0,M=b[0];M<b[1]+k/2;T++,M+=k){var S=q(M);f.density[T]={v:S,t:M},m=Math.max(m,S)}}u=Math.max(u,x.length),d=Math.min(d,b[0]),p=Math.max(p,b[1])}var P=a.findExtremes(h,[d,p],{padded:!0});if(t._extremes[h._id]=P,t.width)i[0].t.maxKDE=m;else{var D=s._violinScaleGroupStats,L=t.scalegroup,_=D[L];_?(_.maxKDE=Math.max(_.maxKDE,m),_.maxCount=Math.max(_.maxCount,u)):D[L]={maxKDE:m,maxCount:u}}return i[0].t.labels.kde=n._(e,"kde:"),i}},19831:(e,t,i)=>{"use strict";var n=i(72665).setPositionOffset,a=["v","h"];e.exports=function(e,t){for(var i=e.calcdata,o=t.xaxis,r=t.yaxis,s=0;s<a.length;s++){for(var l=a[s],c="h"===l?r:o,h=[],d=0;d<i.length;d++){var p=i[d],m=p[0].t,u=p[0].trace;!0!==u.visible||"violin"!==u.type||m.empty||u.orientation!==l||u.xaxis!==o._id||u.yaxis!==r._id||h.push(d)}n("violin",e,h,c)}}},82392:(e,t,i)=>{"use strict";var n=i(34141),a=i(57597),o=i(21428),r=i(15651);e.exports=function(e,t,i,s){function l(i,a){return n.coerce(e,t,r,i,a)}function c(i,a){return n.coerce2(e,t,r,i,a)}if(o.handleSampleDefaults(e,t,l,s),!1!==t.visible){l("bandwidth"),l("side"),l("width")||(l("scalegroup",t.name),l("scalemode"));var h,d=l("span");Array.isArray(d)&&(h="manual"),l("spanmode",h);var p=l("line.color",(e.marker||{}).color||i),m=l("line.width"),u=l("fillcolor",a.addOpacity(t.line.color,.5));o.handlePointsDefaults(e,t,l,{prefix:""});var v=c("box.width"),f=c("box.fillcolor",u),x=c("box.line.color",p),y=c("box.line.width",m);l("box.visible",Boolean(v||f||x||y))||(t.box={visible:!1});var b=c("meanline.color",p),g=c("meanline.width",m);l("meanline.visible",Boolean(b||g))||(t.meanline={visible:!1})}}},26282:(e,t,i)=>{"use strict";var n=i(34141),a=function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)};t.makeKDE=function(e,t,i){var n=i.length,o=a,r=e.bandwidth,s=1/(n*r);return function(e){for(var t=0,a=0;a<n;a++)t+=o((e-i[a])/r);return s*t}},t.getPositionOnKdePath=function(e,t,i){var a,o;"h"===t.orientation?(a="y",o="x"):(a="x",o="y");var r=n.findPointOnPath(e.path,i,o,{pathLength:e.pathLength}),s=e.posCenterPx,l=r[a];return[l,"both"===t.side?2*s-l:s]},t.getKdeValue=function(e,i,n){var a=e.pts.map(t.extractVal);return t.makeKDE(e,i,a)(n)/e.posDensityScale},t.extractVal=function(e){return e.v}},1172:(e,t,i)=>{"use strict";var n=i(34141),a=i(34682),o=i(52248),r=i(26282);e.exports=function(e,t,i,s,l){var c,h,d=e.cd,p=d[0].trace,m=p.hoveron,u=-1!==m.indexOf("violins"),v=-1!==m.indexOf("kde"),f=[];if(u||v){var x=o.hoverOnBoxes(e,t,i,s);if(v&&x.length>0){var y,b,g,w,k,q=e.xa,T=e.ya;"h"===p.orientation?(k=t,y="y",g=T,b="x",w=q):(k=i,y="x",g=q,b="y",w=T);var M=d[e.index];if(k>=M.span[0]&&k<=M.span[1]){var S=n.extendFlat({},e),P=w.c2p(k,!0),D=r.getKdeValue(M,p,k),L=r.getPositionOnKdePath(M,p,P),_=g._offset,A=g._length;S[y+"0"]=L[0],S[y+"1"]=L[1],S[b+"0"]=S[b+"1"]=P,S[b+"Label"]=b+": "+a.hoverLabelText(w,k)+", "+d[0].t.labels.kde+" "+D.toFixed(3),S.spikeDistance=x[0].spikeDistance;var O=y+"Spike";S[O]=x[0][O],x[0].spikeDistance=void 0,x[0][O]=void 0,S.hovertemplate=!1,f.push(S),(h={stroke:e.color})[y+"1"]=n.constrain(_+L[0],_,_+A),h[y+"2"]=n.constrain(_+L[1],_,_+A),h[b+"1"]=h[b+"2"]=w._offset+P}}u&&(f=f.concat(x))}-1!==m.indexOf("points")&&(c=o.hoverOnPoints(e,t,i));var j=l.selectAll(".violinline-"+p.uid).data(h?[0]:[]);return j.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),j.exit().remove(),j.attr(h),"closest"===s?c?[c]:f:c?(f.push(c),f):f}},73613:(e,t,i)=>{"use strict";e.exports={attributes:i(15651),layoutAttributes:i(84789),supplyDefaults:i(82392),crossTraceDefaults:i(21428).crossTraceDefaults,supplyLayoutDefaults:i(78228),calc:i(21288),crossTraceCalc:i(19831),plot:i(29268),style:i(12426),styleOnSelect:i(5049).styleOnSelect,hoverPoints:i(1172),selectPoints:i(96945),moduleType:"trace",name:"violin",basePlotModule:i(8095),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{description:["In vertical (horizontal) violin plots,","statistics are computed using `y` (`x`) values.","By supplying an `x` (`y`) array, one violin per distinct x (y) value","is drawn","If no `x` (`y`) {array} is provided, a single violin is drawn.","That violin position is then positioned with","with `name` or with `x0` (`y0`) if provided."].join(" ")}}},84789:(e,t,i)=>{"use strict";var n=i(89455),a=i(34141).extendFlat;e.exports={violinmode:a({},n.boxmode,{description:["Determines how violins at the same location coordinate","are displayed on the graph.","If *group*, the violins are plotted next to one another","centered around the shared location.","If *overlay*, the violins are plotted over one another,","you might need to set *opacity* to see them multiple violins.","Has no effect on traces that have *width* set."].join(" ")}),violingap:a({},n.boxgap,{description:["Sets the gap (in plot fraction) between violins of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")}),violingroupgap:a({},n.boxgroupgap,{description:["Sets the gap (in plot fraction) between violins of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")})}},78228:(e,t,i)=>{"use strict";var n=i(34141),a=i(84789),o=i(28327);e.exports=function(e,t,i){o._supply(e,t,i,(function(i,o){return n.coerce(e,t,a,i,o)}),"violin")}},29268:(e,t,i)=>{"use strict";var n=i(15078),a=i(34141),o=i(84474),r=i(90217),s=i(43448),l=i(26282);e.exports=function(e,t,i,c){var h=e._fullLayout,d=t.xaxis,p=t.yaxis;function m(e){var t=s(e,{xaxis:d,yaxis:p,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(t[0],1)}a.makeTraceGroups(c,i,"trace violins").each((function(e){var i=n.select(this),o=e[0],s=o.t,c=o.trace;if(!0!==c.visible||s.empty)i.remove();else{var u=s.bPos,v=s.bdPos,f=t[s.valLetter+"axis"],x=t[s.posLetter+"axis"],y="both"===c.side,b=y||"positive"===c.side,g=y||"negative"===c.side,w=i.selectAll("path.violin").data(a.identity);w.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each((function(e){var t,i,a,o,r,l,d,p,w=n.select(this),k=e.density,q=k.length,T=x.c2l(e.pos+u,!0),M=x.l2p(T);if(c.width)t=s.maxKDE/v;else{var S=h._violinScaleGroupStats[c.scalegroup];t="count"===c.scalemode?S.maxKDE/v*(S.maxCount/e.pts.length):S.maxKDE/v}if(b){for(d=new Array(q),r=0;r<q;r++)(p=d[r]={})[s.posLetter]=T+k[r].v/t,p[s.valLetter]=f.c2l(k[r].t,!0);i=m(d)}if(g){for(d=new Array(q),l=0,r=q-1;l<q;l++,r--)(p=d[l]={})[s.posLetter]=T-k[r].v/t,p[s.valLetter]=f.c2l(k[r].t,!0);a=m(d)}if(y)o=i+"L"+a.substr(1)+"Z";else{var P=[M,f.c2p(k[0].t)],D=[M,f.c2p(k[q-1].t)];"h"===c.orientation&&(P.reverse(),D.reverse()),o=b?"M"+P+"L"+i.substr(1)+"L"+D:"M"+D+"L"+a.substr(1)+"L"+P}w.attr("d",o),e.posCenterPx=M,e.posDensityScale=t*v,e.path=w.node(),e.pathLength=e.path.getTotalLength()/(y?2:1)}));var k,q,T,M=c.box,S=M.width,P=(M.line||{}).width;y?(k=v*S,q=0):b?(k=[0,v*S/2],q=P*{x:1,y:-1}[s.posLetter]):(k=[v*S/2,0],q=P*{x:-1,y:1}[s.posLetter]),r.plotBoxAndWhiskers(i,{pos:x,val:f},c,{bPos:u,bdPos:k,bPosPxOffset:q}),r.plotBoxMean(i,{pos:x,val:f},c,{bPos:u,bdPos:k,bPosPxOffset:q}),!c.box.visible&&c.meanline.visible&&(T=a.identity);var D=i.selectAll("path.meanline").data(T||[]);D.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),D.exit().remove(),D.each((function(e){var t=f.c2p(e.mean,!0),i=l.getPositionOnKdePath(e,c,t);n.select(this).attr("d","h"===c.orientation?"M"+t+","+i[0]+"V"+i[1]:"M"+i[0]+","+t+"H"+i[1])})),r.plotPoints(i,{x:d,y:p},c,s)}}))}},12426:(e,t,i)=>{"use strict";var n=i(15078),a=i(57597),o=i(5049).stylePoints;e.exports=function(e){var t=n.select(e).selectAll("g.trace.violins");t.style("opacity",(function(e){return e[0].trace.opacity})),t.each((function(t){var i=t[0].trace,r=n.select(this),s=i.box||{},l=s.line||{},c=i.meanline||{},h=c.width;r.selectAll("path.violin").style("stroke-width",i.line.width+"px").call(a.stroke,i.line.color).call(a.fill,i.fillcolor),r.selectAll("path.box").style("stroke-width",l.width+"px").call(a.stroke,l.color).call(a.fill,s.fillcolor);var d={"stroke-width":h+"px","stroke-dasharray":2*h+"px,"+h+"px"};r.selectAll("path.mean").style(d).call(a.stroke,c.color),r.selectAll("path.meanline").style(d).call(a.stroke,c.color),o(r,i,e)}))}}}]);
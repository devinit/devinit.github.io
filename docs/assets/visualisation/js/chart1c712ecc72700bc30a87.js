(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[6823,6250],{16823:(e,t,n)=>{"use strict";e.exports=n(54721)},77715:(e,t,n)=>{"use strict";var r=n(95170);function a(e){return[e]}e.exports={keyFun:function(e){return e.key},repeat:a,descend:r,wrap:a,unwrap:function(e){return e[0]}}},54785:(e,t,n)=>{"use strict";var r=n(85088),a=n(46493),i=n(38003),o=n(72910).Y,l=n(94867).extendFlat,s=n(18882).templatedArray;e.exports={domain:o({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,role:"info",editType:"plot",description:["Sets the angle of the labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the labels vertically.","Tilted labels with *labelangle* may be positioned better","inside margins when `labelposition` is set to *bottom*."].join(" ")},labelside:{valType:"enumerated",role:"info",values:["top","bottom"],dflt:"top",editType:"plot",description:["Specifies the location of the `label`.","*top* positions labels above, next to the title","*bottom* positions labels below the graph","Tilted labels with *labelangle* may be positioned better","inside margins when `labelposition` is set to *bottom*."].join(" ")},labelfont:i({editType:"plot",description:"Sets the font for the `dimension` labels."}),tickfont:i({editType:"plot",description:"Sets the font for the `dimension` tick values."}),rangefont:i({editType:"plot",description:"Sets the font for the `dimension` range values."}),dimensions:s("dimension",{label:{valType:"string",role:"info",editType:"plot",description:"The shown name of the dimension."},tickvals:l({},a.tickvals,{editType:"plot",description:["Sets the values at which ticks on this axis appear."].join(" ")}),ticktext:l({},a.ticktext,{editType:"plot",description:["Sets the text displayed at the ticks position via `tickvals`."].join(" ")}),tickformat:l({},a.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."},range:{valType:"info_array",role:"info",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot",description:["The domain range that represents the full, shown axis extent. Defaults to the `values` extent.","Must be an array of `[fromValue, toValue]` with finite numbers as elements."].join(" ")},constraintrange:{valType:"info_array",role:"info",freeLength:!0,dimensions:"1-2",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot",description:["The domain range to which the filter on the dimension is constrained. Must be an array","of `[fromValue, toValue]` with `fromValue <= toValue`, or if `multiselect` is not","disabled, you may give an array of arrays, where each inner array is `[fromValue, toValue]`."].join(" ")},multiselect:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:"Do we allow multiple selection ranges or just a single range?"},values:{valType:"data_array",role:"info",editType:"calc",description:["Dimension values. `values[n]` represents the value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated). Each value must be a finite number."].join(" ")},editType:"calc",description:"The dimensions (variables) of the parallel coordinates chart. 2..60 dimensions are supported."}),line:l({editType:"calc"},r("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"}))}},16861:(e,t,n)=>{"use strict";var r=n(69714),a=n(15078),i=n(77715).keyFun,o=n(77715).repeat,l=n(34141).sorterAsc,s=r.bar.snapRatio;function c(e,t){return e*(1-s)+t*s}var d=r.bar.snapClose;function u(e,t){return e*(1-d)+t*d}function f(e,t,n,r){if(function(e,t){for(var n=0;n<t.length;n++)if(e>=t[n][0]&&e<=t[n][1])return!0;return!1}(n,r))return n;var a=e?-1:1,i=0,o=t.length-1;if(a<0){var l=i;i=o,o=l}for(var s=t[i],d=s,f=i;a*f<a*o;f+=a){var p=f+a,h=t[p];if(a*n<a*u(s,h))return c(s,d);if(a*n<a*h||p===o)return c(h,s);d=s,s=h}}function p(e){e.attr("x",-r.bar.captureWidth/2).attr("width",r.bar.captureWidth)}function h(e){e.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function v(e){if(!e.brush.filterSpecified)return"0,"+e.height;for(var t,n,r,a=g(e.brush.filter.getConsolidated(),e.height),i=[0],o=a.length?a[0][0]:null,l=0;l<a.length;l++)n=(t=a[l])[1]-t[0],i.push(o),i.push(n),(r=l+1)<a.length&&(o=a[r][0]-t[1]);return i.push(e.height),i}function g(e,t){return e.map((function(e){return e.map((function(e){return Math.max(0,e*t)})).sort(l)}))}function m(){a.select(document.body).style("cursor",null)}function x(e){e.attr("stroke-dasharray",v)}function y(e,t){var n=a.select(e).selectAll(".highlight, .highlight-shadow");x(t?n.transition().duration(r.bar.snapDuration).each("end",t):n)}function b(e,t){var n,a=e.brush,i=NaN,o={};if(a.filterSpecified){var l=e.height,s=a.filter.getConsolidated(),c=g(s,l),d=NaN,u=NaN,f=NaN;for(n=0;n<=c.length;n++){var p=c[n];if(p&&p[0]<=t&&t<=p[1]){d=n;break}if(u=n?n-1:NaN,p&&p[0]>t){f=n;break}}if(i=d,isNaN(i)&&(i=isNaN(u)||isNaN(f)?isNaN(u)?f:u:t-c[u][1]<c[f][0]-t?u:f),!isNaN(i)){var h=c[i],v=function(e,t){var n=r.bar.handleHeight;if(!(t>e[1]+n||t<e[0]-n))return t>=.9*e[1]+.1*e[0]?"n":t<=.9*e[0]+.1*e[1]?"s":"ns"}(h,t);v&&(o.interval=s[i],o.intervalPix=h,o.region=v)}}if(e.ordinal&&!o.region){var m=e.unitTickvals,x=e.unitToPaddedPx.invert(t);for(n=0;n<m.length;n++){var y=[.25*m[Math.max(n-1,0)]+.75*m[n],.25*m[Math.min(n+1,m.length-1)]+.75*m[n]];if(x>=y[0]&&x<=y[1]){o.clickableOrdinalRange=y;break}}}return o}function k(e,t){a.event.sourceEvent.stopPropagation();var n=t.height-a.mouse(e)[1]-2*r.verticalPadding,i=t.brush.svgBrush;i.wasDragged=!0,i._dragging=!0,i.grabbingBar?i.newExtent=[n-i.grabPoint,n+i.barLength-i.grabPoint].map(t.unitToPaddedPx.invert):i.newExtent=[i.startExtent,t.unitToPaddedPx.invert(n)].sort(l),t.brush.filterSpecified=!0,i.extent=i.stayingIntervals.concat([i.newExtent]),i.brushCallback(t),y(e.parentNode)}function w(e,t){var n=b(t,t.height-a.mouse(e)[1]-2*r.verticalPadding),i="crosshair";n.clickableOrdinalRange?i="pointer":n.region&&(i=n.region+"-resize"),a.select(document.body).style("cursor",i)}function A(e){e.on("mousemove",(function(e){a.event.preventDefault(),e.parent.inBrushDrag||w(this,e)})).on("mouseleave",(function(e){e.parent.inBrushDrag||m()})).call(a.behavior.drag().on("dragstart",(function(e){!function(e,t){a.event.sourceEvent.stopPropagation();var n=t.height-a.mouse(e)[1]-2*r.verticalPadding,i=t.unitToPaddedPx.invert(n),o=t.brush,l=b(t,n),s=l.interval,c=o.svgBrush;if(c.wasDragged=!1,c.grabbingBar="ns"===l.region,c.grabbingBar){var d=s.map(t.unitToPaddedPx);c.grabPoint=n-d[0]-r.verticalPadding,c.barLength=d[1]-d[0]}c.clickableOrdinalRange=l.clickableOrdinalRange,c.stayingIntervals=t.multiselect&&o.filterSpecified?o.filter.getConsolidated():[],s&&(c.stayingIntervals=c.stayingIntervals.filter((function(e){return e[0]!==s[0]&&e[1]!==s[1]}))),c.startExtent=l.region?s["s"===l.region?1:0]:i,t.parent.inBrushDrag=!0,c.brushStartCallback()}(this,e)})).on("drag",(function(e){k(this,e)})).on("dragend",(function(e){!function(e,t){var n=t.brush,r=n.filter,i=n.svgBrush;i._dragging||(w(e,t),k(e,t),t.brush.svgBrush.wasDragged=!1),i._dragging=!1,a.event.sourceEvent.stopPropagation();var o=i.grabbingBar;if(i.grabbingBar=!1,i.grabLocation=void 0,t.parent.inBrushDrag=!1,m(),!i.wasDragged)return i.wasDragged=void 0,i.clickableOrdinalRange?n.filterSpecified&&t.multiselect?i.extent.push(i.clickableOrdinalRange):(i.extent=[i.clickableOrdinalRange],n.filterSpecified=!0):o?(i.extent=i.stayingIntervals,0===i.extent.length&&C(n)):C(n),i.brushCallback(t),y(e.parentNode),void i.brushEndCallback(n.filterSpecified?r.getConsolidated():[]);var l=function(){r.set(r.getConsolidated())};if(t.ordinal){var s=t.unitTickvals;s[s.length-1]<s[0]&&s.reverse(),i.newExtent=[f(0,s,i.newExtent[0],i.stayingIntervals),f(1,s,i.newExtent[1],i.stayingIntervals)];var c=i.newExtent[1]>i.newExtent[0];i.extent=i.stayingIntervals.concat(c?[i.newExtent]:[]),i.extent.length||C(n),i.brushCallback(t),c?y(e.parentNode,l):(l(),y(e.parentNode))}else l();i.brushEndCallback(n.filterSpecified?r.getConsolidated():[])}(this,e)})))}function T(e,t){return e[0]-t[0]}function C(e){e.filterSpecified=!1,e.svgBrush.extent=[[-1/0,1/0]]}function P(e){for(var t,n=e.slice(),r=[],a=n.shift();a;){for(t=a.slice();(a=n.shift())&&a[0]<=t[1];)t[1]=Math.max(t[1],a[1]);r.push(t)}return 1===r.length&&r[0][0]>r[0][1]&&(r=[]),r}e.exports={makeBrush:function(e,t,n,r,a,i){var o,s=function(){var e,t,n=[];return{set:function(r){1===(n=r.map((function(e){return e.slice().sort(l)})).sort(T)).length&&n[0][0]===-1/0&&n[0][1]===1/0&&(n=[[0,-1]]),e=P(n),t=n.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0])},get:function(){return n.slice()},getConsolidated:function(){return e},getBounds:function(){return t}}}();return s.set(n),{filter:s,filterSpecified:t,svgBrush:{extent:[],brushStartCallback:r,brushCallback:(o=a,function(e){var t=e.brush,n=function(e){return e.svgBrush.extent.map((function(e){return e.slice()}))}(t),r=n.slice();t.filter.set(r),o()}),brushEndCallback:i}}},ensureAxisBrush:function(e){var t=e.selectAll("."+r.cn.axisBrush).data(o,i);t.enter().append("g").classed(r.cn.axisBrush,!0),function(e){var t=e.selectAll(".background").data(o);t.enter().append("rect").classed("background",!0).call(p).call(h).style("pointer-events","auto").attr("transform","translate(0 "+r.verticalPadding+")"),t.call(A).attr("height",(function(e){return e.height-r.verticalPadding}));var n=e.selectAll(".highlight-shadow").data(o);n.enter().append("line").classed("highlight-shadow",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width+r.bar.strokeWidth).attr("stroke",r.bar.strokeColor).attr("opacity",r.bar.strokeOpacity).attr("stroke-linecap","butt"),n.attr("y1",(function(e){return e.height})).call(x);var a=e.selectAll(".highlight").data(o);a.enter().append("line").classed("highlight",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width-r.bar.strokeWidth).attr("stroke",r.bar.fillColor).attr("opacity",r.bar.fillOpacity).attr("stroke-linecap","butt"),a.attr("y1",(function(e){return e.height})).call(x)}(t)},cleanRanges:function(e,t){if(Array.isArray(e[0])?(e=e.map((function(e){return e.sort(l)})),e=t.multiselect?P(e.sort(T)):[e[0]]):e=[e.sort(l)],t.tickvals){var n=t.tickvals.slice().sort(l);if(!(e=e.map((function(e){var t=[f(0,n,e[0],[]),f(1,n,e[1],[])];if(t[1]>t[0])return t})).filter((function(e){return e}))).length)return}return e.length>1?e:e[0]}}},75708:(e,t,n)=>{"use strict";var r=n(15078),a=n(67763).a0,i=n(37454),o=n(96783);t.name="parcoords",t.plot=function(e){var t=a(e.calcdata,"parcoords")[0];t.length&&i(e,t)},t.clean=function(e,t,n,r){var a=r._has&&r._has("parcoords"),i=t._has&&t._has("parcoords");a&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},t.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:o.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})})),window.setTimeout((function(){r.selectAll("#filterBarPattern").attr("id","filterBarPattern")}),60)}},38124:(e,t,n)=>{"use strict";var r=n(34141).isArrayOrTypedArray,a=n(59430),i=n(77715).wrap;e.exports=function(e,t){var n,o;return a.hasColorscale(t,"line")&&r(t.line.color)?(n=t.line.color,o=a.extractOpts(t.line).colorscale,a.calc(e,t,{vals:n,containerStr:"line",cLetter:"c"})):(n=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=.5;return t}(t._length),o=[[0,t.line.color],[1,t.line.color]]),i({lineColor:n,cscale:o})}},69714:e=>{"use strict";e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,deselectedLineColor:"#777",bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeColor:"white",strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},31628:(e,t,n)=>{"use strict";var r=n(34141),a=n(88003).hasColorscale,i=n(62252),o=n(72910).c,l=n(69337),s=n(34682),c=n(54785),d=n(16861),u=n(69714).maxDimensionCount,f=n(78312);function p(e,t,n,a){function i(n,a){return r.coerce(e,t,c.dimensions,n,a)}var o=i("values"),l=i("visible");if(o&&o.length||(l=t.visible=!1),l){i("label"),i("tickvals"),i("ticktext"),i("tickformat");var u=i("range");t._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:u},s.setConvert(t._ax,a.layout),i("multiselect");var f=i("constraintrange");f&&(t.constraintrange=d.cleanRanges(f,t))}}e.exports=function(e,t,n,s){function d(n,a){return r.coerce(e,t,c,n,a)}var h=e.dimensions;Array.isArray(h)&&h.length>u&&(r.log("parcoords traces support up to "+u+" dimensions at the moment"),h.splice(u));var v=l(e,t,{name:"dimensions",layout:s,handleItemDefaults:p}),g=function(e,t,n,o,l){var s=l("line.color",n);if(a(e,"line")&&r.isArrayOrTypedArray(s)){if(s.length)return l("line.colorscale"),i(e,t,o,l,{prefix:"line.",cLetter:"c"}),s.length;t.line.color=n}return 1/0}(e,t,n,s,d);o(t,s,d),Array.isArray(v)&&v.length||(t.visible=!1),f(t,v,"values",g);var m={family:s.font.family,size:Math.round(s.font.size/1.2),color:s.font.color};r.coerceFont(d,"labelfont",m),r.coerceFont(d,"tickfont",m),r.coerceFont(d,"rangefont",m),d("labelangle"),d("labelside")}},38596:(e,t,n)=>{"use strict";var r=n(34141).isTypedArray;t.convertTypedArray=function(e){return r(e)?Array.prototype.slice.call(e):e},t.isOrdinal=function(e){return!!e.tickvals},t.isVisible=function(e){return e.visible||!("visible"in e)}},54721:(e,t,n)=>{"use strict";e.exports={attributes:n(54785),supplyDefaults:n(31628),calc:n(38124),plot:n(37454),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:n(75708),categories:["gl","regl","noOpacity","noHover"],meta:{description:["Parallel coordinates for multidimensional exploratory data analysis.","The samples are specified in `dimensions`.","The colors are set in `line.color`."].join(" ")}}},3684:(e,t,n)=>{"use strict";var r=n(72645),a=r("./shaders/vertex.glsl"),i=r("./shaders/fragment.glsl"),o=n(69714).maxDimensionCount,l=n(34141),s=new Uint8Array(4),c=new Uint8Array(4),d={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function u(e,t,n,r,a){var i=e._gl;i.enable(i.SCISSOR_TEST),i.scissor(t,n,r,a),e.clear({color:[0,0,0,0],depth:1})}function f(e,t,n,r,a,i){var o=i.key;n.drawCompleted||(function(e){e.read({x:0,y:0,width:1,height:1,data:s})}(e),n.drawCompleted=!0),function l(s){var c=Math.min(r,a-s*r);0===s&&(window.cancelAnimationFrame(n.currentRafs[o]),delete n.currentRafs[o],u(e,i.scissorX,i.scissorY,i.scissorWidth,i.viewBoxSize[1])),n.clearOnly||(i.count=2*c,i.offset=2*s*r,t(i),s*r+c<a&&(n.currentRafs[o]=window.requestAnimationFrame((function(){l(s+1)}))),n.drawCompleted=!1)}(0)}function p(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=e(r/255).concat(t);return n}function h(e,t){return(e>>>8*t)%256/255}function v(e,t,n){for(var r=new Array(8*t),a=0,i=0;i<t;i++)for(var o=0;o<2;o++)for(var l=0;l<4;l++){var s=4*e+l,c=n[64*i+s];63===s&&0===o&&(c*=-1),r[a++]=c}return r}function g(e){var t="0"+e;return t.substr(t.length-2)}function m(e){return e<o?"p"+g(e+1)+"_"+g(e+4):"colors"}function x(e,t,n,r,a,i,o,s,c,d,u,f,p){for(var h=[[],[]],v=0;v<64;v++)h[0][v]=v===a?1:0,h[1][v]=v===i?1:0;var g=e.lines.canvasOverdrag,m=e.domain,x=e.canvasWidth,y=e.canvasHeight,b=e.deselectedLines.color;return l.extendFlat({key:u,resolution:[x,y],viewBoxPos:[o+g,s],viewBoxSize:[c,d],i0:a,i1:i,dim0A:h[0].slice(0,16),dim0B:h[0].slice(16,32),dim0C:h[0].slice(32,48),dim0D:h[0].slice(48,64),dim1A:h[1].slice(0,16),dim1B:h[1].slice(16,32),dim1C:h[1].slice(32,48),dim1D:h[1].slice(48,64),drwLayer:f,contextColor:[b[0]/255,b[1]/255,b[2]/255,b[3]<1?b[3]:Math.max(1/255,Math.pow(1/e.lines.color.length,1/3))],scissorX:(r===t?0:o+g)+(e.pad.l-g)+e.layoutWidth*m.x[0],scissorWidth:(r===n?x-o+g:c+.5)+(r===t?o+g:0),scissorY:s+e.pad.b+e.layoutHeight*m.y[0],scissorHeight:d,viewportX:e.pad.l-g+e.layoutWidth*m.x[0],viewportY:e.pad.b+e.layoutHeight*m.y[0],viewportWidth:x,viewportHeight:y},p)}function y(e){var t=2047,n=Math.max(0,Math.floor(e[0]*t),0),r=Math.min(t,Math.ceil(e[1]*t),t);return[Math.min(n,r),Math.max(n,r)]}e.exports=function(e,t){var n,r,s,g,b,k=t.context,w=t.pick,A=t.regl,T={currentRafs:{},drawCompleted:!0,clearOnly:!1},C=function(e){for(var t={},n=0;n<=o;n+=4)t[m(n)]=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return t}(A),P=A.texture(d),B=[];S(t);var L=A({profile:!1,blend:{enable:k,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!k,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:A.prop("scissorX"),y:A.prop("scissorY"),width:A.prop("scissorWidth"),height:A.prop("scissorHeight")}},viewport:{x:A.prop("viewportX"),y:A.prop("viewportY"),width:A.prop("viewportWidth"),height:A.prop("viewportHeight")},dither:!1,vert:a,frag:i,primitive:"lines",lineWidth:1,attributes:C,uniforms:{resolution:A.prop("resolution"),viewBoxPos:A.prop("viewBoxPos"),viewBoxSize:A.prop("viewBoxSize"),dim0A:A.prop("dim0A"),dim1A:A.prop("dim1A"),dim0B:A.prop("dim0B"),dim1B:A.prop("dim1B"),dim0C:A.prop("dim0C"),dim1C:A.prop("dim1C"),dim0D:A.prop("dim0D"),dim1D:A.prop("dim1D"),loA:A.prop("loA"),hiA:A.prop("hiA"),loB:A.prop("loB"),hiB:A.prop("hiB"),loC:A.prop("loC"),hiC:A.prop("hiC"),loD:A.prop("loD"),hiD:A.prop("hiD"),palette:P,contextColor:A.prop("contextColor"),mask:A.prop("maskTexture"),drwLayer:A.prop("drwLayer"),maskHeight:A.prop("maskHeight")},offset:A.prop("offset"),count:A.prop("count")});function S(e){n=e.model,r=e.viewModel,s=r.dimensions.slice(),g=s[0]?s[0].values.length:0;var t=n.lines,a=w?t.color.map((function(e,n){return n/t.color.length})):t.color,i=function(e,t,n){for(var r,a=new Array(e*(o+4)),i=0,l=0;l<e;l++){for(var s=0;s<o;s++)a[i++]=s<t.length?t[s].paddedUnitValues[l]:.5;a[i++]=h(l,2),a[i++]=h(l,1),a[i++]=h(l,0),a[i++]=(r=n[l],Math.max(1e-6,Math.min(.999999,r)))}return a}(g,s,a);!function(e,t,n){for(var r=0;r<=o;r+=4)e[m(r)](v(r/4,t,n))}(C,g,i),k||w||(P=A.texture(l.extendFlat({data:p(n.unitToColor,255)},d)))}return{render:function(e,t,r){var a,i,o,l=e.length,c=1/0,d=-1/0;for(a=0;a<l;a++)e[a].dim0.canvasX<c&&(c=e[a].dim0.canvasX,i=a),e[a].dim1.canvasX>d&&(d=e[a].dim1.canvasX,o=a);0===l&&u(A,0,0,n.canvasWidth,n.canvasHeight);var p=function(e){var t,n,r,a=[[],[]];for(r=0;r<64;r++){var i=!e&&r<s.length?s[r].brush.filter.getBounds():[-1/0,1/0];a[0][r]=i[0],a[1][r]=i[1]}var o=new Array(16384);for(t=0;t<16384;t++)o[t]=255;if(!e)for(t=0;t<s.length;t++){var l=t%8,c=(t-l)/8,d=Math.pow(2,l),u=s[t].brush.filter.get();if(!(u.length<2)){var f=y(u[0])[1];for(n=1;n<u.length;n++){var p=y(u[n]);for(r=f+1;r<p[0];r++)o[8*r+c]&=~d;f=Math.max(f,p[1])}}}var h={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:o};return b?b(h):b=A.texture(h),{maskTexture:b,maskHeight:2048,loA:a[0].slice(0,16),loB:a[0].slice(16,32),loC:a[0].slice(32,48),loD:a[0].slice(48,64),hiA:a[1].slice(0,16),hiB:a[1].slice(16,32),hiC:a[1].slice(32,48),hiD:a[1].slice(48,64)}}(k);for(a=0;a<l;a++){var h=e[a],v=h.dim0.crossfilterDimensionIndex,m=h.dim1.crossfilterDimensionIndex,C=h.canvasX,P=h.canvasY,S=C+h.panelSizeX;if(t||!B[v]||B[v][0]!==C||B[v][1]!==S){B[v]=[C,S];var _=x(n,i,o,a,v,m,C,P,h.panelSizeX,h.panelSizeY,h.dim0.crossfilterDimensionIndex,k?0:w?2:1,p);T.clearOnly=r;var D=t?n.lines.blockLineCount:g;f(A,L,T,D,g,_)}}},readPixel:function(e,t){return A.read({x:e,y:t,width:1,height:1,data:c}),c},readPixels:function(e,t,n,r){var a=new Uint8Array(4*n*r);return A.read({x:e,y:t,width:n,height:r,data:a}),a},destroy:function(){for(var t in e.style["pointer-events"]="none",P.destroy(),b&&b.destroy(),C)C[t].destroy()},update:S}}},78312:e=>{"use strict";e.exports=function(e,t,n,r){var a,i;for(r||(r=1/0),a=0;a<t.length;a++)(i=t[a]).visible&&(r=Math.min(r,i[n].length));for(r===1/0&&(r=0),e._length=r,a=0;a<t.length;a++)(i=t[a]).visible&&(i._length=r);return r}},44761:(e,t,n)=>{"use strict";var r=n(15078),a=n(51963),i=n(34682),o=n(34141),l=n(8666),s=n(84474),c=n(59430),d=n(77715),u=d.keyFun,f=d.repeat,p=d.unwrap,h=n(38596),v=n(69714),g=n(16861),m=n(3684);function x(e,t,n){return o.aggNums(e,null,t,n)}function y(e,t){return k(x(Math.min,e,t),x(Math.max,e,t))}function b(e){var t=e.range;return t?k(t[0],t[1]):y(e.values,e._length)}function k(e,t){return!isNaN(e)&&isFinite(e)||(e=0),!isNaN(t)&&isFinite(t)||(t=0),e===t&&(0===e?(e-=1,t+=1):(e*=.9,t*=1.1)),[e,t]}function w(e,t,n,a,i){var o,l,s=b(n);return a?r.scale.ordinal().domain(a.map((o=r.format(n.tickformat),l=i,l?function(e,t){var n=l[t];return null==n?o(e):n}:o))).range(a.map((function(n){var r=(n-s[0])/(s[1]-s[0]);return e-t+r*(2*t-e)}))):r.scale.linear().domain(s).range([e-t,t])}function A(e){if(e.tickvals){var t=b(e);return r.scale.ordinal().domain(e.tickvals).range(e.tickvals.map((function(e){return(e-t[0])/(t[1]-t[0])})))}}function T(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){var t=a(e[1]);return r.rgb("rgb("+t[0]+","+t[1]+","+t[2]+")")})),i="rgb".split("").map((function(e){return r.scale.linear().clamp(!0).domain(t).range(n.map((a=e,function(e){return e[a]})));var a}));return function(e){return i.map((function(t){return t(e)}))}}function C(e){return e.dimensions.some((function(e){return e.brush.filterSpecified}))}function P(e,t,n){var i=p(t),l=i.trace,s=h.convertTypedArray(i.lineColor),d=l.line,u={color:a(v.deselectedLineColor)},f=c.extractOpts(d),g=f.reversescale?c.flipScale(i.cscale):i.cscale,m=l.domain,x=l.dimensions,y=e.width,k=l.labelangle,w=l.labelside,A=l.labelfont,C=l.tickfont,P=l.rangefont,B=o.extendDeepNoArrays({},d,{color:s.map(r.scale.linear().domain(b({values:s,range:[f.min,f.max],_length:l._length}))),blockLineCount:v.blockLineCount,canvasOverdrag:v.overdrag*v.canvasPixelRatio}),L=Math.floor(y*(m.x[1]-m.x[0])),S=Math.floor(e.height*(m.y[1]-m.y[0])),_=e.margin||{l:80,r:80,t:100,b:80},D=L,M=S;return{key:n,colCount:x.filter(h.isVisible).length,dimensions:x,tickDistance:v.tickDistance,unitToColor:T(g),lines:B,deselectedLines:u,labelAngle:k,labelSide:w,labelFont:A,tickFont:C,rangeFont:P,layoutWidth:y,layoutHeight:e.height,domain:m,translateX:m.x[0]*y,translateY:e.height-m.y[1]*e.height,pad:_,canvasWidth:D*v.canvasPixelRatio+2*B.canvasOverdrag,canvasHeight:M*v.canvasPixelRatio,width:D,height:M,canvasPixelRatio:v.canvasPixelRatio}}function B(e,t,n){var a=n.width,i=n.height,l=n.dimensions,s=n.canvasPixelRatio,c=function(e){return a*e/Math.max(1,n.colCount-1)},d=v.verticalPadding/i,u=function(e,t){return r.scale.linear().range([t,e-t])}(i,v.verticalPadding),f={key:n.key,xScale:c,model:n,inBrushDrag:!1},p={};return f.dimensions=l.filter(h.isVisible).map((function(a,l){var m=function(e,t){return r.scale.linear().domain(b(e)).range([t,1-t])}(a,d),x=p[a.label];p[a.label]=(x||0)+1;var y=a.label+(x?"__"+x:""),k=a.constraintrange,T=k&&k.length;T&&!Array.isArray(k[0])&&(k=[k]);var P=T?k.map((function(e){return e.map(m)})):[[-1/0,1/0]],B=a.values;B.length>a._length&&(B=B.slice(0,a._length));var L,S=a.tickvals;function _(e,t){return{val:e,text:L[t]}}function D(e,t){return e.val-t.val}if(Array.isArray(S)&&S.length){L=a.ticktext,Array.isArray(L)&&L.length?L.length>S.length?L=L.slice(0,S.length):S.length>L.length&&(S=S.slice(0,L.length)):L=S.map(r.format(a.tickformat));for(var M=1;M<S.length;M++)if(S[M]<S[M-1]){for(var E=S.map(_).sort(D),O=0;O<S.length;O++)S[O]=E[O].val,L[O]=E[O].text;break}}else S=void 0;return B=h.convertTypedArray(B),{key:y,label:a.label,tickFormat:a.tickformat,tickvals:S,ticktext:L,ordinal:h.isOrdinal(a),multiselect:a.multiselect,xIndex:l,crossfilterDimensionIndex:l,visibleIndex:a._index,height:i,values:B,paddedUnitValues:B.map(m),unitTickvals:S&&S.map(m),xScale:c,x:c(l),canvasX:c(l)*s,unitToPaddedPx:u,domainScale:w(i,v.verticalPadding,a,S,L),ordinalScale:A(a),parent:f,model:n,brush:g.makeBrush(e,T,P,(function(){e.linePickActive(!1)}),(function(){var t=f;t.focusLayer&&t.focusLayer.render(t.panels,!0);var n=C(t);!e.contextShown()&&n?(t.contextLayer&&t.contextLayer.render(t.panels,!0),e.contextShown(!0)):e.contextShown()&&!n&&(t.contextLayer&&t.contextLayer.render(t.panels,!0,!0),e.contextShown(!1))}),(function(n){if(f.focusLayer.render(f.panels,!0),f.pickLayer&&f.pickLayer.render(f.panels,!0),e.linePickActive(!0),t&&t.filterChanged){var r=m.invert,i=n.map((function(e){return e.map(r).sort(o.sorterAsc)})).sort((function(e,t){return e[0]-t[0]}));t.filterChanged(f.key,a._index,i)}}))}})),f}function L(e){e.classed(v.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default").style("user-select","none")}function S(e,t){var n="top"===t?1:-1,r=e*Math.PI/180;return{dir:n,dx:Math.sin(r),dy:Math.cos(r),degrees:e}}function _(e,t){for(var n=t.panels||(t.panels=[]),r=e.data(),a=0;a<r.length-1;a++){var i=n[a]||(n[a]={}),o=r[a],l=r[a+1];i.dim0=o,i.dim1=l,i.canvasX=o.canvasX,i.panelSizeX=l.canvasX-o.canvasX,i.panelSizeY=t.model.canvasHeight,i.y=0,i.canvasY=0}}function D(e,t){return i.tickText(e._ax,t,!1).text}function M(e,t){if(e.ordinal)return"";var n=e.domainScale.domain(),r=n[t?n.length-1:0];return D(e.model.dimensions[e.visibleIndex],r)}e.exports=function(e,t,n,a){var c=e._fullLayout,d=c._toppaper,x=c._glcontainer;!function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)for(var r=e[t][n].trace,a=r.dimensions,o=0;o<a.length;o++){var l=a[o].values,s=a[o]._ax;s&&(s.range?s.range=k(s.range[0],s.range[1]):s.range=y(l,r._length),s.dtick||(s.dtick=.01*(Math.abs(s.range[1]-s.range[0])||1)),s.tickformat=a[o].tickformat,i.calcTicks(s),s.cleanRange())}}(t);var b,w,A=(b=!0,w=!1,{linePickActive:function(e){return arguments.length?b=!!e:b},contextShown:function(e){return arguments.length?w=!!e:w}}),T=t.filter((function(e){return p(e).trace.visible})).map(P.bind(0,n)).map(B.bind(0,A,a));x.each((function(e,t){return o.extendFlat(e,T[t])}));var E=x.selectAll(".gl-canvas").each((function(e){e.viewModel=T[0],e.model=e.viewModel?e.viewModel.model:null})),O=null;E.filter((function(e){return e.pick})).style("pointer-events","auto").on("mousemove",(function(e){if(A.linePickActive()&&e.lineLayer&&a&&a.hover){var t=r.event,n=this.width,i=this.height,o=r.mouse(this),l=o[0],s=o[1];if(l<0||s<0||l>=n||s>=i)return;var c=e.lineLayer.readPixel(l,i-1-s),d=0!==c[3],u=d?c[2]+256*(c[1]+256*c[0]):null,f={x:l,y:s,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:u};u!==O&&(d?a.hover(f):a.unhover&&a.unhover(f),O=u)}})),E.style("opacity",(function(e){return e.pick?0:1})),d.style("background","rgba(255, 255, 255, 0)");var I=d.selectAll("."+v.cn.parcoords).data(T,u);I.exit().remove(),I.enter().append("g").classed(v.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),I.attr("transform",(function(e){return"translate("+e.model.translateX+","+e.model.translateY+")"}));var N=I.selectAll("."+v.cn.parcoordsControlView).data(f,u);N.enter().append("g").classed(v.cn.parcoordsControlView,!0),N.attr("transform",(function(e){return"translate("+e.model.pad.l+","+e.model.pad.t+")"}));var R=N.selectAll("."+v.cn.yAxis).data((function(e){return e.dimensions}),u);R.enter().append("g").classed(v.cn.yAxis,!0),N.each((function(e){_(R,e)})),E.each((function(e){if(e.viewModel){!e.lineLayer||a?e.lineLayer=m(this,e):e.lineLayer.update(e),(e.key||0===e.key)&&(e.viewModel[e.key]=e.lineLayer);var t=!e.context||a;e.lineLayer.render(e.viewModel.panels,t)}})),R.attr("transform",(function(e){return"translate("+e.xScale(e.xIndex)+", 0)"})),R.call(r.behavior.drag().origin((function(e){return e})).on("drag",(function(e){var t=e.parent;A.linePickActive(!1),e.x=Math.max(-v.overdrag,Math.min(e.model.width+v.overdrag,r.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,R.sort((function(e,t){return e.x-t.x})).each((function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio})),_(R,t),R.filter((function(t){return 0!==Math.abs(e.xIndex-t.xIndex)})).attr("transform",(function(e){return"translate("+e.xScale(e.xIndex)+", 0)"})),r.select(this).attr("transform","translate("+e.x+", 0)"),R.each((function(n,r,a){a===e.parent.key&&(t.dimensions[r]=n)})),t.contextLayer&&t.contextLayer.render(t.panels,!1,!C(t)),t.focusLayer.render&&t.focusLayer.render(t.panels)})).on("dragend",(function(e){var t=e.parent;e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,_(R,t),r.select(this).attr("transform",(function(e){return"translate("+e.x+", 0)"})),t.contextLayer&&t.contextLayer.render(t.panels,!1,!C(t)),t.focusLayer&&t.focusLayer.render(t.panels),t.pickLayer&&t.pickLayer.render(t.panels,!0),A.linePickActive(!0),a&&a.axesMoved&&a.axesMoved(t.key,t.dimensions.map((function(e){return e.crossfilterDimensionIndex})))}))),R.exit().remove();var F=R.selectAll("."+v.cn.axisOverlays).data(f,u);F.enter().append("g").classed(v.cn.axisOverlays,!0),F.selectAll("."+v.cn.axis).remove();var X=F.selectAll("."+v.cn.axis).data(f,u);X.enter().append("g").classed(v.cn.axis,!0),X.each((function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,a=n.domain();r.select(this).call(r.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?a:null).tickFormat((function(t){return h.isOrdinal(e)?t:D(e.model.dimensions[e.visibleIndex],t)})).scale(n)),s.font(X.selectAll("text"),e.model.tickFont)})),X.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),X.selectAll("text").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var H=F.selectAll("."+v.cn.axisHeading).data(f,u);H.enter().append("g").classed(v.cn.axisHeading,!0);var V=H.selectAll("."+v.cn.axisTitle).data(f,u);V.enter().append("text").classed(v.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),V.text((function(e){return e.label})).each((function(t){var n=r.select(this);s.font(n,t.model.labelFont),l.convertToTspans(n,e)})).attr("transform",(function(e){var t=S(e.model.labelAngle,e.model.labelSide),n=v.axisTitleOffset;return(t.dir>0?"":"translate(0,"+(2*n+e.model.height)+")")+"rotate("+t.degrees+")translate("+-n*t.dx+","+-n*t.dy+")"})).attr("text-anchor",(function(e){var t=S(e.model.labelAngle,e.model.labelSide);return 2*Math.abs(t.dx)>Math.abs(t.dy)?t.dir*t.dx<0?"start":"end":"middle"}));var z=F.selectAll("."+v.cn.axisExtent).data(f,u);z.enter().append("g").classed(v.cn.axisExtent,!0);var W=z.selectAll("."+v.cn.axisExtentTop).data(f,u);W.enter().append("g").classed(v.cn.axisExtentTop,!0),W.attr("transform","translate(0,"+-v.axisExtentOffset+")");var Y=W.selectAll("."+v.cn.axisExtentTopText).data(f,u);Y.enter().append("text").classed(v.cn.axisExtentTopText,!0).call(L),Y.text((function(e){return M(e,!0)})).each((function(e){s.font(r.select(this),e.model.rangeFont)}));var j=z.selectAll("."+v.cn.axisExtentBottom).data(f,u);j.enter().append("g").classed(v.cn.axisExtentBottom,!0),j.attr("transform",(function(e){return"translate(0,"+(e.model.height+v.axisExtentOffset)+")"}));var U=j.selectAll("."+v.cn.axisExtentBottomText).data(f,u);U.enter().append("text").classed(v.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(L),U.text((function(e){return M(e,!1)})).each((function(e){s.font(r.select(this),e.model.rangeFont)})),g.ensureAxisBrush(F)}},37454:(e,t,n)=>{"use strict";var r=n(44761),a=n(22706),i=n(38596).isVisible;function o(e,t,n){var r=t.indexOf(n),a=e.indexOf(r);return-1===a&&(a+=t.length),a}e.exports=function(e,t){var n=e._fullLayout;if(a(e)){var l={},s={},c={},d={},u=n._size;t.forEach((function(t,n){var r=t[0].trace;c[n]=r.index;var a=d[n]=r._fullInput.index;l[n]=e.data[a].dimensions,s[n]=e.data[a].dimensions.slice()})),r(e,t,{width:u.w,height:u.h,margin:{t:u.t,r:u.r,b:u.b,l:u.l}},{filterChanged:function(t,r,a){var i=s[t][r],o=a.map((function(e){return e.slice()})),l="dimensions["+r+"].constraintrange",u=n._tracePreGUI[e._fullData[c[t]]._fullInput.uid];if(void 0===u[l]){var f=i.constraintrange;u[l]=f||null}var p=e._fullData[c[t]].dimensions[r];o.length?(1===o.length&&(o=o[0]),i.constraintrange=o,p.constraintrange=o.slice(),o=[o]):(delete i.constraintrange,delete p.constraintrange,o=null);var h={};h[l]=o,e.emit("plotly_restyle",[h,[d[t]]])},hover:function(t){e.emit("plotly_hover",t)},unhover:function(t){e.emit("plotly_unhover",t)},axesMoved:function(t,n){var r=function(e,t){return function(n,r){return o(e,t,n)-o(e,t,r)}}(n,s[t].filter(i));l[t].sort(r),s[t].filter((function(e){return!i(e)})).sort((function(e){return s[t].indexOf(e)})).forEach((function(e){l[t].splice(l[t].indexOf(e),1),l[t].splice(s[t].indexOf(e),0,e)})),e.emit("plotly_restyle",[{dimensions:[l[t]]},[d[t]]])}})}}}}]);
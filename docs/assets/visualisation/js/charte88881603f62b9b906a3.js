(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[4642],{7481:(e,t,r)=>{"use strict";function n(e,t){return e.parent===t.parent?1:2}function a(e,t){return e+t.x}function i(e,t){return Math.max(e,t.y)}function o(){var e=n,t=1,r=1,o=!1;function l(n){var l,u=0;n.eachAfter((function(t){var r=t.children;r?(t.x=function(e){return e.reduce(a,0)/e.length}(r),t.y=function(e){return 1+e.reduce(i,0)}(r)):(t.x=l?u+=e(t,l):0,t.y=0,l=t)}));var c=function(e){for(var t;t=e.children;)e=t[0];return e}(n),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(n),f=c.x-e(c,s)/2,h=s.x+e(s,c)/2;return n.eachAfter(o?function(e){e.x=(e.x-n.x)*t,e.y=(n.y-e.y)*r}:function(e){e.x=(e.x-f)/(h-f)*t,e.y=(1-(n.y?e.y/n.y:1))*r})}return l.separation=function(t){return arguments.length?(e=t,l):e},l.size=function(e){return arguments.length?(o=!1,t=+e[0],r=+e[1],l):o?null:[t,r]},l.nodeSize=function(e){return arguments.length?(o=!0,t=+e[0],r=+e[1],l):o?[t,r]:null},l}function l(e){var t=0,r=e.children,n=r&&r.length;if(n)for(;--n>=0;)t+=r[n].value;else t=1;e.value=t}function u(e,t){var r,n,a,i,o,l=new h(e),u=+e.value&&(l.value=e.value),s=[l];for(null==t&&(t=c);r=s.pop();)if(u&&(r.value=+r.data.value),(a=t(r.data))&&(o=a.length))for(r.children=new Array(o),i=o-1;i>=0;--i)s.push(n=r.children[i]=new h(a[i])),n.parent=r,n.depth=r.depth+1;return l.eachBefore(f)}function c(e){return e.children}function s(e){e.data=e.data.data}function f(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function h(e){this.data=e,this.depth=this.height=0,this.parent=null}r.r(t),r.d(t,{cluster:()=>o,hierarchy:()=>u,pack:()=>z,packEnclose:()=>d,packSiblings:()=>L,partition:()=>H,stratify:()=>q,tree:()=>Q,treemap:()=>re,treemapBinary:()=>ne,treemapDice:()=>B,treemapResquarify:()=>ie,treemapSlice:()=>J,treemapSliceDice:()=>ae,treemapSquarify:()=>te}),h.prototype=u.prototype={constructor:h,count:function(){return this.eachAfter(l)},each:function(e){var t,r,n,a,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(e(i),r=i.children)for(n=0,a=r.length;n<a;++n)o.push(r[n])}while(o.length);return this},eachAfter:function(e){for(var t,r,n,a=this,i=[a],o=[];a=i.pop();)if(o.push(a),t=a.children)for(r=0,n=t.length;r<n;++r)i.push(t[r]);for(;a=o.pop();)e(a);return this},eachBefore:function(e){for(var t,r,n=this,a=[n];n=a.pop();)if(e(n),t=n.children)for(r=t.length-1;r>=0;--r)a.push(t[r]);return this},sum:function(e){return this.eachAfter((function(t){for(var r=+e(t.data)||0,n=t.children,a=n&&n.length;--a>=0;)r+=n[a].value;t.value=r}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,r=function(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),a=null;for(e=r.pop(),t=n.pop();e===t;)a=e,e=r.pop(),t=n.pop();return a}(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;e!==r;)n.splice(a,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(r){r!==e&&t.push({source:r.parent,target:r})})),t},copy:function(){return u(this).eachBefore(s)}};var p=Array.prototype.slice;function d(e){for(var t,r,n=0,a=(e=function(e){for(var t,r,n=e.length;n;)r=Math.random()*n--|0,t=e[n],e[n]=e[r],e[r]=t;return e}(p.call(e))).length,i=[];n<a;)t=e[n],r&&y(r,t)?++n:(r=m(i=v(i,t)),n=0);return r}function v(e,t){var r,n;if(g(t,e))return[t];for(r=0;r<e.length;++r)if(x(t,e[r])&&g(b(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(x(b(e[r],e[n]),t)&&x(b(e[r],t),e[n])&&x(b(e[n],t),e[r])&&g(_(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function x(e,t){var r=e.r-t.r,n=t.x-e.x,a=t.y-e.y;return r<0||r*r<n*n+a*a}function y(e,t){var r=e.r-t.r+1e-6,n=t.x-e.x,a=t.y-e.y;return r>0&&r*r>n*n+a*a}function g(e,t){for(var r=0;r<t.length;++r)if(!y(e,t[r]))return!1;return!0}function m(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return b(e[0],e[1]);case 3:return _(e[0],e[1],e[2])}var t}function b(e,t){var r=e.x,n=e.y,a=e.r,i=t.x,o=t.y,l=t.r,u=i-r,c=o-n,s=l-a,f=Math.sqrt(u*u+c*c);return{x:(r+i+u/f*s)/2,y:(n+o+c/f*s)/2,r:(f+a+l)/2}}function _(e,t,r){var n=e.x,a=e.y,i=e.r,o=t.x,l=t.y,u=t.r,c=r.x,s=r.y,f=r.r,h=n-o,p=n-c,d=a-l,v=a-s,x=u-i,y=f-i,g=n*n+a*a-i*i,m=g-o*o-l*l+u*u,b=g-c*c-s*s+f*f,_=p*d-h*v,P=(d*b-v*m)/(2*_)-n,T=(v*x-d*y)/_,w=(p*m-h*b)/(2*_)-a,I=(h*y-p*x)/_,M=T*T+I*I-1,L=2*(i+P*T+w*I),A=P*P+w*w-i*i,O=-(M?(L+Math.sqrt(L*L-4*M*A))/(2*M):A/L);return{x:n+P+T*O,y:a+w+I*O,r:O}}function P(e,t,r){var n,a,i,o,l=e.x-t.x,u=e.y-t.y,c=l*l+u*u;c?(a=t.r+r.r,a*=a,o=e.r+r.r,a>(o*=o)?(n=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-n*n)),r.x=e.x-n*l-i*u,r.y=e.y-n*u+i*l):(n=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-n*n)),r.x=t.x+n*l-i*u,r.y=t.y+n*u+i*l)):(r.x=t.x+r.r,r.y=t.y)}function T(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,a=t.y-e.y;return r>0&&r*r>n*n+a*a}function w(e){var t=e._,r=e.next._,n=t.r+r.r,a=(t.x*r.r+r.x*t.r)/n,i=(t.y*r.r+r.y*t.r)/n;return a*a+i*i}function I(e){this._=e,this.next=null,this.previous=null}function M(e){if(!(a=e.length))return 0;var t,r,n,a,i,o,l,u,c,s,f;if((t=e[0]).x=0,t.y=0,!(a>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(a>2))return t.r+r.r;P(r,t,n=e[2]),t=new I(t),r=new I(r),n=new I(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(l=3;l<a;++l){P(t._,r._,n=e[l]),n=new I(n),u=r.next,c=t.previous,s=r._.r,f=t._.r;do{if(s<=f){if(T(u._,n._)){r=u,t.next=r,r.previous=t,--l;continue e}s+=u._.r,u=u.next}else{if(T(c._,n._)){(t=c).next=r,r.previous=t,--l;continue e}f+=c._.r,c=c.previous}}while(u!==c.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,i=w(t);(n=n.next)!==r;)(o=w(n))<i&&(t=n,i=o);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=d(t),l=0;l<a;++l)(t=e[l]).x-=n.x,t.y-=n.y;return n.r}function L(e){return M(e),e}function A(e){return null==e?null:O(e)}function O(e){if("function"!=typeof e)throw new Error;return e}function S(){return 0}function E(e){return function(){return e}}function C(e){return Math.sqrt(e.value)}function z(){var e=null,t=1,r=1,n=S;function a(a){return a.x=t/2,a.y=r/2,e?a.eachBefore(k(e)).eachAfter(R(n,.5)).eachBefore(D(1)):a.eachBefore(k(C)).eachAfter(R(S,1)).eachAfter(R(n,a.r/Math.min(t,r))).eachBefore(D(Math.min(t,r)/(2*a.r))),a}return a.radius=function(t){return arguments.length?(e=A(t),a):e},a.size=function(e){return arguments.length?(t=+e[0],r=+e[1],a):[t,r]},a.padding=function(e){return arguments.length?(n="function"==typeof e?e:E(+e),a):n},a}function k(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function R(e,t){return function(r){if(n=r.children){var n,a,i,o=n.length,l=e(r)*t||0;if(l)for(a=0;a<o;++a)n[a].r+=l;if(i=M(n),l)for(a=0;a<o;++a)n[a].r-=l;r.r=i+l}}}function D(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function V(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function B(e,t,r,n,a){for(var i,o=e.children,l=-1,u=o.length,c=e.value&&(n-t)/e.value;++l<u;)(i=o[l]).y0=r,i.y1=a,i.x0=t,i.x1=t+=i.value*c}function H(){var e=1,t=1,r=0,n=!1;function a(a){var i=a.height+1;return a.x0=a.y0=r,a.x1=e,a.y1=t/i,a.eachBefore(function(e,t){return function(n){n.children&&B(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var a=n.x0,i=n.y0,o=n.x1-r,l=n.y1-r;o<a&&(a=o=(a+o)/2),l<i&&(i=l=(i+l)/2),n.x0=a,n.y0=i,n.x1=o,n.y1=l}}(t,i)),n&&a.eachBefore(V),a}return a.round=function(e){return arguments.length?(n=!!e,a):n},a.size=function(r){return arguments.length?(e=+r[0],t=+r[1],a):[e,t]},a.padding=function(e){return arguments.length?(r=+e,a):r},a}var K={depth:-1},F={};function j(e){return e.id}function N(e){return e.parentId}function q(){var e=j,t=N;function r(r){var n,a,i,o,l,u,c,s=r.length,p=new Array(s),d={};for(a=0;a<s;++a)n=r[a],l=p[a]=new h(n),null!=(u=e(n,a,r))&&(u+="")&&(d[c="$"+(l.id=u)]=c in d?F:l);for(a=0;a<s;++a)if(l=p[a],null!=(u=t(r[a],a,r))&&(u+="")){if(!(o=d["$"+u]))throw new Error("missing: "+u);if(o===F)throw new Error("ambiguous: "+u);o.children?o.children.push(l):o.children=[l],l.parent=o}else{if(i)throw new Error("multiple roots");i=l}if(!i)throw new Error("no root");if(i.parent=K,i.eachBefore((function(e){e.depth=e.parent.depth+1,--s})).eachBefore(f),i.parent=null,s>0)throw new Error("cycle");return i}return r.id=function(t){return arguments.length?(e=O(t),r):e},r.parentId=function(e){return arguments.length?(t=O(e),r):t},r}function W(e,t){return e.parent===t.parent?1:2}function U(e){var t=e.children;return t?t[0]:e.t}function G(e){var t=e.children;return t?t[t.length-1]:e.t}function Y(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function X(e,t,r){return e.a.parent===t.parent?e.a:r}function $(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Q(){var e=W,t=1,r=1,n=null;function a(a){var u=function(e){for(var t,r,n,a,i,o=new $(e,0),l=[o];t=l.pop();)if(n=t._.children)for(t.children=new Array(i=n.length),a=i-1;a>=0;--a)l.push(r=t.children[a]=new $(n[a],a)),r.parent=t;return(o.parent=new $(null,0)).children=[o],o}(a);if(u.eachAfter(i),u.parent.m=-u.z,u.eachBefore(o),n)a.eachBefore(l);else{var c=a,s=a,f=a;a.eachBefore((function(e){e.x<c.x&&(c=e),e.x>s.x&&(s=e),e.depth>f.depth&&(f=e)}));var h=c===s?1:e(c,s)/2,p=h-c.x,d=t/(s.x+h+p),v=r/(f.depth||1);a.eachBefore((function(e){e.x=(e.x+p)*d,e.y=e.depth*v}))}return a}function i(t){var r=t.children,n=t.parent.children,a=t.i?n[t.i-1]:null;if(r){!function(e){for(var t,r=0,n=0,a=e.children,i=a.length;--i>=0;)(t=a[i]).z+=r,t.m+=r,r+=t.s+(n+=t.c)}(t);var i=(r[0].z+r[r.length-1].z)/2;a?(t.z=a.z+e(t._,a._),t.m=t.z-i):t.z=i}else a&&(t.z=a.z+e(t._,a._));t.parent.A=function(t,r,n){if(r){for(var a,i=t,o=t,l=r,u=i.parent.children[0],c=i.m,s=o.m,f=l.m,h=u.m;l=G(l),i=U(i),l&&i;)u=U(u),(o=G(o)).a=t,(a=l.z+f-i.z-c+e(l._,i._))>0&&(Y(X(l,t,n),t,a),c+=a,s+=a),f+=l.m,c+=i.m,h+=u.m,s+=o.m;l&&!G(o)&&(o.t=l,o.m+=f-s),i&&!U(u)&&(u.t=i,u.m+=c-h,n=t)}return n}(t,a,t.parent.A||n[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=t,e.y=e.depth*r}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(n=!1,t=+e[0],r=+e[1],a):n?null:[t,r]},a.nodeSize=function(e){return arguments.length?(n=!0,t=+e[0],r=+e[1],a):n?[t,r]:null},a}function J(e,t,r,n,a){for(var i,o=e.children,l=-1,u=o.length,c=e.value&&(a-r)/e.value;++l<u;)(i=o[l]).x0=t,i.x1=n,i.y0=r,i.y1=r+=i.value*c}$.prototype=Object.create(h.prototype);var Z=(1+Math.sqrt(5))/2;function ee(e,t,r,n,a,i){for(var o,l,u,c,s,f,h,p,d,v,x,y=[],g=t.children,m=0,b=0,_=g.length,P=t.value;m<_;){u=a-r,c=i-n;do{s=g[b++].value}while(!s&&b<_);for(f=h=s,x=s*s*(v=Math.max(c/u,u/c)/(P*e)),d=Math.max(h/x,x/f);b<_;++b){if(s+=l=g[b].value,l<f&&(f=l),l>h&&(h=l),x=s*s*v,(p=Math.max(h/x,x/f))>d){s-=l;break}d=p}y.push(o={value:s,dice:u<c,children:g.slice(m,b)}),o.dice?B(o,r,n,a,P?n+=c*s/P:i):J(o,r,n,P?r+=u*s/P:a,i),P-=s,m=b}return y}const te=function e(t){function r(e,r,n,a,i){ee(t,e,r,n,a,i)}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}(Z);function re(){var e=te,t=!1,r=1,n=1,a=[0],i=S,o=S,l=S,u=S,c=S;function s(e){return e.x0=e.y0=0,e.x1=r,e.y1=n,e.eachBefore(f),a=[0],t&&e.eachBefore(V),e}function f(t){var r=a[t.depth],n=t.x0+r,s=t.y0+r,f=t.x1-r,h=t.y1-r;f<n&&(n=f=(n+f)/2),h<s&&(s=h=(s+h)/2),t.x0=n,t.y0=s,t.x1=f,t.y1=h,t.children&&(r=a[t.depth+1]=i(t)/2,n+=c(t)-r,s+=o(t)-r,(f-=l(t)-r)<n&&(n=f=(n+f)/2),(h-=u(t)-r)<s&&(s=h=(s+h)/2),e(t,n,s,f,h))}return s.round=function(e){return arguments.length?(t=!!e,s):t},s.size=function(e){return arguments.length?(r=+e[0],n=+e[1],s):[r,n]},s.tile=function(t){return arguments.length?(e=O(t),s):e},s.padding=function(e){return arguments.length?s.paddingInner(e).paddingOuter(e):s.paddingInner()},s.paddingInner=function(e){return arguments.length?(i="function"==typeof e?e:E(+e),s):i},s.paddingOuter=function(e){return arguments.length?s.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):s.paddingTop()},s.paddingTop=function(e){return arguments.length?(o="function"==typeof e?e:E(+e),s):o},s.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:E(+e),s):l},s.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:E(+e),s):u},s.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:E(+e),s):c},s}function ne(e,t,r,n,a){var i,o,l=e.children,u=l.length,c=new Array(u+1);for(c[0]=o=i=0;i<u;++i)c[i+1]=o+=l[i].value;!function e(t,r,n,a,i,o,u){if(t>=r-1){var s=l[t];return s.x0=a,s.y0=i,s.x1=o,void(s.y1=u)}for(var f=c[t],h=n/2+f,p=t+1,d=r-1;p<d;){var v=p+d>>>1;c[v]<h?p=v+1:d=v}h-c[p-1]<c[p]-h&&t+1<p&&--p;var x=c[p]-f,y=n-x;if(o-a>u-i){var g=(a*y+o*x)/n;e(t,p,x,a,i,g,u),e(p,r,y,g,i,o,u)}else{var m=(i*y+u*x)/n;e(t,p,x,a,i,o,m),e(p,r,y,a,m,o,u)}}(0,u,e.value,t,r,n,a)}function ae(e,t,r,n,a){(1&e.depth?J:B)(e,t,r,n,a)}const ie=function e(t){function r(e,r,n,a,i){if((o=e._squarify)&&o.ratio===t)for(var o,l,u,c,s,f=-1,h=o.length,p=e.value;++f<h;){for(u=(l=o[f]).children,c=l.value=0,s=u.length;c<s;++c)l.value+=u[c].value;l.dice?B(l,r,n,a,n+=(i-n)*l.value/p):J(l,r,n,r+=(a-r)*l.value/p,i),p-=l.value}else e._squarify=o=ee(t,e,r,n,a,i),o.ratio=t}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}(Z)},41219:(e,t,r)=>{"use strict";var n=r(85485),a=r(88176).f,i=r(88176).s,o=r(85088),l=r(72910).Y,u=r(60851),c=r(42892),s=r(94867).extendFlat;e.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the labels of each of the sectors."].join(" ")},parents:{valType:"data_array",editType:"calc",description:["Sets the parent sectors for each of the sectors.","Empty string items '' are understood to reference","the root node in the hierarchy.",'If `ids` is filled, `parents` items are understood to be "ids" themselves.',"When `ids` is not set, plotly attempts to find matching items in `labels`,","but beware they must be unique."].join(" ")},values:{valType:"data_array",editType:"calc",description:["Sets the values associated with each of the sectors.","Use with `branchvalues` to determine how the values are summed."].join(" ")},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc",role:"info",description:["Determines how the items in `values` are summed.","When set to *total*, items in `values` are taken to be value of all its descendants.","When set to *remainder*, items in `values` corresponding to the root and the branches sectors","are taken to be the extra part not part of the sum of the values at their leaves."].join(" ")},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc",role:"info",description:["Determines default for `values` when it is not provided,","by inferring a 1 for each of the *leaves* and/or *branches*, otherwise 0."].join(" ")},level:{valType:"any",editType:"plot",anim:!0,role:"info",description:["Sets the level from which this trace hierarchy is rendered.","Set `level` to `''` to start from the root node in the hierarchy.",'Must be an "id" if `ids` is filled in, otherwise plotly attempts to find a matching',"item in `labels`."].join(" ")},maxdepth:{valType:"integer",editType:"plot",role:"info",dflt:-1,description:["Sets the number of rendered sectors from any given `level`.","Set `maxdepth` to *-1* to render all the levels in the hierarchy."].join(" ")},marker:s({colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this trace.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:s({},u.marker.line.color,{dflt:null,description:["Sets the color of the line enclosing each sector.","Defaults to the `paper_bgcolor` value."].join(" ")}),width:s({},u.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",role:"style",min:0,max:1,description:["Sets the opacity of the leaves. With colorscale","it is defaulted to 1; otherwise it is defaulted to 0.7"].join(" ")},editType:"plot"},text:u.text,textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot",description:["Determines which trace information appear on the graph."].join(" ")},texttemplate:i({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:u.hovertext,hoverinfo:s({},n.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:a({},{keys:c.eventDataKeys}),textfont:u.textfont,insidetextorientation:u.insidetextorientation,insidetextfont:u.insidetextfont,outsidetextfont:s({},u.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented at the center of a sunburst graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),domain:l({name:"sunburst",trace:!0,editType:"calc"})}},80683:(e,t,r)=>{"use strict";var n=r(7481),a=r(35924),i=r(34141),o=r(59430).makeColorScaleFuncFromTrace,l=r(75507).makePullColorFn,u=r(75507).generateExtendedColors,c=r(59430).calc,s=r(45020).ALMOST_EQUAL,f={},h={};function p(e,t,r){var n=0,a=e.children;if(a){for(var i=a.length,o=0;o<i;o++)n+=p(a[o],t,r);r.branches&&n++}else r.leaves&&n++;return e.value=e.data.data.value=n,t._values||(t._values=[]),t._values[e.data.data.i]=n,n}t.calc=function(e,t){var r,u,f,h,d,v,x=e._fullLayout,y=t.ids,g=i.isArrayOrTypedArray(y),m=t.labels,b=t.parents,_=t.values,P=i.isArrayOrTypedArray(_),T=[],w={},I={},M=function(e){return e||"number"==typeof e},L=function(e){return!P||a(_[e])&&_[e]>=0};g?(r=Math.min(y.length,b.length),u=function(e){return M(y[e])&&L(e)},f=function(e){return String(y[e])}):(r=Math.min(m.length,b.length),u=function(e){return M(m[e])&&L(e)},f=function(e){return String(m[e])}),P&&(r=Math.min(r,_.length));for(var A=0;A<r;A++)if(u(A)){var O=f(A),S=M(b[A])?String(b[A]):"",E={i:A,id:O,pid:S,label:M(m[A])?String(m[A]):""};P&&(E.v=+_[A]),T.push(E),d=O,w[h=S]?w[h].push(d):w[h]=[d],I[d]=1}if(w[""]){if(w[""].length>1){for(var C=i.randstr(),z=0;z<T.length;z++)""===T[z].pid&&(T[z].pid=C);T.unshift({hasMultipleRoots:!0,id:C,pid:"",label:""})}}else{var k,R=[];for(k in w)I[k]||R.push(k);if(1!==R.length)return i.warn("Multiple implied roots, cannot build "+t.type+" hierarchy.");k=R[0],T.unshift({hasImpliedRoot:!0,id:k,pid:"",label:k})}try{v=n.stratify().id((function(e){return e.id})).parentId((function(e){return e.pid}))(T)}catch(e){return i.warn("Failed to build "+t.type+" hierarchy. Error: "+e.message)}var D=n.hierarchy(v),V=!1;if(P)switch(t.branchvalues){case"remainder":D.sum((function(e){return e.data.v}));break;case"total":D.each((function(e){var t=e.data.data,r=t.v;if(e.children){var n=e.children.reduce((function(e,t){return e+t.data.data.v}),0);if((t.hasImpliedRoot||t.hasMultipleRoots)&&(r=n),r<n*s)return V=!0,i.warn(["Total value for node",e.data.data.id,"is smaller than the sum of its children.","\nparent value =",r,"\nchildren sum =",n].join(" "))}e.value=r}))}else p(D,t,{branches:-1!==t.count.indexOf("branches"),leaves:-1!==t.count.indexOf("leaves")});if(!V){var B,H;D.sort((function(e,t){return t.value-e.value}));var K=t.marker.colors||[],F=!!K.length;return t._hasColorscale?(F||(K=P?t.values:t._values),c(e,t,{vals:K,containerStr:"marker",cLetter:"c"}),H=o(t.marker)):B=l(x["_"+t.type+"colormap"]),D.each((function(e){var r=e.data.data;r.color=t._hasColorscale?H(K[r.i]):B(K[r.i],r.id)})),T[0].hierarchy=D,T}},t._runCrossTraceCalc=function(e,t){var r=t._fullLayout,n=t.calcdata,a=r[e+"colorway"],i=r["_"+e+"colormap"];r["extend"+e+"colors"]&&(a=u(a,"treemap"===e?h:f));var o=0;function l(e){var t=e.data.data,r=t.id;!1===t.color&&(i[r]?t.color=i[r]:e.parent?e.parent.parent?t.color=e.parent.data.data.color:(i[r]=t.color=a[o%a.length],o++):t.color="rgba(0,0,0,0)")}for(var c=0;c<n.length;c++){var s=n[c][0];s.trace.type===e&&s.hierarchy&&s.hierarchy.each(l)}},t.crossTraceCalc=function(e){return t._runCrossTraceCalc("sunburst",e)}},42892:e=>{"use strict";e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},73422:(e,t,r)=>{"use strict";var n=r(15078),a=r(97997),i=r(70611).appendArrayPointValue,o=r(87529),l=r(34141),u=r(22634),c=r(56582),s=r(55687).formatPieValue;function f(e,t,r){for(var n=e.data.data,a={curveNumber:t.index,pointNumber:n.i,data:t._input,fullData:t},o=0;o<r.length;o++){var l=r[o];l in e&&(a[l]=e[l])}return"parentString"in e&&!c.isHierarchyRoot(e)&&(a.parent=e.parentString),i(a,t,n.i),a}e.exports=function(e,t,r,i,h){var p=i[0],d=p.trace,v=p.hierarchy,x="sunburst"===d.type,y="treemap"===d.type;"_hasHoverLabel"in d||(d._hasHoverLabel=!1),"_hasHoverEvent"in d||(d._hasHoverEvent=!1),e.on("mouseover",(function(a){var i=r._fullLayout;if(!r._dragging&&!1!==i.hovermode){var u=r._fullData[d.index],g=a.data.data,m=g.i,b=c.isHierarchyRoot(a),_=c.getParent(v,a),P=c.getValue(a),T=function(e){return l.castOption(u,m,e)},w=T("hovertemplate"),I=o.castHoverinfo(u,i,m),M=i.separators;if(w||I&&"none"!==I&&"skip"!==I){var L,A;x&&(L=p.cx+a.pxmid[0]*(1-a.rInscribed),A=p.cy+a.pxmid[1]*(1-a.rInscribed)),y&&(L=a._hoverX,A=a._hoverY);var O,S={},E=[],C=[],z=function(e){return-1!==E.indexOf(e)};I&&(E="all"===I?u._module.attributes.hoverinfo.flags:I.split("+")),S.label=g.label,z("label")&&S.label&&C.push(S.label),g.hasOwnProperty("v")&&(S.value=g.v,S.valueLabel=s(S.value,M),z("value")&&C.push(S.valueLabel)),S.currentPath=a.currentPath=c.getPath(a.data),z("current path")&&!b&&C.push(S.currentPath);var k=[],R=function(){-1===k.indexOf(O)&&(C.push(O),k.push(O))};S.percentParent=a.percentParent=P/c.getValue(_),S.parent=a.parentString=c.getPtLabel(_),z("percent parent")&&(O=c.formatPercent(S.percentParent,M)+" of "+S.parent,R()),S.percentEntry=a.percentEntry=P/c.getValue(t),S.entry=a.entry=c.getPtLabel(t),!z("percent entry")||b||a.onPathbar||(O=c.formatPercent(S.percentEntry,M)+" of "+S.entry,R()),S.percentRoot=a.percentRoot=P/c.getValue(v),S.root=a.root=c.getPtLabel(v),z("percent root")&&!b&&(O=c.formatPercent(S.percentRoot,M)+" of "+S.root,R()),S.text=T("hovertext")||T("text"),z("text")&&(O=S.text,l.isValidTextValue(O)&&C.push(O));var D={trace:u,y:A,text:C.join("<br>"),name:w||z("name")?u.name:void 0,color:T("hoverlabel.bgcolor")||g.color,borderColor:T("hoverlabel.bordercolor"),fontFamily:T("hoverlabel.font.family"),fontSize:T("hoverlabel.font.size"),fontColor:T("hoverlabel.font.color"),nameLength:T("hoverlabel.namelength"),textAlign:T("hoverlabel.align"),hovertemplate:w,hovertemplateLabels:S,eventData:[f(a,u,h.eventDataKeys)]};x&&(D.x0=L-a.rInscribed*a.rpx1,D.x1=L+a.rInscribed*a.rpx1,D.idealAlign=a.pxmid[0]<0?"left":"right"),y&&(D.x=L,D.idealAlign=L<0?"left":"right"),o.loneHover(D,{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:r}),d._hasHoverLabel=!0}if(y){var V=e.select("path.surface");h.styleOne(V,a,u,{hovered:!0})}d._hasHoverEvent=!0,r.emit("plotly_hover",{points:[f(a,u,h.eventDataKeys)],event:n.event})}})),e.on("mouseout",(function(t){var a=r._fullLayout,i=r._fullData[d.index],l=n.select(this).datum();if(d._hasHoverEvent&&(t.originalEvent=n.event,r.emit("plotly_unhover",{points:[f(l,i,h.eventDataKeys)],event:n.event}),d._hasHoverEvent=!1),d._hasHoverLabel&&(o.loneUnhover(a._hoverlayer.node()),d._hasHoverLabel=!1),y){var u=e.select("path.surface");h.styleOne(u,l,i,{hovered:!1})}})),e.on("click",(function(e){var t=r._fullLayout,i=r._fullData[d.index],l=x&&(c.isHierarchyRoot(e)||c.isLeaf(e)),s=c.getPtId(e),p=c.isEntry(e)?c.findEntryWithChild(v,s):c.findEntryWithLevel(v,s),y=c.getPtId(p),g={points:[f(e,i,h.eventDataKeys)],event:n.event};l||(g.nextLevel=y);var m=u.triggerHandler(r,"plotly_"+d.type+"click",g);if(!1!==m&&t.hovermode&&(r._hoverdata=[f(e,i,h.eventDataKeys)],o.click(r,n.event)),!l&&!1!==m&&!r._dragging&&!r._transitioning){a.call("_storeDirectGUIEdit",i,t._tracePreGUI[i.uid],{level:i.level});var b={data:[{level:y}],traces:[d.index]},_={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};o.loneUnhover(t._hoverlayer.node()),a.call("animate",r,b,_)}}))}},56582:(e,t,r)=>{"use strict";var n=r(34141),a=r(57597),i=r(85813),o=r(55687);function l(e){return e.data.data.pid}t.findEntryWithLevel=function(e,r){var n;return r&&e.eachAfter((function(e){if(t.getPtId(e)===r)return n=e.copy()})),n||e},t.findEntryWithChild=function(e,r){var n;return e.eachAfter((function(e){for(var a=e.children||[],i=0;i<a.length;i++){var o=a[i];if(t.getPtId(o)===r)return n=e.copy()}})),n||e},t.isEntry=function(e){return!e.parent},t.isLeaf=function(e){return!e.children},t.getPtId=function(e){return e.data.data.id},t.getPtLabel=function(e){return e.data.data.label},t.getValue=function(e){return e.value},t.isHierarchyRoot=function(e){return""===l(e)},t.setSliceCursor=function(e,r,n){var a=n.isTransitioning;if(!a){var o=e.datum();a=n.hideOnRoot&&t.isHierarchyRoot(o)||n.hideOnLeaves&&t.isLeaf(o)}i(e,a?null:"pointer")},t.getInsideTextFontKey=function(e,t,r,a,i){var o=(i||{}).onPathbar?"pathbar.textfont":"insidetextfont",l=r.data.data.i;return n.castOption(t,l,o+"."+e)||n.castOption(t,l,"textfont."+e)||a.size},t.getOutsideTextFontKey=function(e,t,r,a){var i=r.data.data.i;return n.castOption(t,i,"outsidetextfont."+e)||n.castOption(t,i,"textfont."+e)||a.size},t.isOutsideText=function(e,r){return!e._hasColorscale&&t.isHierarchyRoot(r)},t.determineTextFont=function(e,r,i,o){return t.isOutsideText(e,r)?function(e,r,n){return{color:t.getOutsideTextFontKey("color",e,r,n),family:t.getOutsideTextFontKey("family",e,r,n),size:t.getOutsideTextFontKey("size",e,r,n)}}(e,r,i):function(e,r,i,o){var l=(o||{}).onPathbar,u=r.data.data,c=u.i,s=n.castOption(e,c,(l?"pathbar.textfont":"insidetextfont")+".color");return!s&&e._input.textfont&&(s=n.castOption(e._input,c,"textfont.color")),{color:s||a.contrast(u.color),family:t.getInsideTextFontKey("family",e,r,i,o),size:t.getInsideTextFontKey("size",e,r,i,o)}}(e,r,i,o)},t.hasTransition=function(e){return!!(e&&e.duration>0)},t.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0},t.isHeader=function(e,r){return!(t.isLeaf(e)||e.depth===r._maxDepth-1)},t.getParent=function(e,r){return t.findEntryWithLevel(e,l(r))},t.listPath=function(e,r){var n=e.parent;if(!n)return[];var a=r?[n.data[r]]:[n];return t.listPath(n,r).concat(a)},t.getPath=function(e){return t.listPath(e,"label").join("/")+"/"},t.formatValue=o.formatPieValue,t.formatPercent=function(e,t){var r=n.formatPercent(e,0);return"0%"===r&&(r=o.formatPiePercent(e,t)),r}},50972:(e,t,r)=>{"use strict";var n=r(15078),a=r(7481),i=r(84474),o=r(34141),l=r(8666),u=r(50001),c=u.recordMinTextSize,s=u.clearMinTextSize,f=r(19128),h=f.computeTransform,p=f.transformInsideText,d=r(92413).styleOne,v=r(49888).resizeText,x=r(73422),y=r(42892),g=r(56582);function m(e,r,u,s){var f=e._fullLayout,v=!f.uniformtext.mode&&g.hasTransition(s),m=n.select(u).selectAll("g.slice"),_=r[0],P=_.trace,T=_.hierarchy,w=g.findEntryWithLevel(T,P.level),I=g.getMaxDepth(P),M=f._size,L=P.domain,A=M.w*(L.x[1]-L.x[0]),O=M.h*(L.y[1]-L.y[0]),S=.5*Math.min(A,O),E=_.cx=M.l+M.w*(L.x[1]+L.x[0])/2,C=_.cy=M.t+M.h*(1-L.y[0])-O/2;if(!w)return m.remove();var z=null,k={};v&&m.each((function(e){k[g.getPtId(e)]={rpx0:e.rpx0,rpx1:e.rpx1,x0:e.x0,x1:e.x1,transform:e.transform},!z&&g.isEntry(e)&&(z=e)}));var R=function(e){return a.partition().size([2*Math.PI,e.height+1])(e)}(w).descendants(),D=w.height+1,V=0,B=I;_.hasMultipleRoots&&g.isHierarchyRoot(w)&&(R=R.slice(1),D-=1,V=1,B+=1),R=R.filter((function(e){return e.y1<=B}));var H=Math.min(D,I),K=function(e){return(e-V)/H*S},F=function(e,t){return[e*Math.cos(t),-e*Math.sin(t)]},j=function(e){return o.pathAnnulus(e.rpx0,e.rpx1,e.x0,e.x1,E,C)},N=function(e){return E+b(e)[0]*(e.transform.rCenter||0)+(e.transform.x||0)},q=function(e){return C+b(e)[1]*(e.transform.rCenter||0)+(e.transform.y||0)};(m=m.data(R,g.getPtId)).enter().append("g").classed("slice",!0),v?m.exit().transition().each((function(){var e=n.select(this);e.select("path.surface").transition().attrTween("d",(function(e){var t=function(e){var t,r=g.getPtId(e),a=k[r],i=k[g.getPtId(w)];if(i){var o=e.x1>i.x1?2*Math.PI:0;t=e.rpx1<i.rpx1?{rpx0:0,rpx1:0}:{x0:o,x1:o}}else{var l,u=g.getPtId(e.parent);m.each((function(e){if(g.getPtId(e)===u)return l=e}));var c,s=l.children;s.forEach((function(e,t){if(g.getPtId(e)===r)return c=t}));var f=s.length,h=n.interpolate(l.x0,l.x1);t={rpx0:S,rpx1:S,x0:h(c/f),x1:h((c+1)/f)}}return n.interpolate(a,t)}(e);return function(e){return j(t(e))}})),e.select("g.slicetext").attr("opacity",0)})).remove():m.exit().remove(),m.order();var W=null;if(v&&z){var U=g.getPtId(z);m.each((function(e){null===W&&g.getPtId(e)===U&&(W=e.x1)}))}var G=m;function Y(e){var t=e.parent,r=k[g.getPtId(t)],a={};if(r){var i=t.children,o=i.indexOf(e),l=i.length,u=n.interpolate(r.x0,r.x1);a.x0=u(o/l),a.x1=u(o/l)}else a.x0=a.x1=0;return a}v&&(G=G.transition().each("end",(function(){var t=n.select(this);g.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})}))),G.each((function(a){var u=n.select(this),s=o.ensureSingle(u,"path","surface",(function(e){e.style("pointer-events","all")}));a.rpx0=K(a.y0),a.rpx1=K(a.y1),a.xmid=(a.x0+a.x1)/2,a.pxmid=F(a.rpx1,a.xmid),a.midangle=-(a.xmid-Math.PI/2),a.startangle=-(a.x0-Math.PI/2),a.stopangle=-(a.x1-Math.PI/2),a.halfangle=.5*Math.min(o.angleDelta(a.x0,a.x1)||Math.PI,Math.PI),a.ring=1-a.rpx0/a.rpx1,a.rInscribed=function(e){return 0===e.rpx0&&o.isFullCircle([e.x0,e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2))}(a),v?s.transition().attrTween("d",(function(e){var t=function(e){var t,r=k[g.getPtId(e)],a={x0:e.x0,x1:e.x1,rpx0:e.rpx0,rpx1:e.rpx1};if(r)t=r;else if(z)if(e.parent)if(W){var i=e.x1>W?2*Math.PI:0;t={x0:i,x1:i}}else t={rpx0:S,rpx1:S},o.extendFlat(t,Y(e));else t={rpx0:0,rpx1:0};else t={x0:0,x1:0};return n.interpolate(t,a)}(e);return function(e){return j(t(e))}})):s.attr("d",j),u.call(x,w,e,r,{eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:e._transitioning}),s.call(d,a,P);var m=o.ensureSingle(u,"g","slicetext"),b=o.ensureSingle(m,"text","",(function(e){e.attr("data-notex",1)})),T=o.ensureUniformFontSize(e,g.determineTextFont(P,a,f.font));b.text(t.formatSliceLabel(a,w,P,r,f)).classed("slicetext",!0).attr("text-anchor","middle").call(i.font,T).call(l.convertToTspans,e);var I=i.bBox(b.node());a.transform=p(I,a,_),a.transform.targetX=N(a),a.transform.targetY=q(a);var M=function(e,t){var r=e.transform;return h(r,t),r.fontSize=T.size,c(P.type,r,f),o.getTextTransform(r)};v?b.transition().attrTween("transform",(function(e){var t=function(e){var t,r=k[g.getPtId(e)],a=e.transform;if(r)t=r;else if(t={rpx1:e.rpx1,transform:{textPosAngle:a.textPosAngle,scale:0,rotate:a.rotate,rCenter:a.rCenter,x:a.x,y:a.y}},z)if(e.parent)if(W){var i=e.x1>W?2*Math.PI:0;t.x0=t.x1=i}else o.extendFlat(t,Y(e));else t.x0=t.x1=0;else t.x0=t.x1=0;var l=n.interpolate(t.transform.textPosAngle,e.transform.textPosAngle),u=n.interpolate(t.rpx1,e.rpx1),s=n.interpolate(t.x0,e.x0),h=n.interpolate(t.x1,e.x1),p=n.interpolate(t.transform.scale,a.scale),d=n.interpolate(t.transform.rotate,a.rotate),v=0===a.rCenter?3:0===t.transform.rCenter?1/3:1,x=n.interpolate(t.transform.rCenter,a.rCenter);return function(e){var t=u(e),r=s(e),n=h(e),i=function(e){return x(Math.pow(e,v))}(e),o={pxmid:F(t,(r+n)/2),rpx1:t,transform:{textPosAngle:l(e),rCenter:i,x:a.x,y:a.y}};return c(P.type,a,f),{transform:{targetX:N(o),targetY:q(o),scale:p(e),rotate:d(e),rCenter:i}}}}(e);return function(e){return M(t(e),I)}})):b.attr("transform",M(a,I))}))}function b(e){return t=e.rpx1,r=e.transform.textPosAngle,[t*Math.sin(r),-t*Math.cos(r)];var t,r}t.plot=function(e,t,r,a){var i,o,l=e._fullLayout,u=l._sunburstlayer,c=!r,f=!l.uniformtext.mode&&g.hasTransition(r);s("sunburst",l),(i=u.selectAll("g.trace.sunburst").data(t,(function(e){return e[0].trace.uid}))).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),i.order(),f?(a&&(o=a()),n.transition().duration(r.duration).ease(r.easing).each("end",(function(){o&&o()})).each("interrupt",(function(){o&&o()})).each((function(){u.selectAll("g.trace").each((function(t){m(e,t,this,r)}))}))):(i.each((function(t){m(e,t,this,r)})),l.uniformtext.mode&&v(e,l._sunburstlayer.selectAll(".trace"),"sunburst")),c&&i.exit().remove()},t.formatSliceLabel=function(e,t,r,n,a){var i=r.texttemplate,l=r.textinfo;if(!(i||l&&"none"!==l))return"";var u=a.separators,c=n[0],s=e.data.data,f=c.hierarchy,h=g.isHierarchyRoot(e),p=g.getParent(f,e),d=g.getValue(e);if(!i){var v,x=l.split("+"),y=function(e){return-1!==x.indexOf(e)},m=[];if(y("label")&&s.label&&m.push(s.label),s.hasOwnProperty("v")&&y("value")&&m.push(g.formatValue(s.v,u)),!h){y("current path")&&m.push(g.getPath(e.data));var b=0;y("percent parent")&&b++,y("percent entry")&&b++,y("percent root")&&b++;var _=b>1;if(b){var P,T=function(e){v=g.formatPercent(P,u),_&&(v+=" of "+e),m.push(v)};y("percent parent")&&!h&&(P=d/g.getValue(p),T("parent")),y("percent entry")&&(P=d/g.getValue(t),T("entry")),y("percent root")&&(P=d/g.getValue(f),T("root"))}}return y("text")&&(v=o.castOption(r,s.i,"text"),o.isValidTextValue(v)&&m.push(v)),m.join("<br>")}var w=o.castOption(r,s.i,"texttemplate");if(!w)return"";var I={};s.label&&(I.label=s.label),s.hasOwnProperty("v")&&(I.value=s.v,I.valueLabel=g.formatValue(s.v,u)),I.currentPath=g.getPath(e.data),h||(I.percentParent=d/g.getValue(p),I.percentParentLabel=g.formatPercent(I.percentParent,u),I.parent=g.getPtLabel(p)),I.percentEntry=d/g.getValue(t),I.percentEntryLabel=g.formatPercent(I.percentEntry,u),I.entry=g.getPtLabel(t),I.percentRoot=d/g.getValue(f),I.percentRootLabel=g.formatPercent(I.percentRoot,u),I.root=g.getPtLabel(f),s.hasOwnProperty("color")&&(I.color=s.color);var M=o.castOption(r,s.i,"text");return(o.isValidTextValue(M)||""===M)&&(I.text=M),I.customdata=o.castOption(r,s.i,"customdata"),o.texttemplateString(w,I,a._d3locale,I,r._meta||{})}},92413:(e,t,r)=>{"use strict";var n=r(15078),a=r(57597),i=r(34141),o=r(50001).resizeText;function l(e,t,r){var n=t.data.data,o=!t.children,l=n.i,u=i.castOption(r,l,"marker.line.color")||a.defaultLine,c=i.castOption(r,l,"marker.line.width")||0;e.style("stroke-width",c).call(a.fill,n.color).call(a.stroke,u).style("opacity",o?r.leaf.opacity:null)}e.exports={style:function(e){var t=e._fullLayout._sunburstlayer.selectAll(".trace");o(e,t,"sunburst"),t.each((function(e){var t=n.select(this),r=e[0].trace;t.style("opacity",r.opacity),t.selectAll("path.surface").each((function(e){n.select(this).call(l,e,r)}))}))},styleOne:l}}}]);
(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[6713],{2302:t=>{"use strict";t.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},73943:t=>{"use strict";t.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},34026:t=>{"use strict";t.exports=JSON.parse('["normal","italic","oblique"]')},91183:t=>{"use strict";t.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},37818:(t,e,r)=>{"use strict";t.exports={parse:r(94266),stringify:r(76459)}},2490:(t,e,r)=>{"use strict";var i=r(2302);t.exports={isSize:function(t){return/^[\d\.]/.test(t)||-1!==t.indexOf("/")||-1!==i.indexOf(t)}}},94266:(t,e,r)=>{"use strict";var i=r(2793),n=r(3674),a=r(24734),o=r(91183),s=r(34026),l=r(73943),c=r(86867),f=r(2490).isSize;t.exports=p;var h=p.cache={};function p(t){if("string"!=typeof t)throw new Error("Font argument must be a string.");if(h[t])return h[t];if(""===t)throw new Error("Cannot parse an empty string.");if(-1!==a.indexOf(t))return h[t]={system:t};for(var e,r={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=c(t,/\s+/);e=p.shift();){if(-1!==n.indexOf(e))return["style","variant","weight","stretch"].forEach((function(t){r[t]=e})),h[t]=r;if(-1===s.indexOf(e))if("normal"!==e&&"small-caps"!==e)if(-1===l.indexOf(e)){if(-1===o.indexOf(e)){if(f(e)){var d=c(e,"/");if(r.size=d[0],null!=d[1]?r.lineHeight=u(d[1]):"/"===p[0]&&(p.shift(),r.lineHeight=u(p.shift())),!p.length)throw new Error("Missing required font-family.");return r.family=c(p.join(" "),/\s*,\s*/).map(i),h[t]=r}throw new Error("Unknown or unsupported font token: "+e)}r.weight=e}else r.stretch=e;else r.variant=e;else r.style=e}throw new Error("Missing required font-size.")}function u(t){var e=parseFloat(t);return e.toString()===t?e:t}},76459:(t,e,r)=>{"use strict";var i=r(89715),n=r(2490).isSize,a=d(r(3674)),o=d(r(24734)),s=d(r(91183)),l=d(r(34026)),c=d(r(73943)),f={normal:1,"small-caps":1},h={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},p="serif";function u(t,e){if(t&&!e[t]&&!a[t])throw Error("Unknown keyword `"+t+"`");return t}function d(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1;return e}t.exports=function(t){if((t=i(t,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return t.system&&u(t.system,o),t.system;if(u(t.style,l),u(t.variant,f),u(t.weight,s),u(t.stretch,c),null==t.size&&(t.size="1rem"),"number"==typeof t.size&&(t.size+="px"),!n)throw Error("Bad size value `"+t.size+"`");t.family||(t.family=p),Array.isArray(t.family)&&(t.family.length||(t.family=[p]),t.family=t.family.map((function(t){return h[t]?t:'"'+t+'"'})).join(", "));var e=[];return e.push(t.style),t.variant!==t.style&&e.push(t.variant),t.weight!==t.variant&&t.weight!==t.style&&e.push(t.weight),t.stretch!==t.weight&&t.stretch!==t.variant&&t.stretch!==t.style&&e.push(t.stretch),e.push(t.size+(null==t.lineHeight||"normal"===t.lineHeight||t.lineHeight+""=="1"?"":"/"+t.lineHeight)),e.push(t.family),e.filter(Boolean).join(" ")}},3674:t=>{"use strict";t.exports=JSON.parse('["inherit","initial","unset"]')},24734:t=>{"use strict";t.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')},45906:t=>{"use strict";t.exports=i;var e=(i.canvas=document.createElement("canvas")).getContext("2d"),r=n([32,126]);function i(t,i){Array.isArray(t)&&(t=t.join(", "));var a,o={},s=16,l=.05;i&&(2===i.length&&"number"==typeof i[0]?a=n(i):Array.isArray(i)?a=i:(i.o?a=n(i.o):i.pairs&&(a=i.pairs),i.fontSize&&(s=i.fontSize),null!=i.threshold&&(l=i.threshold))),a||(a=r),e.font=s+"px "+t;for(var c=0;c<a.length;c++){var f=a[c],h=e.measureText(f[0]).width+e.measureText(f[1]).width,p=e.measureText(f).width;if(Math.abs(h-p)>s*l){var u=(p-h)/s;o[f]=1e3*u}}return o}function n(t){for(var e=[],r=t[0];r<=t[1];r++)for(var i=String.fromCharCode(r),n=t[0];n<t[1];n++){var a=i+String.fromCharCode(n);e.push(a)}return e}i.createPairs=n,i.ascii=r},3640:(t,e,r)=>{"use strict";var i=r(76459),n=[32,126];t.exports=function(t){var e=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],r=t.canvas||document.createElement("canvas"),a=t.font,o="number"==typeof t.step?[t.step,t.step]:t.step||[32,32],s=t.chars||n;if(a&&"string"!=typeof a&&(a=i(a)),Array.isArray(s)){if(2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]){for(var l=[],c=s[0],f=0;c<=s[1];c++)l[f++]=String.fromCharCode(c);s=l}}else s=String(s).split("");e=e.slice(),r.width=e[0],r.height=e[1];var h=r.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,r.width,r.height),h.font=a,h.textAlign="center",h.textBaseline="middle",h.fillStyle="#fff";var p=o[0]/2,u=o[1]/2;for(c=0;c<s.length;c++)h.fillText(s[c],p,u),(p+=o[0])>e[0]-o[0]/2&&(p=o[0]/2,u+=o[1]);return r}},96472:t=>{"use strict";function e(t,a){a||(a={}),("string"==typeof t||Array.isArray(t))&&(a.family=t);var o=Array.isArray(a.family)?a.family.join(", "):a.family;if(!o)throw Error("`family` must be defined");var s=a.size||a.fontSize||a.em||48,l=a.weight||a.fontWeight||"",c=(t=[a.style||a.fontStyle||"",l,s].join(" ")+"px "+o,a.origin||"top");if(e.cache[o]&&s<=e.cache[o].em)return r(e.cache[o],c);var f=a.canvas||e.canvas,h=f.getContext("2d"),p={upper:void 0!==a.upper?a.upper:"H",lower:void 0!==a.lower?a.lower:"x",descent:void 0!==a.descent?a.descent:"p",ascent:void 0!==a.ascent?a.ascent:"h",tittle:void 0!==a.tittle?a.tittle:"i",overshoot:void 0!==a.overshoot?a.overshoot:"O"},u=Math.ceil(1.5*s);f.height=u,f.width=.5*u,h.font=t;var d="H",g={top:0};h.clearRect(0,0,u,u),h.textBaseline="top",h.fillStyle="black",h.fillText(d,0,0);var y=i(h.getImageData(0,0,u,u));h.clearRect(0,0,u,u),h.textBaseline="bottom",h.fillText(d,0,u);var v=i(h.getImageData(0,0,u,u));g.lineHeight=g.bottom=u-v+y,h.clearRect(0,0,u,u),h.textBaseline="alphabetic",h.fillText(d,0,u);var x=u-i(h.getImageData(0,0,u,u))-1+y;g.baseline=g.alphabetic=x,h.clearRect(0,0,u,u),h.textBaseline="middle",h.fillText(d,0,.5*u);var m=i(h.getImageData(0,0,u,u));g.median=g.middle=u-m-1+y-.5*u,h.clearRect(0,0,u,u),h.textBaseline="hanging",h.fillText(d,0,.5*u);var w=i(h.getImageData(0,0,u,u));g.hanging=u-w-1+y-.5*u,h.clearRect(0,0,u,u),h.textBaseline="ideographic",h.fillText(d,0,u);var b=i(h.getImageData(0,0,u,u));if(g.ideographic=u-b-1+y,p.upper&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.upper,0,0),g.upper=i(h.getImageData(0,0,u,u)),g.capHeight=g.baseline-g.upper),p.lower&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.lower,0,0),g.lower=i(h.getImageData(0,0,u,u)),g.xHeight=g.baseline-g.lower),p.tittle&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.tittle,0,0),g.tittle=i(h.getImageData(0,0,u,u))),p.ascent&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.ascent,0,0),g.ascent=i(h.getImageData(0,0,u,u))),p.descent&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.descent,0,0),g.descent=n(h.getImageData(0,0,u,u))),p.overshoot){h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(p.overshoot,0,0);var O=n(h.getImageData(0,0,u,u));g.overshoot=O-x}for(var A in g)g[A]/=s;return g.em=s,e.cache[o]=g,r(g,c)}function r(t,e){var r={};for(var i in"string"==typeof e&&(e=t[e]),t)"em"!==i&&(r[i]=t[i]-e);return r}function i(t){for(var e=t.height,r=t.data,i=3;i<r.length;i+=4)if(0!==r[i])return Math.floor(.25*(i-3)/e)}function n(t){for(var e=t.height,r=t.data,i=r.length-1;i>0;i-=4)if(0!==r[i])return Math.floor(.25*(i-3)/e)}t.exports=e,e.canvas=document.createElement("canvas"),e.cache={}},83595:(t,e,r)=>{"use strict";var i=r(37818),n=r(89715),a=r(81550),o=r(3138),s=r(77845),l=r(70339),c=r(3640),f=r(90316),h=r(46882),p=r(33310),u=r(41885),d=r(60066),g=r(45906),y=r(27418),v=r(96472),x=r(38582),m=r(746).nextPow2,w=new s,b=!1;if(document.body){var O=document.body.appendChild(document.createElement("div"));O.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(O).fontStretch&&(b=!0),document.body.removeChild(O)}var A=function(t){!function(t){return"function"==typeof t&&t._gl&&t.prop&&t.texture&&t.buffer}(t)?this.gl=o(t):(t={regl:t},this.gl=t.regl._gl),this.shader=w.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=t.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),w.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(p(t)?t:{})};A.prototype.createShader=function(){var t=this.regl,e=t({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:t.prop("count"),offset:t.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:t.this("sizeBuffer")},width:{offset:0,stride:8,buffer:t.this("sizeBuffer")},char:t.this("charBuffer"),position:t.this("position")},uniforms:{atlasSize:function(t,e){return[e.atlas.width,e.atlas.height]},atlasDim:function(t,e){return[e.atlas.cols,e.atlas.rows]},atlas:function(t,e){return e.atlas.texture},charStep:function(t,e){return e.atlas.step},em:function(t,e){return e.atlas.em},color:t.prop("color"),opacity:t.prop("opacity"),viewport:t.this("viewportArray"),scale:t.this("scale"),align:t.prop("align"),baseline:t.prop("baseline"),translate:t.this("translate"),positionOffset:t.prop("positionOffset")},primitive:"points",viewport:t.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\t"+(A.normalViewport?"":"vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);")+"\n\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ positionOffset))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\t"+(A.normalViewport?"position.y = 1. - position.y;":"")+"\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform sampler2D atlas;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:t,draw:e,atlas:{}}},A.prototype.update=function(t){var e=this;if("string"==typeof t)t={text:t};else if(!t)return;null!=(t=n(t,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(t.opacity)?this.opacity=t.opacity.map((function(t){return parseFloat(t)})):this.opacity=parseFloat(t.opacity)),null!=t.viewport&&(this.viewport=h(t.viewport),A.normalViewport&&(this.viewport.y=this.canvas.height-this.viewport.y-this.viewport.height),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=t.kerning&&(this.kerning=t.kerning),null!=t.offset&&("number"==typeof t.offset&&(t.offset=[t.offset,0]),this.positionOffset=x(t.offset)),t.direction&&(this.direction=t.direction),t.range&&(this.range=t.range,this.scale=[1/(t.range[2]-t.range[0]),1/(t.range[3]-t.range[1])],this.translate=[-t.range[0],-t.range[1]]),t.scale&&(this.scale=t.scale),t.translate&&(this.translate=t.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||t.font||(t.font=A.baseFontSize+"px sans-serif");var r,a=!1,o=!1;if(t.font&&(Array.isArray(t.font)?t.font:[t.font]).forEach((function(t,r){if("string"==typeof t)try{t=i.parse(t)}catch(e){t=i.parse(A.baseFontSize+"px "+t)}else t=i.parse(i.stringify(t));var n=i.stringify({size:A.baseFontSize,family:t.family,stretch:b?t.stretch:void 0,variant:t.variant,weight:t.weight,style:t.style}),s=u(t.size),l=Math.round(s[0]*d(s[1]));if(l!==e.fontSize[r]&&(o=!0,e.fontSize[r]=l),!(e.font[r]&&n==e.font[r].baseString||(a=!0,e.font[r]=A.fonts[n],e.font[r]))){var c=t.family.join(", "),f=[t.style];t.style!=t.variant&&f.push(t.variant),t.variant!=t.weight&&f.push(t.weight),b&&t.weight!=t.stretch&&f.push(t.stretch),e.font[r]={baseString:n,family:c,weight:t.weight,stretch:t.stretch,style:t.style,variant:t.variant,width:{},kerning:{},metrics:v(c,{origin:"top",fontSize:A.baseFontSize,fontStyle:f.join(" ")})},A.fonts[n]=e.font[r]}})),(a||o)&&this.font.forEach((function(r,n){var a=i.stringify({size:e.fontSize[n],family:r.family,stretch:b?r.stretch:void 0,variant:r.variant,weight:r.weight,style:r.style});if(e.fontAtlas[n]=e.shader.atlas[a],!e.fontAtlas[n]){var o=r.metrics;e.shader.atlas[a]=e.fontAtlas[n]={fontString:a,step:2*Math.ceil(e.fontSize[n]*o.bottom*.5),em:e.fontSize[n],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:e.regl.texture()}}null==t.text&&(t.text=e.text)})),"string"==typeof t.text&&t.position&&t.position.length>2){for(var s=Array(.5*t.position.length),p=0;p<s.length;p++)s[p]=t.text;t.text=s}if(null!=t.text||a){if(this.textOffsets=[0],Array.isArray(t.text)){this.count=t.text[0].length,this.counts=[this.count];for(var w=1;w<t.text.length;w++)this.textOffsets[w]=this.textOffsets[w-1]+t.text[w-1].length,this.count+=t.text[w].length,this.counts.push(t.text[w].length);this.text=t.text.join("")}else this.text=t.text,this.count=this.text.length,this.counts=[this.count];r=[],this.font.forEach((function(t,i){A.atlasContext.font=t.baseString;for(var n=e.fontAtlas[i],a=0;a<e.text.length;a++){var o=e.text.charAt(a);if(null==n.ids[o]&&(n.ids[o]=n.chars.length,n.chars.push(o),r.push(o)),null==t.width[o]&&(t.width[o]=A.atlasContext.measureText(o).width/A.baseFontSize,e.kerning)){var s=[];for(var l in t.width)s.push(l+o,o+l);y(t.kerning,g(t.family,{pairs:s}))}}}))}if(t.position)if(t.position.length>2){for(var O=!t.position[0].length,S=f.mallocFloat(2*this.count),z=0,C=0;z<this.counts.length;z++){var E=this.counts[z];if(O)for(var B=0;B<E;B++)S[C++]=t.position[2*z],S[C++]=t.position[2*z+1];else for(var _=0;_<E;_++)S[C++]=t.position[z][0],S[C++]=t.position[z][1]}this.position.call?this.position({type:"float",data:S}):this.position=this.regl.buffer({type:"float",data:S}),f.freeFloat(S)}else this.position.destroy&&this.position.destroy(),this.position={constant:t.position};if(t.text||a){var k=f.mallocUint8(this.count),F=f.mallocFloat(2*this.count);this.textWidth=[];for(var N=0,T=0;N<this.counts.length;N++){for(var R=this.counts[N],W=this.font[N]||this.font[0],D=this.fontAtlas[N]||this.fontAtlas[0],U=0;U<R;U++){var I=this.text.charAt(T),H=this.text.charAt(T-1);if(k[T]=D.ids[I],F[2*T]=W.width[I],U){var M=F[2*T-2],j=F[2*T],P=F[2*T-1]+.5*M+.5*j;if(this.kerning){var q=W.kerning[H+I];q&&(P+=.001*q)}F[2*T+1]=P}else F[2*T+1]=.5*F[2*T];T++}this.textWidth.push(F.length?.5*F[2*T-2]+F[2*T-1]:0)}t.align||(t.align=this.align),this.charBuffer({data:k,type:"uint8",usage:"stream"}),this.sizeBuffer({data:F,type:"float",usage:"stream"}),f.freeUint8(k),f.freeFloat(F),r.length&&this.font.forEach((function(t,r){var i=e.fontAtlas[r],n=i.step,a=Math.floor(A.maxAtlasSize/n),o=Math.min(a,i.chars.length),s=Math.ceil(i.chars.length/o),l=m(o*n),f=m(s*n);i.width=l,i.height=f,i.rows=s,i.cols=o,i.em&&i.texture({data:c({canvas:A.atlasCanvas,font:i.fontString,chars:i.chars,shape:[l,f],step:[n,n]})})}))}if(t.align&&(this.align=t.align,this.alignOffset=this.textWidth.map((function(t,r){var i=Array.isArray(e.align)?e.align.length>1?e.align[r]:e.align[0]:e.align;if("number"==typeof i)return i;switch(i){case"right":case"end":return-t;case"center":case"centre":case"middle":return.5*-t}return 0}))),null==this.baseline&&null==t.baseline&&(t.baseline=0),null!=t.baseline&&(this.baseline=t.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map((function(t,r){var i=(e.font[r]||e.font[0]).metrics,n=0;return n+=.5*i.bottom,n+="number"==typeof t?t-i.baseline:-i[t],A.normalViewport||(n*=-1),n}))),null!=t.color)if(t.color||(t.color="transparent"),"string"!=typeof t.color&&isNaN(t.color)){var G;if("number"==typeof t.color[0]&&t.color.length>this.counts.length){var Y=t.color.length;G=f.mallocUint8(Y);for(var J=(t.color.subarray||t.color.slice).bind(t.color),V=0;V<Y;V+=4)G.set(l(J(V,V+4),"uint8"),V)}else{var L=t.color.length;G=f.mallocUint8(4*L);for(var X=0;X<L;X++)G.set(l(t.color[X]||0,"uint8"),4*X)}this.color=G}else this.color=l(t.color,"uint8");if(t.position||t.text||t.color||t.baseline||t.align||t.font||t.offset||t.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var $=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array($);for(var K=0;K<this.batch.length;K++)this.batch[K]={count:this.counts.length>1?this.counts[K]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[K]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*K,4*K+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[K]:this.opacity,baseline:null!=this.baselineOffset[K]?this.baselineOffset[K]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[K]?this.alignOffset[K]:this.alignOffset[0]:0,atlas:this.fontAtlas[K]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*K,2*K+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.normalViewport=!1,A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={},t.exports=A},3138:(t,e,r)=>{"use strict";var i=r(89715);function n(t){if(t.container)if(t.container==document.body)document.body.style.width||(t.canvas.width=t.width||t.pixelRatio*r.g.innerWidth),document.body.style.height||(t.canvas.height=t.height||t.pixelRatio*r.g.innerHeight);else{var e=t.container.getBoundingClientRect();t.canvas.width=t.width||e.right-e.left,t.canvas.height=t.height||e.bottom-e.top}}function a(t){return"function"==typeof t.getContext&&"width"in t&&"height"in t}function o(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=0,t.style.left=0,t}t.exports=function(t){var e;if(t?"string"==typeof t&&(t={container:t}):t={},(t=a(t)||"string"==typeof(e=t).nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect?{container:t}:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(t)?{gl:t}:i(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(t.pixelRatio=r.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if("string"==typeof t.container){var s=document.querySelector(t.container);if(!s)throw Error("Element "+t.container+" is not found");t.container=s}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=o(),t.container.appendChild(t.canvas),n(t))}else if(!t.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");t.container=document.body||document.documentElement,t.canvas=o(),t.container.appendChild(t.canvas),n(t)}return t.gl||["webgl","experimental-webgl","webgl-experimental"].some((function(e){try{t.gl=t.canvas.getContext(e,t.attrs)}catch(t){}return t.gl})),t.gl}},1161:t=>{"use strict";function e(t,e){if("string"!=typeof t)return[t];var r=[t];"string"==typeof e||Array.isArray(e)?e={brackets:e}:e||(e={});var i=e.brackets?Array.isArray(e.brackets)?e.brackets:[e.brackets]:["{}","[]","()"],n=e.escape||"___",a=!!e.flat;i.forEach((function(t){var e=new RegExp(["\\",t[0],"[^\\",t[0],"\\",t[1],"]*\\",t[1]].join("")),i=[];function a(e,a,o){var s=r.push(e.slice(t[0].length,-t[1].length))-1;return i.push(s),n+s+n}r.forEach((function(t,i){for(var n,o=0;t!=n;)if(n=t,t=t.replace(e,a),o++>1e4)throw Error("References have circular dependency. Please, check them.");r[i]=t})),i=i.reverse(),r=r.map((function(e){return i.forEach((function(r){e=e.replace(new RegExp("(\\"+n+r+"\\"+n+")","g"),t[0]+"$1"+t[1])})),e}))}));var o=new RegExp("\\"+n+"([0-9]+)\\"+n);return a?r:function t(e,r,i){for(var n,a=[],s=0;n=o.exec(e);){if(s++>1e4)throw Error("Circular references in parenthesis");a.push(e.slice(0,n.index)),a.push(t(r[n[1]],r)),e=e.slice(n.index+n[0].length)}return a.push(e),a}(r[0],r)}function r(t,e){if(e&&e.flat){var r,i=e&&e.escape||"___",n=t[0];if(!n)return"";for(var a=new RegExp("\\"+i+"([0-9]+)\\"+i),o=0;n!=r;){if(o++>1e4)throw Error("Circular references in "+t);r=n,n=n.replace(a,s)}return n}return t.reduce((function t(e,r){return Array.isArray(r)&&(r=r.reduce(t,"")),e+r}),"");function s(e,r){if(null==t[r])throw Error("Reference "+r+"is undefined");return t[r]}}function i(t,i){return Array.isArray(t)?r(t,i):e(t,i)}i.parse=e,i.stringify=r,t.exports=i},27083:(t,e,r)=>{"use strict";var i=r(34141),n=r(57597),a=r(44822).DESELECTDIM;t.exports={styleTextSelection:function(t){var e,r,o=t[0],s=o.trace,l=o.t,c=l._scene,f=l.index,h=c.selectBatch[f],p=c.unselectBatch[f],u=c.textOptions[f],d=c.textSelectedOptions[f]||{},g=c.textUnselectedOptions[f]||{},y=i.extendFlat({},u);if(h.length||p.length){var v=d.color,x=g.color,m=u.color,w=Array.isArray(m);for(y.color=new Array(s._length),e=0;e<h.length;e++)r=h[e],y.color[r]=v||(w?m[r]:m);for(e=0;e<p.length;e++){r=p[e];var b=w?m[r]:m;y.color[r]=x||(v?b:n.addOpacity(b,a))}}c.glText[f].update(y)}}},69843:(t,e,r)=>{"use strict";var i=r(89882),n=r(47758),a=r(31111),o=r(83595),s=r(34141),l=r(6363).selectMode,c=r(22706),f=r(32758),h=r(54168),p=r(27083).styleTextSelection;function u(t,e,r){var i=t._size,n=t.width,a=t.height;return[i.l+e.domain[0]*i.w,i.b+r.domain[0]*i.h,n-i.r-(1-e.domain[1])*i.w,a-i.t-(1-r.domain[1])*i.h]}t.exports=function(t,e,r){if(r.length){var d,g,y=t._fullLayout,v=e._scene,x=e.xaxis,m=e.yaxis;if(v)if(c(t,["ANGLE_instanced_arrays","OES_element_index_uint"])){var w=v.count,b=y._glcanvas.data()[0].regl;if(h(t,e,r),v.dirty){if(!0===v.error2d&&(v.error2d=a(b)),!0===v.line2d&&(v.line2d=n(b)),!0===v.scatter2d&&(v.scatter2d=i(b)),!0===v.fill2d&&(v.fill2d=n(b)),!0===v.glText)for(v.glText=new Array(w),d=0;d<w;d++)v.glText[d]=new o(b);if(v.glText){if(w>v.glText.length){var O=w-v.glText.length;for(d=0;d<O;d++)v.glText.push(new o(b))}else if(w<v.glText.length){var A=v.glText.length-w;v.glText.splice(w,A).forEach((function(t){t.destroy()}))}for(d=0;d<w;d++)v.glText[d].update(v.textOptions[d])}if(v.line2d&&(v.line2d.update(v.lineOptions),v.lineOptions=v.lineOptions.map((function(t){if(t&&t.positions){for(var e=t.positions,r=0;r<e.length&&(isNaN(e[r])||isNaN(e[r+1]));)r+=2;for(var i=e.length-2;i>r&&(isNaN(e[i])||isNaN(e[i+1]));)i-=2;t.positions=e.slice(r,i+2)}return t})),v.line2d.update(v.lineOptions)),v.error2d){var S=(v.errorXOptions||[]).concat(v.errorYOptions||[]);v.error2d.update(S)}v.scatter2d&&v.scatter2d.update(v.markerOptions),v.fillOrder=s.repeat(null,w),v.fill2d&&(v.fillOptions=v.fillOptions.map((function(t,e){var i=r[e];if(t&&i&&i[0]&&i[0].trace){var n,a,o=i[0],s=o.trace,l=o.t,c=v.lineOptions[e],f=[];s._ownfill&&f.push(e),s._nexttrace&&f.push(e+1),f.length&&(v.fillOrder[e]=f);var h,p,u=[],d=c&&c.positions||l.positions;if("tozeroy"===s.fill){for(h=0;h<d.length&&isNaN(d[h+1]);)h+=2;for(p=d.length-2;p>h&&isNaN(d[p+1]);)p-=2;0!==d[h+1]&&(u=[d[h],0]),u=u.concat(d.slice(h,p+2)),0!==d[p+1]&&(u=u.concat([d[p],0]))}else if("tozerox"===s.fill){for(h=0;h<d.length&&isNaN(d[h]);)h+=2;for(p=d.length-2;p>h&&isNaN(d[p]);)p-=2;0!==d[h]&&(u=[0,d[h+1]]),u=u.concat(d.slice(h,p+2)),0!==d[p]&&(u=u.concat([0,d[p+1]]))}else if("toself"===s.fill||"tonext"===s.fill){for(u=[],n=0,a=0;a<d.length;a+=2)(isNaN(d[a])||isNaN(d[a+1]))&&((u=u.concat(d.slice(n,a))).push(d[n],d[n+1]),n=a+2);u=u.concat(d.slice(n)),n&&u.push(d[n],d[n+1])}else{var g=s._nexttrace;if(g){var y=v.lineOptions[e+1];if(y){var x=y.positions;if("tonexty"===s.fill){for(u=d.slice(),e=Math.floor(x.length/2);e--;){var m=x[2*e],w=x[2*e+1];isNaN(m)||isNaN(w)||u.push(m,w)}t.fill=g.fillcolor}}}}if(s._prevtrace&&"tonext"===s._prevtrace.fill){var b=v.lineOptions[e-1].positions,O=u.length/2,A=[n=O];for(a=0;a<b.length;a+=2)(isNaN(b[a])||isNaN(b[a+1]))&&(A.push(a/2+O+1),n=a+2);u=u.concat(b),t.hole=A}return t.fillmode=s.fill,t.opacity=s.opacity,t.positions=u,t}})),v.fill2d.update(v.fillOptions))}var z=y.dragmode,C=l(z),E=y.clickmode.indexOf("select")>-1;for(d=0;d<w;d++){var B=r[d][0],_=B.trace,k=B.t,F=k.index,N=_._length,T=k.x,R=k.y;if(_.selectedpoints||C||E){if(C||(C=!0),_.selectedpoints){var W=v.selectBatch[F]=s.selIndices2selPoints(_),D={};for(g=0;g<W.length;g++)D[W[g]]=1;var U=[];for(g=0;g<N;g++)D[g]||U.push(g);v.unselectBatch[F]=U}var I=k.xpx=new Array(N),H=k.ypx=new Array(N);for(g=0;g<N;g++)I[g]=x.c2p(T[g]),H[g]=m.c2p(R[g])}else k.xpx=k.ypx=null}if(C){if(v.select2d||(v.select2d=i(y._glcanvas.data()[1].regl)),v.scatter2d){var M=new Array(w);for(d=0;d<w;d++)M[d]=v.selectBatch[d].length||v.unselectBatch[d].length?v.markerUnselectedOptions[d]:{};v.scatter2d.update(M)}v.select2d&&(v.select2d.update(v.markerOptions),v.select2d.update(v.markerSelectedOptions)),v.glText&&r.forEach((function(t){var e=((t||[])[0]||{}).trace||{};f.hasText(e)&&p(t)}))}else v.scatter2d&&v.scatter2d.update(v.markerOptions);var j={viewport:u(y,x,m),range:[(x._rl||x.range)[0],(m._rl||m.range)[0],(x._rl||x.range)[1],(m._rl||m.range)[1]]},P=s.repeat(j,v.count);v.fill2d&&v.fill2d.update(P),v.line2d&&v.line2d.update(P),v.error2d&&v.error2d.update(P.concat(P)),v.scatter2d&&v.scatter2d.update(P),v.select2d&&v.select2d.update(P),v.glText&&v.glText.forEach((function(t){t.update(j)}))}else v.init()}}},66569:(t,e,r)=>{"use strict";var i=r(34141);t.exports=function(t,e){var r=e._scene,n={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},a={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return e._scene||((r=e._scene={}).init=function(){i.extendFlat(r,a,n)},r.init(),r.update=function(t){var e=i.repeat(t,r.count);if(r.fill2d&&r.fill2d.update(e),r.scatter2d&&r.scatter2d.update(e),r.line2d&&r.line2d.update(e),r.error2d&&r.error2d.update(e.concat(e)),r.select2d&&r.select2d.update(e),r.glText)for(var n=0;n<r.count;n++)r.glText[n].update(t)},r.draw=function(){for(var t=r.count,e=r.fill2d,n=r.error2d,a=r.line2d,o=r.scatter2d,s=r.glText,l=r.select2d,c=r.selectBatch,f=r.unselectBatch,h=0;h<t;h++){if(e&&r.fillOrder[h]&&e.draw(r.fillOrder[h]),a&&r.lineOptions[h]&&a.draw(h),n&&(r.errorXOptions[h]&&n.draw(h),r.errorYOptions[h]&&n.draw(h+t)),o&&r.markerOptions[h])if(f[h].length){var p=i.repeat([],r.count);p[h]=f[h],o.draw(p)}else c[h].length||o.draw(h);s[h]&&r.textOptions[h]&&s[h].render()}l&&l.draw(c),r.dirty=!1},r.destroy=function(){r.fill2d&&r.fill2d.destroy&&r.fill2d.destroy(),r.scatter2d&&r.scatter2d.destroy&&r.scatter2d.destroy(),r.error2d&&r.error2d.destroy&&r.error2d.destroy(),r.line2d&&r.line2d.destroy&&r.line2d.destroy(),r.select2d&&r.select2d.destroy&&r.select2d.destroy(),r.glText&&r.glText.forEach((function(t){t.destroy&&t.destroy()})),r.lineOptions=null,r.fillOptions=null,r.markerOptions=null,r.markerSelectedOptions=null,r.markerUnselectedOptions=null,r.errorXOptions=null,r.errorYOptions=null,r.textOptions=null,r.textSelectedOptions=null,r.textUnselectedOptions=null,r.selectBatch=null,r.unselectBatch=null,e._scene=null}),r.dirty||i.extendFlat(r,n),r}},84634:(t,e,r)=>{"use strict";var i=r(32758),n=r(27083).styleTextSelection;t.exports=function(t,e){var r=t.cd,a=[],o=r[0].trace,s=r[0].t,l=o._length,c=s.x,f=s.y,h=s._scene,p=s.index;if(!h)return a;var u=i.hasText(o),d=i.hasMarkers(o),g=!d&&!u;if(!0!==o.visible||g)return a;var y=[],v=[];if(!1!==e&&!e.degenerate)for(var x=0;x<l;x++)e.contains([s.xpx[x],s.ypx[x]],!1,x,t)?(y.push(x),a.push({pointNumber:x,x:c[x],y:f[x]})):v.push(x);if(d){var m=h.scatter2d;if(y.length||v.length){if(!h.selectBatch[p].length&&!h.unselectBatch[p].length){var w=new Array(h.count);w[p]=h.markerUnselectedOptions[p],m.update.apply(m,w)}}else{var b=new Array(h.count);b[p]=h.markerOptions[p],m.update.apply(m,b)}}return h.selectBatch[p]=y,h.unselectBatch[p]=v,u&&n(r),a}},31111:(t,e,r)=>{"use strict";const i=r(5369),n=r(70339),a=r(42492),o=r(89715),s=r(27418),l=r(38582),{float32:c,fract32:f}=r(4939);t.exports=function(t,e){if("function"==typeof t?(e||(e={}),e.regl=t):e=t,e.length&&(e.positions=e),!(t=e.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");let r,p,u,d,g,y,v=t._gl,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},m=[];return d=t.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),p=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),u=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=t.buffer({usage:"static",type:"float",data:h}),A(e),r=t({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:t.prop("range"),lineWidth:t.prop("lineWidth"),capSize:t.prop("capSize"),opacity:t.prop("opacity"),scale:t.prop("scale"),translate:t.prop("translate"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),viewport:(t,e)=>[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]},attributes:{color:{buffer:d,offset:(t,e)=>4*e.offset,divisor:1},position:{buffer:p,offset:(t,e)=>8*e.offset,divisor:1},positionFract:{buffer:u,offset:(t,e)=>8*e.offset,divisor:1},error:{buffer:g,offset:(t,e)=>16*e.offset,divisor:1},direction:{buffer:y,stride:24,offset:0},lineOffset:{buffer:y,stride:24,offset:8},capOffset:{buffer:y,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:!1,instances:t.prop("count"),count:h.length}),s(w,{update:A,draw:b,destroy:S,regl:t,gl:v,canvas:v.canvas,groups:m}),w;function w(t){t?A(t):null===t&&S(),b()}function b(e){if("number"==typeof e)return O(e);e&&!Array.isArray(e)&&(e=[e]),t._refresh(),m.forEach(((t,r)=>{t&&(e&&(e[r]?t.draw=!0:t.draw=!1),t.draw?O(r):t.draw=!0)}))}function O(t){"number"==typeof t&&(t=m[t]),null!=t&&t&&t.count&&t.color&&t.opacity&&t.positions&&t.positions.length>1&&(t.scaleRatio=[t.scale[0]*t.viewport.width,t.scale[1]*t.viewport.height],r(t),t.after&&t.after(t))}function A(t){if(!t)return;null!=t.length?"number"==typeof t[0]&&(t=[{positions:t}]):Array.isArray(t)||(t=[t]);let e=0,r=0;if(w.groups=m=t.map(((t,c)=>{let h=m[c];return t?("function"==typeof t?t={after:t}:"number"==typeof t[0]&&(t={positions:t}),t=o(t,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),h||(m[c]=h={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},t=s({},x,t)),a(h,t,[{lineWidth:t=>.5*+t,capSize:t=>.5*+t,opacity:parseFloat,errors:t=>(t=l(t),r+=t.length,t),positions:(t,r)=>(t=l(t,"float64"),r.count=Math.floor(t.length/2),r.bounds=i(t,2),r.offset=e,e+=r.count,t)},{color:(t,e)=>{let r=e.count;if(t||(t="transparent"),!Array.isArray(t)||"number"==typeof t[0]){let e=t;t=Array(r);for(let i=0;i<r;i++)t[i]=e}if(t.length<r)throw Error("Not enough colors");let i=new Uint8Array(4*r);for(let e=0;e<r;e++){let r=n(t[e],"uint8");i.set(r,4*e)}return i},range:(t,e,r)=>{let i=e.bounds;return t||(t=i),e.scale=[1/(t[2]-t[0]),1/(t[3]-t[1])],e.translate=[-t[0],-t[1]],e.scaleFract=f(e.scale),e.translateFract=f(e.translate),t},viewport:t=>{let e;return Array.isArray(t)?e={x:t[0],y:t[1],width:t[2]-t[0],height:t[3]-t[1]}:t?(e={x:t.x||t.left||0,y:t.y||t.top||0},t.right?e.width=t.right-e.x:e.width=t.w||t.width||0,t.bottom?e.height=t.bottom-e.y:e.height=t.h||t.height||0):e={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},e}}]),h):h})),e||r){let t=m.reduce(((t,e,r)=>t+(e?e.count:0)),0),e=new Float64Array(2*t),r=new Uint8Array(4*t),i=new Float32Array(4*t);m.forEach(((t,n)=>{if(!t)return;let{positions:a,count:o,offset:s,color:l,errors:c}=t;o&&(r.set(l,4*s),i.set(c,4*s),e.set(a,2*s))})),p(c(e)),u(f(e)),d(r),g(i)}}function S(){p.destroy(),u.destroy(),d.destroy(),g.destroy(),y.destroy()}};const h=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},86867:(t,e,r)=>{"use strict";var i=r(1161);t.exports=function(t,e,r){if(null==t)throw Error("First argument should be a string");if(null==e)throw Error("Separator should be a string or a RegExp");r?("string"==typeof r||Array.isArray(r))&&(r={ignore:r}):r={},null==r.escape&&(r.escape=!0),null==r.ignore?r.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:("string"==typeof r.ignore&&(r.ignore=[r.ignore]),r.ignore=r.ignore.map((function(t){return 1===t.length&&(t+=t),t})));var n=i.parse(t,{flat:!0,brackets:r.ignore}),a=n[0].split(e);if(r.escape){for(var o=[],s=0;s<a.length;s++){var l=a[s],c=a[s+1];"\\"===l[l.length-1]&&"\\"!==l[l.length-2]?(o.push(l+e+c),s++):o.push(l)}a=o}for(s=0;s<a.length;s++)n[0]=a[s],a[s]=i.stringify(n,{flat:!0});return a}},2793:t=>{var e=/[\'\"]/;t.exports=function(t){return t?(e.test(t.charAt(0))&&(t=t.substr(1)),e.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}}}]);
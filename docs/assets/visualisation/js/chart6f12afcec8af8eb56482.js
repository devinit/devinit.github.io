(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[1312],{71990:(t,e,i)=>{"use strict";t.exports=function(t,e){var i=t.gl,r=new p(t,s(i,f.vertex,f.fragment),s(i,f.fillVertex,f.fragment),o(i),o(i),o(i),o(i),o(i));return r.update(e),t.addObject(r),r};var r=i(16907),s=i(18057),o=i(28580),a=i(62861),n=i(86068),l=i(45589),h=i(66410),u=i(73076),f=i(22895);function p(t,e,i,r,s,o,a,n){this.plot=t,this.shader=e,this.fillShader=i,this.positionBuffer=r,this.colorBuffer=s,this.idBuffer=o,this.fillPositionBuffer=a,this.fillColorBuffer=n,this.fillVerts=0,this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.numVertices=0,this.lineWidth=1}var c,d,v=p.prototype,g=[1,0,0,0,0,1,1,0,1,1,0,1];function m(t,e){var i=Math.floor(e);if(i<0)return t[0];if(i>=t.length-1)return t[t.length-1];var r=e-i;return(1-r)*t[i]+r*t[i+1]}v.draw=(c=[1,0,0,0,1,0,0,0,1],d=[0,0],function(){var t,e,i=this.plot,r=this.shader,s=this.fillShader,o=this.bounds,a=this.numVertices,n=this.fillVerts,l=i.gl,h=i.viewBox,u=i.dataBox,f=o[2]-o[0],p=o[3]-o[1],v=u[2]-u[0],g=u[3]-u[1];if(c[0]=2*f/v,c[4]=2*p/g,c[6]=2*(o[0]-u[0])/v-1,c[7]=2*(o[1]-u[1])/g-1,d[0]=h[2]-h[0],d[1]=h[3]-h[1],n>0&&(s.bind(),(t=s.uniforms).viewTransform=c,t.screenShape=d,e=r.attributes,this.fillPositionBuffer.bind(),e.position.pointer(),this.fillColorBuffer.bind(),e.color.pointer(l.UNSIGNED_BYTE,!0),l.drawArrays(l.TRIANGLES,0,n)),a>0){r.bind();var m=this.lineWidth*i.pixelRatio;(t=r.uniforms).viewTransform=c,t.screenShape=d,t.lineWidth=m,t.pointSize=1e3,e=r.attributes,this.positionBuffer.bind(),e.position.pointer(l.FLOAT,!1,16,0),e.tangent.pointer(l.FLOAT,!1,16,8),this.colorBuffer.bind(),e.color.pointer(l.UNSIGNED_BYTE,!0),l.drawArrays(l.TRIANGLES,0,a),t.lineWidth=0,t.pointSize=m,this.positionBuffer.bind(),e.position.pointer(l.FLOAT,!1,48,0),e.tangent.pointer(l.FLOAT,!1,48,8),this.colorBuffer.bind(),e.color.pointer(l.UNSIGNED_BYTE,!0,12,0),l.drawArrays(l.POINTS,0,a/3)}}),v.drawPick=function(t){return t},v.pick=function(t,e,i){return null},v.update=function(t){var e=(t=t||{}).shape||[0,0],i=t.x||r(e[0]),s=t.y||r(e[1]),o=t.z||new Float32Array(e[0]*e[1]),f=t.levels||[],p=t.levelColors||[],c=this.bounds,d=c[0]=i[0],v=c[1]=s[0],x=c[2]=i[i.length-1],y=c[3]=s[s.length-1];d===x&&(c[2]+=1,x+=1),v===y&&(c[3]+=1,y+=1);var b=1/(x-d),w=1/(y-v);this.lineWidth=t.lineWidth||1;var B=a(o,e),O=[],A=[],M=[],T=[],k=[[0,0],[e[0]-1,0],[0,e[1]-1],[e[0]-1,e[1]-1]];function S(t,e,i,r){var s=r-i;return Math.abs(s)<1e-6?e:Math.floor(e)+Math.max(.001,Math.min(.999,(t-i)/s))}for(var N=0;N<f.length;++N){var C=f[N];if(!(N>0&&C===f[N-1])){for(var D=n(B,C),E=255*p[4*N]|0,I=255*p[4*N+1]|0,_=255*p[4*N+2]|0,F=255*p[4*N+3]|0,L=D.cells,z=D.positions,V=Array(z.length),U=0;U<V.length;++U)V[U]=0;for(U=0;U<L.length;++U){var G=L[U];V[G[0]]+=1,V[G[1]]+=1}for(U=0;U<V.length;++U){var P=V[U];if(0!==P){var R=z[U];if(V[U]=k.length,k.push(R),!(P>1)){var W,Y=R[0],j=R[1],q=B.get(Math.floor(Y),Math.floor(j)),H=B.get(Math.floor(Y),Math.ceil(j)),J=B.get(Math.ceil(Y),Math.floor(j)),K=B.get(Math.ceil(Y),Math.ceil(j));0===Math.floor(R[0])&&q<=C!=H<C?W=[0,S(C,R[1],q,H)]:Math.ceil(R[0])===e[0]-1&&J<=C!=K<C?W=[e[0]-1,S(C,R[1],J,K)]:0===Math.floor(R[1])&&q<=C!=J<C?W=[S(C,R[0],q,J),0]:Math.ceil(R[1])===e[1]-1&&H<=C!=K<C&&(W=[S(C,R[0],H,K),e[1]-1]),W&&(L.push([U,z.length]),V.push(k.length),z.push(W))}}}for(U=0;U<L.length;++U){var Q=L[U],X=z[Q[0]],Z=z[Q[1]];T.push([V[Q[0]],V[Q[1]]]);for(var $=Math.round(X[0])+e[0]*Math.round(X[1]),tt=m(i,X[0]),et=m(s,X[1]),it=m(i,Z[0]),rt=m(s,Z[1]),st=(tt=b*(tt-d))-(it=b*(it-d)),ot=(et=w*(et-v))-(rt=w*(rt-v)),at=0;at<g.length;at+=2){var nt=g[at],lt=1-nt,ht=2*g[at+1]-1;O.push(lt*tt+nt*it,lt*et+nt*rt,ht*st,ht*ot),A.push(E,I,_,F),M.push($)}}}}this.positionBuffer.update(new Float32Array(O)),this.colorBuffer.update(new Uint8Array(A)),this.idBuffer.update(new Uint32Array(M)),this.numVertices=M.length;var ut=t.fillColors,ft=[],pt=[],ct=0;if(ut){h(k,T);var dt=l(k,T,{delaunay:!1});for(N=0;N<dt.length;++N){var vt=dt[N],gt=0,mt=0;for(U=0;U<3;++U){var xt=k[vt[U]],yt=m(i,xt[0]),bt=m(s,xt[1]);gt+=xt[0],mt+=xt[1],pt.push(b*(yt-d),w*(bt-v))}gt/=3,mt/=3;var wt=Math.floor(gt),Bt=Math.floor(mt),Ot=gt-wt,At=mt-Bt,Mt=B.get(wt,Bt),Tt=B.get(wt,Bt+1),kt=(1-At)*((1-Ot)*Mt+Ot*B.get(wt+1,Bt))+At*((1-Ot)*Tt+Ot*B.get(wt+1,Bt+1)),St=u.le(f,kt)+1,Nt=255*ut[4*St+0]|0,Ct=255*ut[4*St+1]|0,Dt=255*ut[4*St+2]|0,Et=255*ut[4*St+3]|0;ft.push(Nt,Ct,Dt,Et,Nt,Ct,Dt,Et,Nt,Ct,Dt,Et),ct+=3}this.fillPositionBuffer.update(new Float32Array(pt)),this.fillColorBuffer.update(new Uint8Array(ft)),this.fillVerts=ct}},v.dispose=function(){this.plot.removeObject(this)}},22895:(t,e,i)=>{"use strict";var r=i(72645);t.exports={fragment:r("./shaders/fragment.glsl"),vertex:r("./shaders/vertex.glsl"),fillVertex:r("./shaders/fill-vertex.glsl")}},62319:(t,e,i)=>{"use strict";t.exports=function(t,e){var i=t.gl,r=new h(t,a(i,l.vertex,l.fragment),a(i,l.pickVertex,l.pickFragment),n(i),n(i),n(i),n(i));return r.update(e),t.addObject(r),r};var r=i(73076),s=i(16907),o=i(90316),a=i(18057),n=i(28580),l=i(54468);function h(t,e,i,r,s,o,a){this.plot=t,this.shader=e,this.pickShader=i,this.positionBuffer=r,this.weightBuffer=s,this.colorBuffer=o,this.idBuffer=a,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u,f=h.prototype,p=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=(u=[1,0,0,0,1,0,0,0,1],function(){var t=this.plot,e=this.shader,i=this.bounds,r=this.numVertices;if(!(r<=0)){var s=t.gl,o=t.dataBox,a=i[2]-i[0],n=i[3]-i[1],l=o[2]-o[0],h=o[3]-o[1];u[0]=2*a/l,u[4]=2*n/h,u[6]=2*(i[0]-o[0])/l-1,u[7]=2*(i[1]-o[1])/h-1,e.bind();var f=e.uniforms;f.viewTransform=u,f.shape=this.shape;var p=e.attributes;this.positionBuffer.bind(),p.position.pointer(),this.weightBuffer.bind(),p.weight.pointer(s.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),p.color.pointer(s.UNSIGNED_BYTE,!0),s.drawArrays(s.TRIANGLES,0,r)}}),f.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(i){var r=this.plot,s=this.pickShader,o=this.bounds,a=this.numVertices;if(!(a<=0)){var n=r.gl,l=r.dataBox,h=o[2]-o[0],u=o[3]-o[1],f=l[2]-l[0],p=l[3]-l[1];t[0]=2*h/f,t[4]=2*u/p,t[6]=2*(o[0]-l[0])/f-1,t[7]=2*(o[1]-l[1])/p-1;for(var c=0;c<4;++c)e[c]=i>>8*c&255;this.pickOffset=i,s.bind();var d=s.uniforms;d.viewTransform=t,d.pickOffset=e,d.shape=this.shape;var v=s.attributes;return this.positionBuffer.bind(),v.position.pointer(),this.weightBuffer.bind(),v.weight.pointer(n.UNSIGNED_BYTE,!1),this.idBuffer.bind(),v.pickId.pointer(n.UNSIGNED_BYTE,!1),n.drawArrays(n.TRIANGLES,0,a),i+this.shape[0]*this.shape[1]}}}(),f.pick=function(t,e,i){var r=this.pickOffset,s=this.shape[0]*this.shape[1];if(i<r||i>=r+s)return null;var o=i-r,a=this.xData,n=this.yData;return{object:this,pointId:o,dataCoord:[a[o%this.shape[0]],n[o/this.shape[0]|0]]}},f.update=function(t){var e=(t=t||{}).shape||[0,0],i=t.x||s(e[0]),a=t.y||s(e[1]),n=t.z||new Float32Array(e[0]*e[1]);this.xData=i,this.yData=a;var l=t.colorLevels||[0],h=t.colorValues||[0,0,0,1],u=l.length,f=this.bounds,c=f[0]=i[0],d=f[1]=a[0],v=1/((f[2]=i[i.length-1])-c),g=1/((f[3]=a[a.length-1])-d),m=e[0],x=e[1];this.shape=[m,x];var y=(m-1)*(x-1)*(p.length>>>1);this.numVertices=y;for(var b=o.mallocUint8(4*y),w=o.mallocFloat32(2*y),B=o.mallocUint8(2*y),O=o.mallocUint32(y),A=0,M=0;M<x-1;++M)for(var T=g*(a[M]-d),k=g*(a[M+1]-d),S=0;S<m-1;++S)for(var N=v*(i[S]-c),C=v*(i[S+1]-c),D=0;D<p.length;D+=2){var E,I,_,F,L=p[D],z=p[D+1],V=n[(M+z)*m+(S+L)],U=r.le(l,V);if(U<0)E=h[0],I=h[1],_=h[2],F=h[3];else if(U===u-1)E=h[4*u-4],I=h[4*u-3],_=h[4*u-2],F=h[4*u-1];else{var G=(V-l[U])/(l[U+1]-l[U]),P=1-G,R=4*U,W=4*(U+1);E=P*h[R]+G*h[W],I=P*h[R+1]+G*h[W+1],_=P*h[R+2]+G*h[W+2],F=P*h[R+3]+G*h[W+3]}b[4*A]=255*E,b[4*A+1]=255*I,b[4*A+2]=255*_,b[4*A+3]=255*F,w[2*A]=.5*N+.5*C,w[2*A+1]=.5*T+.5*k,B[2*A]=L,B[2*A+1]=z,O[A]=M*m+S,A+=1}this.positionBuffer.update(w),this.weightBuffer.update(B),this.colorBuffer.update(b),this.idBuffer.update(O),o.free(w),o.free(b),o.free(B),o.free(O)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},54468:(t,e,i)=>{"use strict";var r=i(72645);t.exports={fragment:r("./shaders/fragment.glsl"),vertex:r("./shaders/vertex.glsl"),pickFragment:r("./shaders/pick-fragment.glsl"),pickVertex:r("./shaders/pick-vertex.glsl")}},91312:(t,e,i)=>{"use strict";t.exports=i(31871)},16691:(t,e,i)=>{"use strict";var r=i(35924),s=i(61970),o=i(57597),a=o.addOpacity,n=o.opacity,l=i(59929),h=l.CONSTRAINT_REDUCTION,u=l.COMPARISON_OPS2;t.exports=function(t,e,i,o,l,f){var p,c,d,v=e.contours,g=i("contours.operation");v._operation=h[g],function(t,e){var i;-1===u.indexOf(e.operation)?(t("contours.value",[0,1]),Array.isArray(e.value)?e.value.length>2?e.value=e.value.slice(2):0===e.length?e.value=[0,1]:e.length<2?(i=parseFloat(e.value[0]),e.value=[i,i+1]):e.value=[parseFloat(e.value[0]),parseFloat(e.value[1])]:r(e.value)&&(i=parseFloat(e.value),e.value=[i,i+1])):(t("contours.value",0),r(e.value)||(Array.isArray(e.value)?e.value=parseFloat(e.value[0]):e.value=0))}(i,v),"="===g?p=v.showlines=!0:(p=i("contours.showlines"),d=i("fillcolor",a((t.line||{}).color||l,.5))),p&&(c=i("line.color",d&&n(d)?a(e.fillcolor,1):l),i("line.width",2),i("line.dash")),i("line.smoothing"),s(i,o,c,f)}},57062:(t,e,i)=>{"use strict";var r=i(34141),s=i(89945),o=i(16691),a=i(48484),n=i(15694),l=i(95221);t.exports=function(t,e,i,h){function u(i,s){return r.coerce(t,e,l,i,s)}if(s(t,e,u,h)){u("text"),u("hovertext"),u("hovertemplate"),u("hoverongaps");var f="constraint"===u("contours.type");u("connectgaps",r.isArray1D(e.z)),f?o(t,e,u,h,i):(a(t,e,u,(function(i){return r.coerce2(t,e,l,i)})),n(t,e,u,h))}else e.visible=!1}},9737:(t,e,i)=>{"use strict";var r=i(71990),s=i(62319),o=i(34682),a=i(60896),n=i(59993);function l(t,e){this.scene=t,this.uid=e,this.type="contourgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.contourOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],levels:[0],levelColors:[0,0,0,1],lineWidth:1},this.contour=r(t.glplot,this.contourOptions),this.contour._trace=this,this.heatmapOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,0]},this.heatmap=s(t.glplot,this.heatmapOptions),this.heatmap._trace=this}var h=l.prototype;function u(t,e){for(var i=t.contours,r=i.start,s=i.end,o=i.size||1,l=e.fill,h=a(t),u=Math.floor((s-r)/o)+(l?2:1),f=new Array(u),p=new Array(4*u),c=0;c<u;c++)for(var d=f[c]=r+o*c-(l?o/2:0),v=n(h(d)),g=0;g<4;g++)p[4*c+g]=v[g];return{levels:f,levelColors:p}}h.handlePick=function(t){var e=this.heatmapOptions,i=e.shape,r=t.pointId,s=r%i[0],o=Math.floor(r/i[0]),a=r;return{trace:this,dataCoord:t.dataCoord,traceCoord:[e.x[s],e.y[o],e.z[a]],textLabel:this.textLabels[r],name:this.name,pointIndex:[o,s],hoverinfo:this.hoverinfo}},h.update=function(t,e){var i=e[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var r,s=i.z,a=s[0].length,n=s.length;this.contourOptions.z=function(t,e,i){for(var r=new Float32Array(e*i),s=0,o=0;o<e;o++)for(var a=0;a<i;a++)r[s++]=t[a][o];return r}(s,a,n),this.heatmapOptions.z=[].concat.apply([],s),this.contourOptions.shape=this.heatmapOptions.shape=[a,n],this.contourOptions.x=this.heatmapOptions.x=i.x,this.contourOptions.y=this.heatmapOptions.y=i.y,"fill"===t.contours.coloring?(r=u(t,{fill:!0}),this.contourOptions.levels=r.levels.slice(1),this.contourOptions.fillColors=r.levelColors,this.contourOptions.levelColors=[].concat.apply([],this.contourOptions.levels.map((function(){return[.25,.25,.25,1]})))):(r=u(t,{fill:!1}),this.contourOptions.levels=r.levels,this.contourOptions.levelColors=r.levelColors),this.textLabels=[].concat.apply([],t.text),this.contour.update(this.contourOptions),this.heatmap.update(this.heatmapOptions);var l=this.scene.xaxis,h=this.scene.yaxis;t._extremes[l._id]=o.findExtremes(l,i.x),t._extremes[h._id]=o.findExtremes(h,i.y)},h.dispose=function(){this.contour.dispose(),this.heatmap.dispose()},t.exports=function(t,e,i){var r=new l(t,e.uid);return r.update(e,i),r}},31871:(t,e,i)=>{"use strict";var r=i(15716).overrideAll;t.exports={attributes:r(i(95221),"calc","nested"),supplyDefaults:i(57062),colorbar:i(17743),calc:i(70908),plot:i(9737),moduleType:"trace",name:"contourgl",basePlotModule:i(22515),categories:["gl","gl2d","2dMap"],meta:{description:["WebGL contour (beta)"].join(" ")}}},89945:(t,e,i)=>{"use strict";var r=i(35924),s=i(34141),o=i(97997);function a(t,e){var i=e(t);return"scaled"===(i?e(t+"type","array"):"scaled")&&(e(t+"0"),e("d"+t)),i}t.exports=function(t,e,i,n,l,h){var u,f,p=i("z");if(l=l||"x",h=h||"y",void 0===p||!p.length)return 0;if(s.isArray1D(t.z)){u=i(l),f=i(h);var c=s.minRowLength(u),d=s.minRowLength(f);if(0===c||0===d)return 0;e._length=Math.min(c,d,p.length)}else{if(u=a(l,i),f=a(h,i),!function(t){for(var e,i=!0,o=!1,a=!1,n=0;n<t.length;n++){if(e=t[n],!s.isArrayOrTypedArray(e)){i=!1;break}e.length>0&&(o=!0);for(var l=0;l<e.length;l++)if(r(e[l])){a=!0;break}}return i&&o&&a}(p))return 0;i("transpose"),e._length=null}return o.getComponentMethod("calendars","handleTraceDefaults")(t,e,[l,h],n),!0}}}]);
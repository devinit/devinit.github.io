(self.webpackChunkdi_website=self.webpackChunkdi_website||[]).push([[7839,9309,8827],{60526:(e,t,r)=>{"use strict";e.exports=r(47097)},94511:(e,t,r)=>{"use strict";var a=r(45020).BADNUM;t.calcTraceToLineCoords=function(e){for(var t=e[0].trace.connectgaps,r=[],o=[],n=0;n<e.length;n++){var i=e[n].lonlat;i[0]!==a?o.push(i):!t&&o.length>0&&(r.push(o),o=[])}return o.length>0&&r.push(o),r},t.makeLine=function(e){return 1===e.length?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e}},t.makePolygon=function(e){if(1===e.length)return{type:"Polygon",coordinates:e};for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=[e[r]];return{type:"MultiPolygon",coordinates:t}},t.makeBlank=function(){return{type:"Point",coordinates:[]}}},72910:(e,t,r)=>{"use strict";var a=r(94867).extendFlat;t.Y=function(e,t){t=t||{};var r={valType:"info_array",role:"info",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},o=e.name?e.name+" ":"",n=e.trace?"trace ":"subplot ",i=t.description?" "+t.description:"",l={x:a({},r,{description:["Sets the horizontal domain of this ",o,n,"(in plot fraction).",i].join("")}),y:a({},r,{description:["Sets the vertical domain of this ",o,n,"(in plot fraction).",i].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",o,n,".",i].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",o,n,".",i].join("")}),l},t.c=function(e,t,r,a){var o=a&&a.x||[0,1],n=a&&a.y||[0,1],i=t.grid;if(i){var l=r("domain.column");void 0!==l&&(l<i.columns?o=i._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<i.rows?n=i._domains.y[s]:delete e.domain.row)}var c=r("domain.x",o),p=r("domain.y",n);c[0]<c[1]||(e.domain.x=o.slice()),p[0]<p[1]||(e.domain.y=n.slice())}},96357:(e,t,r)=>{"use strict";var a=r(34141),o=r(18882),n=r(72910).c;e.exports=function(e,t,r,i){var l,s,c=i.type,p=i.attributes,d=i.handleDefaults,u=i.partition||"x",f=t._subplots[c],m=f.length,y=m&&f[0].replace(/\d+$/,"");function h(e,t){return a.coerce(l,s,p,e,t)}for(var x=0;x<m;x++){var v=f[x];l=e[v]?e[v]:e[v]={},s=o.newContainer(t,v,y),h("uirevision",t.uirevision);var g={};g[u]=[x/m,(x+1)/m],n(s,t,h,g),i.id=v,d(l,s,h,i)}}},77503:(e,t,r)=>{"use strict";var a=r(34141);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.texttemplate,e,"txt"),a.mergeArray(t.hovertext,e,"htx"),a.mergeArray(t.customdata,e,"data"),a.mergeArray(t.textposition,e,"tp"),t.textfont&&(a.mergeArrayCastPositive(t.textfont.size,e,"ts"),a.mergeArray(t.textfont.color,e,"tc"),a.mergeArray(t.textfont.family,e,"tf"));var o=t.marker;if(o){a.mergeArrayCastPositive(o.size,e,"ms"),a.mergeArrayCastPositive(o.opacity,e,"mo"),a.mergeArray(o.symbol,e,"mx"),a.mergeArray(o.color,e,"mc");var n=o.line;o.line&&(a.mergeArray(n.color,e,"mlc"),a.mergeArrayCastPositive(n.width,e,"mlw"));var i=o.gradient;i&&"none"!==i.type&&(a.mergeArray(i.type,e,"mgt"),a.mergeArray(i.color,e,"mgc"))}}},52006:(e,t,r)=>{"use strict";var a=r(35924),o=r(34141),n=r(34682),i=r(45020).BADNUM,l=r(32758),s=r(39764),c=r(77503),p=r(12356);function d(e,t,r,a,o,i,s){var c=t._length,p=e._fullLayout,d=r._id,u=a._id,f=p._firstScatter[m(t)]===t.uid,h=(y(t,p,r,a)||{}).orientation,x=t.fill;r._minDtick=0,a._minDtick=0;var v={padded:!0},g={padded:!0};s&&(v.ppad=g.ppad=s);var k=c<2||o[0]!==o[c-1]||i[0]!==i[c-1];k&&("tozerox"===x||"tonextx"===x&&(f||"h"===h))?v.tozero=!0:(t.error_y||{}).visible||"tonexty"!==x&&"tozeroy"!==x&&(l.hasMarkers(t)||l.hasText(t))||(v.padded=!1,v.ppad=0),k&&("tozeroy"===x||"tonexty"===x&&(f||"v"===h))?g.tozero=!0:"tonextx"!==x&&"tozerox"!==x||(g.padded=!1),d&&(t._extremes[d]=n.findExtremes(r,o,v)),u&&(t._extremes[u]=n.findExtremes(a,i,g))}function u(e,t){if(l.hasMarkers(e)){var r,a=e.marker,i=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/i),3)}:function(e){return Math.max((e||0)/i,3)},o.isArrayOrTypedArray(a.size)){var s={type:"linear"};n.setConvert(s);for(var c=s.makeCalcdata(e.marker,"size"),p=new Array(t),d=0;d<t;d++)p[d]=r(c[d]);return p}return r(a.size)}}function f(e,t){var r=m(t),a=e._firstScatter;a[r]||(a[r]=t.uid)}function m(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function y(e,t,r,a){var o=e.stackgroup;if(o){var n=t._scatterStackOpts[r._id+a._id][o],i="v"===n.orientation?a:r;return"linear"===i.type||"log"===i.type?n:void 0}}e.exports={calc:function(e,t){var r,l,m,h,x,v,g=e._fullLayout,k=n.getFromId(e,t.xaxis||"x"),A=n.getFromId(e,t.yaxis||"y"),b=k.makeCalcdata(t,"x"),T=A.makeCalcdata(t,"y"),L=t._length,_=new Array(L),S=t.ids,M=y(t,g,k,A),j=!1;f(g,t);var w,z="x",O="y";for(M?(o.pushUnique(M.traceIndices,t._expandedIndex),(r="v"===M.orientation)?(O="s",w="x"):(z="s",w="y"),x="interpolate"===M.stackgaps):d(e,t,k,A,b,T,u(t,L)),l=0;l<L;l++){var C=_[l]={},P=a(b[l]),D=a(T[l]);P&&D?(C[z]=b[l],C[O]=T[l]):M&&(r?P:D)?(C[w]=r?b[l]:T[l],C.gap=!0,x?(C.s=i,j=!0):C.s=0):C[z]=C[O]=i,S&&(C.id=String(S[l]))}if(c(_,t),s(e,t),p(_,t),M){for(l=0;l<_.length;)_[l][w]===i?_.splice(l,1):l++;if(o.sort(_,(function(e,t){return e[w]-t[w]||e.i-t.i})),j){for(l=0;l<_.length-1&&_[l].gap;)l++;for((v=_[l].s)||(v=_[l].s=0),m=0;m<l;m++)_[m].s=v;for(h=_.length-1;h>l&&_[h].gap;)h--;for(v=_[h].s,m=_.length-1;m>h;m--)_[m].s=v;for(;l<h;)if(_[++l].gap){for(m=l+1;_[m].gap;)m++;for(var N=_[l-1][w],I=_[l-1].s,B=(_[m].s-I)/(_[m][w]-N);l<m;)_[l].s=I+(_[l][w]-N)*B,l++}}}return _},calcMarkerSize:u,calcAxisExpansion:d,setFirstScatter:f,getStackOpts:y}},12356:(e,t,r)=>{"use strict";var a=r(34141);e.exports=function(e,t){a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(e,t)}},39764:(e,t,r)=>{"use strict";var a=r(88003).hasColorscale,o=r(90336),n=r(32758);e.exports=function(e,t){n.hasLines(t)&&a(t,"line")&&o(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(t)&&(a(t,"marker")&&o(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&o(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},74652:(e,t,r)=>{"use strict";var a=r(57597),o=r(34141).isArrayOrTypedArray;e.exports=function(e,t,r,n){var i=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!o(l)?i=l:s&&!o(s)&&(i=s)}n("fillcolor",a.addOpacity((t.line||{}).color||i||r,.5))}},11883:(e,t,r)=>{"use strict";var a=r(57597),o=r(32758);e.exports=function(e,t){var r,n;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var i=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(n=i&&a.opacity(i)?i:l&&a.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(n)<.3?a.addOpacity(n,.3):n:(r=(e.line||{}).color)&&a.opacity(r)&&o.hasLines(e)&&e.line.width?r:e.fillcolor}},43342:(e,t,r)=>{"use strict";var a=r(34141).isArrayOrTypedArray,o=r(88003).hasColorscale,n=r(62252);e.exports=function(e,t,r,i,l,s){var c=(e.marker||{}).color;l("line.color",r),o(e,"line")?n(e,t,i,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(c)&&c||r),l("line.width"),(s||{}).noDash||l("line.dash")}},62280:e=>{"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},93327:(e,t,r)=>{"use strict";var a=r(57597),o=r(88003).hasColorscale,n=r(62252),i=r(32758);e.exports=function(e,t,r,l,s,c){var p=i.isBubble(e),d=(e.line||{}).color;c=c||{},d&&(r=d),s("marker.symbol"),s("marker.opacity",p?.7:1),s("marker.size"),s("marker.color",r),o(e,"marker")&&n(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&t.marker.color!==d?d:p?a.background:a.defaultLine),o(e,"marker.line")&&n(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",p?1:0)),p&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},5049:(e,t,r)=>{"use strict";var a=r(15078),o=r(84474),n=r(97997);function i(e,t,r){o.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){o.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e){var t=a.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){i(a.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){l(a.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(o.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),n.getComponentMethod("errorbars","style")(t)},stylePoints:i,styleText:l,styleOnSelect:function(e,t,r){var a=t[0].trace;a.selectedpoints?(o.selectedPointStyle(r.selectAll("path.point"),a),o.selectedTextStyle(r.selectAll("text"),a)):(i(r,a,e),l(r,a,e))}}},28509:(e,t,r)=>{"use strict";var a=r(34141);e.exports=function(e,t,r,o,n){n=n||{},o("textposition"),a.coerceFont(o,"textfont",r.font),n.noSelect||(o("selected.textfont.color"),o("unselected.textfont.color"))}},89068:(e,t,r)=>{"use strict";var a=r(35924),o=r(45020).BADNUM,n=r(39764),i=r(77503),l=r(12356),s=r(34141)._;function c(e){return e&&"string"==typeof e}e.exports=function(e,t){var r,p=Array.isArray(t.locations),d=p?t.locations.length:t._length,u=new Array(d);r=t.geojson?function(e){return c(e)||a(e)}:c;for(var f=0;f<d;f++){var m=u[f]={};if(p){var y=t.locations[f];m.loc=r(y)?y:null}else{var h=t.lon[f],x=t.lat[f];a(h)&&a(x)?m.lonlat=[+h,+x]:m.lonlat=[o,o]}}return i(u,t),n(e,t),l(u,t),d&&(u[0].t={labels:{lat:s(e,"lat:")+" ",lon:s(e,"lon:")+" "}}),u}},81429:(e,t,r)=>{"use strict";var a=r(34141),o=r(32758),n=r(93327),i=r(43342),l=r(28509),s=r(74652),c=r(15845);e.exports=function(e,t,r,p){function d(r,o){return a.coerce(e,t,c,r,o)}var u,f=d("locations");if(f&&f.length){var m,y=d("geojson");("string"==typeof y&&""!==y||a.isPlainObject(y))&&(m="geojson-id"),"geojson-id"===d("locationmode",m)&&d("featureidkey"),u=f.length}else{var h=d("lon")||[],x=d("lat")||[];u=Math.min(h.length,x.length)}u?(t._length=u,d("text"),d("hovertext"),d("hovertemplate"),d("mode"),o.hasLines(t)&&(i(e,t,r,p,d),d("connectgaps")),o.hasMarkers(t)&&n(e,t,r,p,d,{gradient:!0}),o.hasText(t)&&(d("texttemplate"),l(e,t,p,d)),d("fill"),"none"!==t.fill&&s(e,t,r,d),a.coerceSelectionMarkerOpacity(t,d)):t.visible=!1}},8836:e=>{"use strict";e.exports=function(e,t,r,a,o){e.lon=t.lon,e.lat=t.lat,e.location=t.loc?t.loc:null;var n=a[o];return n.fIn&&n.fIn.properties&&(e.properties=n.fIn.properties),e}},42907:(e,t,r)=>{"use strict";var a=r(34682);e.exports=function(e,t,r){var o={},n=r[t.geo]._subplot.mockAxis,i=e.lonlat;return o.lonLabel=a.tickText(n,n.c2l(i[0]),!0).text,o.latLabel=a.tickText(n,n.c2l(i[1]),!0).text,o}},58718:(e,t,r)=>{"use strict";var a=r(87529),o=r(45020).BADNUM,n=r(11883),i=r(34141).fillText,l=r(15845);e.exports=function(e,t,r){var s=e.cd,c=s[0].trace,p=e.xa,d=e.ya,u=e.subplot,f=u.projection.isLonLatOverEdges,m=u.project;if(a.getClosest(s,(function(e){var a=e.lonlat;if(a[0]===o)return 1/0;if(f(a))return 1/0;var n=m(a),i=m([t,r]),l=Math.abs(n[0]-i[0]),s=Math.abs(n[1]-i[1]),c=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(l*l+s*s)-c,1-3/c)}),e),!1!==e.index){var y=s[e.index],h=y.lonlat,x=[p.c2p(h),d.c2p(h)],v=y.mrc||1;e.x0=x[0]-v,e.x1=x[0]+v,e.y0=x[1]-v,e.y1=x[1]+v,e.loc=y.loc,e.lon=h[0],e.lat=h[1];var g={};g[c.geo]={_subplot:u};var k=c._module.formatLabels(y,c,g);return e.lonLabel=k.lonLabel,e.latLabel=k.latLabel,e.color=n(c,y),e.extraText=function(e,t,r,a){if(!e.hovertemplate){var o=t.hi||e.hoverinfo,n="all"===o?l.hoverinfo.flags:o.split("+"),s=-1!==n.indexOf("location")&&Array.isArray(e.locations),c=-1!==n.indexOf("lon"),p=-1!==n.indexOf("lat"),d=-1!==n.indexOf("text"),u=[];return s?u.push(t.loc):c&&p?u.push("("+f(r.lonLabel)+", "+f(r.latLabel)+")"):c?u.push(a.lon+f(r.lonLabel)):p&&u.push(a.lat+f(r.latLabel)),d&&i(t,e,u),u.join("<br>")}function f(e){return e+"Â°"}}(c,y,e,s[0].t.labels),e.hovertemplate=c.hovertemplate,[e]}}},47097:(e,t,r)=>{"use strict";e.exports={attributes:r(15845),supplyDefaults:r(81429),colorbar:r(62280),formatLabels:r(42907),calc:r(89068),calcGeoJSON:r(5624).calcGeoJSON,plot:r(5624).plot,style:r(39396),styleOnSelect:r(5049).styleOnSelect,hoverPoints:r(58718),eventData:r(8836),selectPoints:r(55444),moduleType:"trace",name:"scattergeo",basePlotModule:r(42483),categories:["geo","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_geo",description:["The data visualized as scatter point or lines on a geographic map","is provided either by longitude/latitude pairs in `lon` and `lat`","respectively or by geographic location IDs or names in `locations`."].join(" ")}}},5624:(e,t,r)=>{"use strict";var a=r(15078),o=r(34141),n=r(27653).getTopojsonFeatures,i=r(94511),l=r(94187),s=r(5816).findExtremes,c=r(45020).BADNUM,p=r(52006).calcMarkerSize,d=r(32758),u=r(39396);e.exports={calcGeoJSON:function(e,t){var r,a,o=e[0].trace,i=t[o.geo],d=i._subplot,u=o._length;if(Array.isArray(o.locations)){var f=o.locationmode,m="geojson-id"===f?l.extractTraceFeature(e):n(o,d.topojson);for(r=0;r<u;r++){a=e[r];var y="geojson-id"===f?a.fOut:l.locationToFeature(f,a.loc,m);a.lonlat=y?y.properties.ct:[c,c]}}var h,x,v={padded:!0};if("geojson"===i.fitbounds&&"geojson-id"===o.locationmode){var g=l.computeBbox(l.getTraceGeojson(o));h=[g[0],g[2]],x=[g[1],g[3]]}else{for(h=new Array(u),x=new Array(u),r=0;r<u;r++)a=e[r],h[r]=a.lonlat[0],x[r]=a.lonlat[1];v.ppad=p(o,u)}o._extremes.lon=s(i.lonaxis._ax,h,v),o._extremes.lat=s(i.lataxis._ax,x,v)},plot:function(e,t,r){var n=t.layers.frontplot.select(".scatterlayer"),l=o.makeTraceGroups(n,r,"trace scattergeo");function s(e,t){e.lonlat[0]===c&&a.select(t).remove()}l.selectAll("*").remove(),l.each((function(t){var r=a.select(this),n=t[0].trace;if(d.hasLines(n)||"none"!==n.fill){var l=i.calcTraceToLineCoords(t),c="none"!==n.fill?i.makePolygon(l):i.makeLine(l);r.selectAll("path.js-line").data([{geojson:c,trace:n}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}d.hasMarkers(n)&&r.selectAll("path.point").data(o.identity).enter().append("path").classed("point",!0).each((function(e){s(e,this)})),d.hasText(n)&&r.selectAll("g").data(o.identity).enter().append("g").append("text").each((function(e){s(e,this)})),u(e,t)}))}}},55444:(e,t,r)=>{"use strict";var a=r(32758),o=r(45020).BADNUM;e.exports=function(e,t){var r,n,i,l,s,c=e.cd,p=e.xaxis,d=e.yaxis,u=[],f=c[0].trace;if(!a.hasMarkers(f)&&!a.hasText(f))return[];if(!1===t)for(s=0;s<c.length;s++)c[s].selected=0;else for(s=0;s<c.length;s++)(n=(r=c[s]).lonlat)[0]!==o&&(i=p.c2p(n),l=d.c2p(n),t.contains([i,l],null,s,e)?(u.push({pointNumber:s,lon:n[0],lat:n[1]}),r.selected=1):r.selected=0);return u}},39396:(e,t,r)=>{"use strict";var a=r(15078),o=r(84474),n=r(57597),i=r(5049),l=i.stylePoints,s=i.styleText;e.exports=function(e,t){t&&function(e,t){var r=t[0].trace,i=t[0].node3;i.style("opacity",t[0].trace.opacity),l(i,r,e),s(i,r,e),i.selectAll("path.js-line").style("fill","none").each((function(e){var t=a.select(this),r=e.trace,i=r.line||{};t.call(n.stroke,i.color).call(o.dashLine,i.dash||"",i.width||0),"none"!==r.fill&&t.call(n.fill,r.fillcolor)}))}(e,t)}}}]);